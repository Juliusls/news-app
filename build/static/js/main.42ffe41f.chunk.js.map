{"version":3,"sources":["components/Navigation/SearchField.js","data/data.js","components/Navigation/LeftSideMenu.js","services/loginReader.js","reducers/loginReaderReducer.js","services/loginWriter.js","reducers/loginWriterReducer.js","reducers/notificationReducer.js","components/Navigation/Navbar.js","services/articles.js","reducers/articlesReducer.js","services/readers.js","reducers/readersReducer.js","services/writers.js","reducers/writersReducer.js","components/ArticlesList/DialogBoxToLogIn.js","components/ArticlesList/DialogBoxToAddFunds.js","components/ArticlesList/ArticleCard.js","components/ArticlesList/ArticlesFilter.js","components/ArticlesList/ArticlesList.js","components/ArticlePage/Comments.js","components/ArticlePage/ArticlePage.js","components/SubscriptionPlans.js","components/WriterPage/WriterPage.js","services/writerImages.js","reducers/writerImagesReducer.js","theme.js","components/UploadComponent.js","components/WriterAdminSection/WriterEntry/SignUpWriter.js","components/ReaderEntry/LoginReader.js","components/SnackBar.js","components/WriterAdminSection/WriterEntry/LoginWriter.js","services/readerImages.js","reducers/readerImagesReducer.js","components/ReaderEntry/SignUpReader.js","components/ReaderPage/AddFundsDialog.js","components/ReaderPage/ReaderTabs.js","components/ReaderPage/ReaderPage.js","components/AllWriters.js","components/WriterAdminSection/WritersPage/WritersDashboard.js","components/WriterAdminSection/WritersPage/ArticlesStatistics.js","components/WriterAdminSection/WritersPage/WritersFollowers.js","components/WriterAdminSection/WritersPage/WritersSubscribers.js","components/WriterAdminSection/WritersPage/WritersPrices.js","components/WriterAdminSection/WritersPage/WriterAdminPage.js","services/articleImages.js","reducers/articleImagesReducer.js","components/WriterAdminSection/NewArticle.js","services/subscriptions.js","services/readerRefresh.js","services/writerRefresh.js","App.js","store.js","index.js"],"names":["useStyles","makeStyles","theme","icons","fill","fontSize","label","color","SearchField","hisotry","useHistory","classes","useState","searchVisible","setSearchVisible","searchValue","setSearchValue","style","display","TextField","type","id","value","onChange","event","target","variant","onKeyPress","charCode","preventDefault","push","InputLabelProps","root","IconButton","onClick","className","newsCategories","sideMenuWriterSection","text","linkText","allCategories","concat","list","width","icon","drawerpadding","padding","listItemText","primary","palette","paper","background","lighter","paperAnchorDockedLeft","borderRight","drawerHeader","alignItems","main","justifyContent","spacing","marginTop","mixins","toolbar","divider","light","LeftSideMenu","leftSideMenuIsOpen","setLeftSideMenuIsOpenIsOpen","categories","useSelector","state","reader","Drawer","anchor","open","onClose","role","onKeyDown","List","map","textDecoration","to","ListItem","button","ListItemText","Divider","baseUrl","process","login","credentials","a","axios","post","response","data","addReader","newReader","dispatch","loginReaderService","loginReaderReducer","action","addWriter","newWriter","loginWriterService","writer","loginWriterReducer","initialState","message","messageType","notifySuccess","setTimeout","notifyError","notificationReducer","appbar","flexGrow","marginBottom","leftElement","flex","leftElementChild","marginRight","rightElement","rightElementChild","marginLeft","menuIcon","titleText","accountIcon","signUpButton","secondary","menuItem","linkNoDecoration","BigTooltip","withStyles","tooltip","backgroundColor","Tooltip","Navbar","useDispatch","history","readersImages","readerImages","writersImages","writerImages","useCookies","removeCookie","filteredReaderImage","length","filter","img","encodedReaderImage","btoa","Uint8Array","reduce","byte","String","fromCharCode","filteredWriterImage","encodedWriterImage","AppBar","position","Toolbar","aria-label","Typography","component","Link","TransitionComponent","Fade","TransitionProps","timeout","title","aria-controls","aria-haspopup","Skeleton","animation","Avatar","alt","src","path","Button","getAll","get","create","newArticle","update","updatedArticle","put","postComment","newComment","initArticles","articlesService","articles","createArticle","addViewToArticle","article","articleUpdated","views","addComment","commentator","savedComment","commentForDispatch","articlesReducer","comments","getOne","updatedReader","createSubscribtion","newSubscription","readerId","initReaders","readersService","readers","createReader","addFavoriteWriter","writerToAdd","readerToUpdate","funds","favoritewriters","favoritewriter","readerFromDb","console","log","readerForDispatch","removeFavoriteWriter","writerToRemove","addReaderFunds","fundsToAdd","substractReaderFunds","fundsToSubstract","removeSubsFromReaders","subsToRemove","readersReducer","subscriber","subscriptions","sub","includes","updatedWriter","initWriters","writersService","writers","createWriter","addReaderToFollowers","readerToAdd","writerToUpdate","followers","follower","writerFromDb","writerForDispatch","removeReaderFromFollowers","readerToRemove","addEarningsToWriter","earningsToAdd","earnings","updatePricing","newValues","writerToDispatch","addArticleToWriter","removeSubsFromWriters","writersReducer","oneArticlePrice","montlySubscriptionPrice","yearlySubscriptionPrice","author","myarticles","subscribers","DialogBoxToLogin","openLoginDialog","setOpenLoginDialog","handleSubmit","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","DialogBoxToAddFunds","openAddFundsDialog","setOpenAddFundsDialog","loggedInReader","price","gutterBottom","borderRadius","margin","media","height","textTitle","fontWeight","textauthor","paddingRight","cardInfoContainer","flexDirection","paddingTop","cardInfoCategories","cardContent","ArticleCard","images","articleImages","readerOne","filteredImage","base64","handleCardPress","paid","some","subscription","recipient","window","confirm","Card","CardActionArea","CardMedia","image","CardContent","firstName","lastName","genres","genre","posisioning","radioGroup","ArticlesFilter","setFilterValue","FormControl","fullWidth","RadioGroup","row","name","defaultValue","FormControlLabel","control","Radio","textAlign","textWithPadding","paddingBottom","ArticlesList","filterValue","useParams","searchResult","readersList","oneReader","readerFromList","readerFavorites","readerSubscriptions","articlesFiltered","allength","undefined","toLowerCase","articlesForList","Grid","container","justify","loginSignupText","categoryButton","accordion","accordionMargin","accordionLabel","rootBorder","borderStyle","borderWidth","borderColor","commentButton","inputColor","loginSignupContainer","lightGrey","commentForm","Comments","commentValue","setCommentValue","filteredArticle","comment","statusText","error","Accordion","AccordionSummary","expandIcon","AccordionDetails","AccordionActions","onSubmit","InputProps","size","userName","date","infoText","articleDiv","coverPhoto","ArticlePage","objectFit","marginottom","published","content","index","subscriptionOptionsContainer","subscriptionCard","minWidth","border","subText","cardButton","SubscriptionPlans","filteredWriter","matchingSub","handleSubscirbe","CardActions","endIcon","profileContaner","infoContainer","paddingLeft","subscribedCard","textTransform","genresList","textGenres","disabledButton","boxShadow","WriterPage","currentReader","isInFavotrites","writersSubs","readersSubs","suber","handleAddToFavorites","handleRemoveFromFavorites","alert","typeForSub","writerId","writerDescription","writerGenres","ButtonGroup","addToFavoritesButton","startDate","slice","endDate","newImage","initWriterImages","writerImagesService","addWriterImage","writerImagesReducer","createMuiTheme","middleGrey","hover","blueish","grey","baseStyle","outline","thumbsContainer","flexWrap","thumb","boxSizing","activeStyle","acceptStyle","rejectStyle","UploadComponent","setFieldValue","values","useDropzone","accept","onDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","thumbs","files","useMemo","loginText","item","maxWidth","form","paddings","priceContainer","priceItem","checkBoxMargins","initialValues","password","passwordConfirmation","validationSchema","yup","shape","min","max","required","moreThan","oneOf","WriterSignUpForm","validateUsername","errors","touched","handleChange","handleBlur","onBlur","Boolean","helperText","validate","multiline","formControl","FormGroup","categoryValue","CheckboxWithLabel","Label","SignUpWriter","FormData","append","imageFromDb","writerForFb","imageId","writerService","imageForDispatch","newUserName","LoginReaderForm","LoginReader","Alert","props","elevation","SnackBar","notification","Snackbar","anchorOrigin","vertical","horizontal","severity","LoginWriterForm","disabled","LoginWriter","idForLink","initReaderImages","readerImagesService","addReaderImage","readerImagesReducer","SignUpReaderForm","SignUpReader","readerforDb","AddFundsDialog","openDialog","setOpenDialog","fundsValue","setFundsValue","Number","isNumericString","listItem","TabPanel","children","other","hidden","Box","p","a11yProps","ListItemLink","ReaderTabs","setValue","handleRemove","favoriteWriter","Tabs","newValue","centered","Tab","startIcon","readerComments","balance","addFundsButton","ReaderPage","filteredReader","joined","AllWriters","imageComp","ListItemAvatar","ListItemSecondaryAction","card","minHeight","actionArea","opacity","focusHighlight","WritersDashboard","setComponentToOpen","totalViews","accumulator","currentValue","xs","table","StyledTableCell","head","body","TableCell","ArticlesStatistics","TableContainer","Paper","Table","TableHead","TableRow","align","TableBody","scope","WritersFollowers","WritersSubscribers","charAt","toUpperCase","cell","CustomTableCell","isEditMode","e","WritersPrices","setssEditMode","priceList","setSriceList","editMode","WriterAdminPage","loggedInWritter","componentToOpen","tabToOpen","initArticleImages","articleImagesService","addArticleImage","artcileImagesReducer","contentField","of","NewArticleForm","render","pop","paragraph","minusItem","NewArticle","itemForArticleDb","articleFromDb","deleteMany","array","delete","refreshReader","refreshWriter","App","useEffect","getAllArticles","getAllWriters","getAllReaders","getAllImages","getSubs","twoHours","subscriptionService","subs","currentTime","Date","now","subsToDelete","expirationDate","subsIds","idForService","readerRefreshServices","writerRefreshServices","setInterval","Container","exact","reducers","combineReducers","persistConfig","key","storage","blacklist","persistedReducer","persistReducer","configureStore","reducer","middleware","thunk","persistor","persistStore","store","ReactDOM","loading","CookiesProvider","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.42ffe41f.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { makeStyles, IconButton, TextField } from '@material-ui/core/'\nimport SearchIcon from '@material-ui/icons/Search'\n\nconst useStyles = makeStyles(theme => ({\n\ticons: {\n\t\tfill: theme.icons.fill,\n\t\tfontSize: theme.icons.fontSize\n\t},\n\tlabel: {\n\t\tcolor: 'white'\n\t},\n}))\n\nconst SearchField = () => {\n\tlet hisotry = useHistory()\n\tconst classes = useStyles()\n\tconst [searchVisible, setSearchVisible] = useState(false)\n\tconst [searchValue, setSearchValue] = useState('')\n\n\tconst handleSearchVisibility = () => {\n\t\tsetSearchVisible(!searchVisible)\n\t}\n\n\tconst onChangeSearch = event => {\n\t\tsetSearchValue(event.target.value)\n\t}\n\t\n\tconst handleSubmit = (event) => {\n\t\tif (event.charCode === 13) { \n\t\t\tevent.preventDefault()\n\t\t\tsetSearchVisible(false)\n\t\t\thisotry.push(`/search/${searchValue}`)\n\t\t\tsetSearchValue('')\n\t\t} \n\t}\n\n\treturn (\n\t\t<div style={{ display: 'inline-block' }}>\n\t\t\t<TextField\n\t\t\t\tlabel=\"Search\"\n\t\t\t\ttype=\"search\"\n\t\t\t\tid='searchInput'\n\t\t\t\tvalue={searchValue}\n\t\t\t\tonChange={onChangeSearch}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tonKeyPress={handleSubmit}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.label,\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tstyle={{ display: searchVisible ? 'inline-block' : 'none' }}\n\t\t\t/>\n\t\t\t\n\t\t\t<IconButton\n\t\t\t\tonClick={handleSearchVisibility}\n\t\t\t\tid='searchFieldButton'\n\t\t\t>\n\t\t\t\t<SearchIcon className={classes.icons}/>\n\t\t\t</IconButton>\n\t\t</div>\n\t)\n}\n\nexport default SearchField\n","export const newsCategories = ['Business', 'Cars', 'Entertainment', 'Family', 'Health', 'Politics', 'Religion', 'Science', 'Sport', 'Technology', 'Travel', 'World']\nconst loggedInReaderCategories = ['My Favorites', 'My Subscriptions']\nexport const sideMenuWriterSection = [\n\t{\n\t\ttext: 'Writer log in',\n\t\tlinkText: 'login'\n\t},\n\t{ \n\t\ttext: 'Become a writer',\n\t\tlinkText: 'signup'\n\t}\n]\nexport const allCategories = loggedInReaderCategories.concat(newsCategories)\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { makeStyles, Drawer, IconButton, List, ListItem, ListItemText, Divider } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport { allCategories, newsCategories, sideMenuWriterSection } from '../../data/data'\n\nconst useStyles = makeStyles(theme => ({\n\tlist: {\n\t\twidth: 250,\n\t},\n\ticon: {\n\t\tfontSize: theme.icons.fontSize,\n\t\tfill: theme.icons.fill\n\t},\n\tdrawerpadding: {\n\t\tpadding: 0,\n\t},\n\tlistItemText: {\n\t\tprimary: theme.palette.text.primary\n\t},\n\tpaper: {\n\t\tbackground: theme.palette.primary.lighter\n\t},\n\tpaperAnchorDockedLeft: {\n\t\tborderRight: 0\n\t},\n\tdrawerHeader: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tbackground: theme.palette.primary.main,\n\t\tjustifyContent: 'flex-start',\n\t\tpadding: theme.spacing(0, 1),\n\t\tmarginTop: '0',\n\t\t...theme.mixins.toolbar,\n\t},\n\tdivider: {\n\t\tbackground: theme.palette.primary.light\n\t}\n}))\n\nconst LeftSideMenu = ({ leftSideMenuIsOpen, setLeftSideMenuIsOpenIsOpen }) => {\n\tconst classes = useStyles()\n\tconst reader = useSelector(state => state.reader)\n\n\tconst categories = reader ? allCategories : newsCategories\n\n\tconst list = () => (\n\t\t<div\n\t\t\tclassName={classes.list}\n\t\t\trole=\"button\"\n\t\t\tonClick={() => setLeftSideMenuIsOpenIsOpen(false)}\n\t\t\tonKeyDown={() => setLeftSideMenuIsOpenIsOpen(false)}\n\t\t>\n\t\t\t<List className={classes.drawerpadding}>\n\t\t\t\t<div className={classes.drawerHeader}>\n\t\t\t\t\t<IconButton onClick={() => setLeftSideMenuIsOpenIsOpen(false)}>\n\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t{categories.map((text) => (\n\t\t\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} key={text} to={`/genres/${text}`}>\n\t\t\t\t\t\t<ListItem  button>\n\t\t\t\t\t\t\t<ListItemText primary={text} className={classes.listItemText}/>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t\t<Divider light classes={{ light: classes.divider }}/>\n\t\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} to='/allwriters'>\n\t\t\t\t\t<ListItem  button>\n\t\t\t\t\t\t<ListItemText primary='All Writers' className={classes.listItemText}/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t\t<Divider light classes={{ light: classes.divider }}/>\n\t\t\t\t{sideMenuWriterSection.map(value => (\n\t\t\t\t\t<Link style={{ textDecoration: 'none', color: 'grey' }} key={value.linkText} to={`/writerssection/${value.linkText}`}>\n\t\t\t\t\t\t<ListItem  button>\n\t\t\t\t\t\t\t<ListItemText primary={value.text} className={classes.listItemText}/>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t</List>\n\t\t</div>\n\t)\n\n\treturn (\n\t\t<Drawer\n\t\t\tclasses={{ paper: classes.paper, paperAnchorDockedLeft: classes.paperAnchorDockedLeft }}\n\t\t\tanchor=\"left\"\n\t\t\tvariant=\"persistent\"\n\t\t\topen={leftSideMenuIsOpen}\n\t\t\tonClose={() => setLeftSideMenuIsOpenIsOpen(false)}\n\t\t>\n\t\t\t{list('left')}\n\t\t</Drawer>\n\t)\n}\n\nexport default LeftSideMenu","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/reader/login`\n\nconst login = async credentials => {\n\tconst response = await axios.post(baseUrl, credentials)\n\treturn response.data\n}\n\nexport default { \n\tlogin \n}","import loginReaderService from '../services/loginReader'\n\nconst loginReaderReducer = (state = null, action) => {\n\tswitch(action.type) {\n\tcase 'ADD_READER':\n\t\treturn action.data\n\tcase 'REMOVE_READER':\n\t\treturn action.data\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const addReader = (newReader) => {\n\treturn async dispatch => {\n\t\tconst reader = await loginReaderService.login(newReader)\n\t\tdispatch ({\n\t\t\ttype: 'ADD_READER',\n\t\t\tdata: reader\n\t\t})\n\t}\n}\n\nexport const removeReader = () => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_READER',\n\t\t\tdata: null\n\t\t})\n\t}\n}\n\nexport default loginReaderReducer","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/writer/login`\n\nconst login = async credentials => {\n\tconst response = await axios.post(baseUrl, credentials)\n\treturn response.data\n}\n\nexport default { \n\tlogin \n}","import loginWriterService from '../services/loginWriter'\n\nconst loginWriterReducer = (state = null, action) => {\n\tswitch(action.type) {\n\tcase 'ADD_WRITER':\n\t\treturn action.data\n\tcase 'REMOVE_WRITER':\n\t\treturn action.data\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const addWriter = (newWriter) => {\n\treturn async dispatch => {\n\t\tconst writer = await loginWriterService.login(newWriter)\n\t\tdispatch ({\n\t\t\ttype: 'ADD_WRITER',\n\t\t\tdata: writer\n\t\t})\n\t}\n}\n\nexport const removeWriter = () => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_WRITER',\n\t\t\tdata: null\n\t\t})\n\t}\n}\n\nexport default loginWriterReducer","const initialState = {\n\topen: false,\n\tmessage: '',\n\tmessageType: ''\n}\n\nconst notificationReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\tcase 'NOTIFICATION':\n\t\treturn action.data\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const notifySuccess = (message) => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'NOTIFICATION',\n\t\t\tdata: { \n\t\t\t\topen: true,\n\t\t\t\tmessage,\n\t\t\t\tmessageType: 'success'\n\t\t\t}\n\t\t})\n\t\tsetTimeout(() => {\n\t\t\tdispatch({ \n\t\t\t\ttype: 'NOTIFICATION',\n\t\t\t\tdata: { \n\t\t\t\t\topen: false,\n\t\t\t\t\tmessage: '',\n\t\t\t\t\tmessageType: 'success'\n\t\t\t\t}\n\t\t\t})\n\t\t}, 6000)\n\t}\n}\n\nexport const notifyError = (message) => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'NOTIFICATION',\n\t\t\tdata: { \n\t\t\t\topen: true,\n\t\t\t\tmessage,\n\t\t\t\tmessageType: 'error'\n\t\t\t}\n\t\t})\n\t\tsetTimeout(() => {\n\t\t\tdispatch({ \n\t\t\t\ttype: 'NOTIFICATION',\n\t\t\t\tdata: { \n\t\t\t\t\topen: false,\n\t\t\t\t\tmessage: '',\n\t\t\t\t\tmessageType: 'error'\n\t\t\t\t}\n\t\t\t})\n\t\t}, 6000)\n\t}\n}\n\nexport default notificationReducer","import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useCookies } from 'react-cookie'\n\nimport { withStyles, makeStyles, Button, IconButton, Typography, Toolbar, AppBar, Tooltip, Fade, Avatar } from '@material-ui/core/'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport EditIcon from '@material-ui/icons/Edit'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\nimport SearchField from './SearchField'\nimport LeftSideMenu from './LeftSideMenu'\n\nimport { removeReader } from '../../reducers/loginReaderReducer'\nimport { removeWriter } from '../../reducers/loginWriterReducer'\nimport { notifySuccess } from '../../reducers/notificationReducer'\n\nconst useStyles = makeStyles(theme => ({\n\tappbar: {\n\t\tbackground: theme.primary,\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\tmarginBottom: 25\n\t},\n\tleftElement: {\n\t\tflex: 1,\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t},\n\tleftElementChild: {\n\t\tmarginRight: 'auto'\n\t},\n\trightElement: {\n\t\tflex: 1,\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t},\n\trightElementChild: {\n\t\tmarginLeft: 'auto'\n\t},\n\tmenuIcon: {\n\t\tfill: theme.icons.fill,\n\t\tfontSize: theme.icons.fontSize,\n\t},\n\ttitleText: {\n\t\ttextDecoration: 'none',\n\t\tcolor: 'inherit',\n\t},\n\tbutton: {\n\t\tmarginRight: 10\n\t},\n\taccountIcon: {\n\t\tfill: theme.icons.fill,\n\t\tfontSize: theme.icons.fontSize,\n\t},\n\tsignUpButton: {\n\t\tcolor: theme.palette.secondary\n\t},\n\tmenuItem: {\n\t\tcolor: theme.palette.text.secondary,\n\t},\n\tlinkNoDecoration: {\n\t\ttextDecoration: 'none',\n\t},\n\ttoolbar: theme.mixins.toolbar,\n}))\n\nconst BigTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tfontSize: 15,\n\t},\n}))(Tooltip)\n\nconst Navbar = () =>  {\n\tconst dispatch = useDispatch()\n\tconst history = useHistory()\n\tconst reader = useSelector(state => state.reader)\n\tconst writer = useSelector(state => state.writer)\n\tconst readersImages = useSelector(state => state.readerImages)\n\tconst writersImages = useSelector(state => state.writerImages)\n\tconst classes = useStyles()\n\tconst [leftSideMenuIsOpen, setLeftSideMenuIsOpenIsOpen] = useState(false)\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie', 'writerAuthCookie'])\n\n\tconst filteredReaderImage = reader && readersImages.length !== 0 && readersImages.filter(img => img.reader === reader.id)[0].img.data.data\n\tvar encodedReaderImage = btoa(new Uint8Array(filteredReaderImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\t\n\tconst filteredWriterImage = writer && writersImages.length !== 0 && writersImages.filter(img => img.writer === writer.id)[0].img.data.data\n\tvar encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tconst handleLeftSideMenuIsOpen = () => {\n\t\tsetLeftSideMenuIsOpenIsOpen(true)\n\t}\n\n\tconst handleReaderLogout = () => {\n\t\tdispatch(removeReader())\n\t\tdispatch(notifySuccess('Logged out successfully'))\n\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\thistory.push('/')\n\t}\n\t\n\tconst handleWriterLogout = () => {\n\t\tdispatch(removeWriter())\n\t\tdispatch(notifySuccess('Logged out successfully'))\n\t\tremoveCookie('writerAuthCookie', { path: '/' })\n\t\thistory.push('/')\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<LeftSideMenu leftSideMenuIsOpen={leftSideMenuIsOpen} setLeftSideMenuIsOpenIsOpen={setLeftSideMenuIsOpenIsOpen} />\n\t\t\t<AppBar position=\"fixed\" className={classes.appbar}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<div className={classes.leftElement}>\n\t\t\t\t\t\t<IconButton className={classes.leftElementChild} color=\"inherit\" id='leftSideMenuButton' aria-label=\"menu\" onClick={handleLeftSideMenuIsOpen} style={{ display: writer ? 'none' : 'block' }}>\n\t\t\t\t\t\t\t<MenuIcon className={classes.menuIcon} />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t\t{writer \n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.titleText}>\n\t\t\t\t\t\t\t\tNews App\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Typography component={ Link } to='/' variant=\"h6\" id='newsAppHome' className={classes.titleText}>\n\t\t\t\t\t\t\t\tNews App\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t{(reader && !writer) ? (\n\t\t\t\t\t\t<div className={classes.rightElement} >\n\t\t\t\t\t\t\t<div className={classes.rightElementChild}>\n\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Search\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<SearchField />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Profile\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\tclassName='readerProfileAvatarButton'\n\t\t\t\t\t\t\t\t\t\t\tcomponent={ Link }\n\t\t\t\t\t\t\t\t\t\t\tto={`/reader/profile/${reader.id}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{readersImages.length === 0\n\t\t\t\t\t\t\t\t\t\t\t\t? <Skeleton animation=\"wave\"><Avatar/></Skeleton>\n\t\t\t\t\t\t\t\t\t\t\t\t: <Avatar \n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Reader Profile Picture\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedReaderImage}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Log out\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\tclassName='readerLogoutButton'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleReaderLogout}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ExitToAppIcon className={classes.accountIcon}/>\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) :\n\t\t\t\t\t\t(writer && !reader) ? (\n\t\t\t\t\t\t\t<div className={classes.rightElement}>\n\t\t\t\t\t\t\t\t<div className={classes.rightElementChild}>\n\t\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Write an article\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={ Link }\n\t\t\t\t\t\t\t\t\t\t\t\tto='/writerssection/newarticle'\n\t\t\t\t\t\t\t\t\t\t\t\tid='newArticleIcon'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon className={classes.accountIcon} />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Profile\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={ Link }\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/writerssection/profile/${writer.id}`}\n\t\t\t\t\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t\t\t\t\t{writersImages.length === 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t? <Skeleton animation=\"wave\"><Avatar/></Skeleton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t: <Avatar \n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Writers Profile Picture\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedWriterImage}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Log out\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='writerLogoutButton'\n\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleWriterLogout}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ExitToAppIcon className={classes.accountIcon}/>\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t<div className={classes.rightElement}>\n\t\t\t\t\t\t\t\t\t<div className={classes.rightElementChild}>\n\t\t\t\t\t\t\t\t\t\t<SearchField />\n\t\t\t\t\t\t\t\t\t\t<Button color=\"inherit\" to='/reader/login' component={ Link } className={classes.button}>\n\t\t\t\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" to='/reader/signup' component={ Link } className={classes.signUpButton}>\n\t\t\t\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t\t<div className={classes.toolbar} />\n\t\t</div>\n\t)\n}\n\nexport default Navbar","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/articles`\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst create = async (newArticle) => {\n\tconst response = await axios.post(baseUrl, newArticle)\n\treturn response.data\n}\n\nconst update = async (updatedArticle, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, updatedArticle)\n\treturn response.data\n}\n\nconst postComment = async (newComment, id) => {\n\tconst response = await axios.post(`${baseUrl}/${id}/comments`, newComment)\n\treturn response.data\n}\n\nexport default { \n\tgetAll, \n\tcreate, \n\tupdate, \n\tpostComment\n}","import articlesService from '../services/articles'\n\nconst articlesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_ARTICLES':\n\t\treturn action.data\n\tcase 'CREATE_ARTICLE':\n\t\treturn [...state, action.data]\n\tcase 'ADD_VIEW_TO_ARTICLE':\n\t\treturn state.map(article => article.id === action.data ? { ...article, views: article.views + 1 } : article)\n\tcase 'ADD_COMMENT': {\n\t\treturn state.map(article => {\n\t\t\tif (article.id === action.data.article) {\n\t\t\t\treturn { ...article, comments: article.comments.concat(action.data) }\n\t\t\t}\n\t\t\treturn article\n\t\t})\n\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initArticles = () => {\n\treturn async dispatch => {\n\t\tconst articles = await articlesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_ARTICLES',\n\t\t\tdata: articles\n\t\t})\n\t}\n}\n\nexport const createArticle = (newArticle) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'CREATE_ARTICLE',\n\t\t\tdata: newArticle\n\t\t})\n\t}\n}\n\nexport const addViewToArticle = (article) => {\n\treturn async dispatch => {\n\t\tconst articleUpdated = { views: article.views + 1 }\n\t\tawait articlesService.update(articleUpdated, article.id)\n\t\tdispatch ({\n\t\t\ttype: 'ADD_VIEW_TO_ARTICLE',\n\t\t\tdata: article.id\n\t\t})\n\t}\n}\n\n\nexport const addComment = (newComment, id, commentator) => {\n\treturn async dispatch => {\n\t\tconst savedComment = await articlesService.postComment(newComment, id)\n\t\tconst commentForDispatch = { ...savedComment, commentator: commentator }\n\t\tdispatch ({\n\t\t\ttype: 'ADD_COMMENT',\n\t\t\tdata: commentForDispatch\n\t\t})\n\t}\n}\n\n\n\nexport default articlesReducer","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/readers`\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newReader) => {\n\tconst response = await axios.post(baseUrl, newReader)\n\treturn response.data\n}\n\nconst update = async (updatedReader, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, updatedReader)\n\treturn response.data\n}\n\nconst createSubscribtion = async (newSubscription, readerId) => {\n\tconst response = await axios.post(`${baseUrl}/${readerId}/subscriptions`, newSubscription)\n\treturn response.data\n}\n\nexport default { \n\tcreate,\n\tgetAll,\n\tgetOne,\n\tupdate,\n\tcreateSubscribtion\n}","import readersService from '../services/readers'\n\nconst readersReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_READERS':\n\t\treturn action.data\n\tcase 'CREATE_READER':\n\t\treturn state.concat(action.data)\n\tcase 'UPDATE_READERS_FUNDS':\n\t\treturn state.map(reader => {\n\t\t\tif (reader.id === action.data.id) {\n\t\t\t\treturn { ...reader, funds: action.data.funds }\n\t\t\t}\n\t\t\treturn reader\n\t\t})\n\tcase 'ADD_FAVORITE_WRITER':\n\t\treturn state.map(reader => reader.id === action.data.id ? action.data : reader)\n\tcase 'REMOVE_FAVORITE_WRITER': \n\t\treturn state.map(reader => reader.id === action.data.id ? action.data : reader)\n\tcase 'ADD_SUBSCRIPTION_TO_READER': \n\t\treturn state.map(reader => {\n\t\t\tif (reader.id === action.data.subscriber.id) {\n\t\t\t\treturn { ...reader, subscriptions: reader.subscriptions.concat(action.data) }\n\t\t\t}\n\t\t\treturn reader\n\t\t})\n\tcase 'REMOVE_SUBS_FROM_READERS':\n\t\treturn state.map(reader => ({ ...reader, subscriptions: reader.subscriptions.filter(sub => !action.data.includes(sub.id)) }))\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initReaders = () => {\n\treturn async dispatch => {\n\t\tconst readers = await readersService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_READERS',\n\t\t\tdata: readers\n\t\t})\n\t}\n}\n\nexport const createReader = (newReader) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'CREATE_READER',\n\t\t\tdata: newReader\n\t\t})\n\t}\n}\n\nexport const addFavoriteWriter = (writerToAdd, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { funds: reader.funds, favoritewriters: reader.favoritewriters.map(favoritewriter => favoritewriter.id).concat(writerToAdd.id) }\n\t\tconst readerFromDb = await readersService.update(readerToUpdate, reader.id)\n\t\tconsole.log('readerFromDb', readerFromDb)\n\t\tconst readerForDispatch = { ...reader, favoritewriters: reader.favoritewriters.concat(writerToAdd) }\n\t\tdispatch ({\n\t\t\ttype: 'ADD_FAVORITE_WRITER',\n\t\t\tdata: readerForDispatch\n\t\t})\n\t}\n}\n\nexport const removeFavoriteWriter = (writerToRemove, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { favoritewriters: reader.favoritewriters.map(favoritewriter => favoritewriter.id).filter(id => id !== writerToRemove.id) }\n\t\tconst readerFromDb = await readersService.update(readerToUpdate, reader.id)\n\t\tconsole.log('readerFromDb', readerFromDb)\n\t\tconst readerForDispatch = { ...reader, favoritewriters: reader.favoritewriters.filter(writer => writer.id !== writerToRemove.id) }\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_FAVORITE_WRITER',\n\t\t\tdata: readerForDispatch\n\t\t})\n\t}\n}\n\n\nexport const addSubscriptionToReader = (newSubscription) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_SUBSCRIPTION_TO_READER',\n\t\t\tdata: newSubscription\n\t\t})\n\t}\n}\n\nexport const addReaderFunds = (fundsToAdd, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { favoritewriters: reader.favoritewriters.map(writer => writer.id), funds: reader.funds + fundsToAdd }\n\t\tconst updatedReader = await readersService.update(readerToUpdate, reader.id)\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_READERS_FUNDS',\n\t\t\tdata: updatedReader\n\t\t})\n\t}\n}\n\nexport const substractReaderFunds = (fundsToSubstract, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { favoritewriters: reader.favoritewriters.map(writer => writer.id) , funds: reader.funds - fundsToSubstract }\n\t\tconst updatedReader = await readersService.update(readerToUpdate, reader.id)\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_READERS_FUNDS',\n\t\t\tdata: updatedReader\n\t\t})\n\t}\n}\n\nexport const removeSubsFromReaders = (subsToRemove) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_SUBS_FROM_READERS',\n\t\t\tdata: subsToRemove\n\t\t})\n\t}\n}\n\nexport default readersReducer","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/writers`\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newWriter) => {\n\tconst response = await axios.post(baseUrl, newWriter)\n\treturn response.data\n}\n\nconst update = async (updatedWriter, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, updatedWriter)\n\treturn response.data\n}\n\nexport default { \n\tgetAll, \n\tgetOne, \n\tcreate, \n\tupdate \n}","import writersService from '../services/writers'\n\nconst writersReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_WRITERS':\n\t\treturn action.data\n\tcase 'ADD_NEW_WRITER':\n\t\treturn state.concat(action.data)\n\tcase 'UPDATE_WRITER_EARNINGS':\n\t\treturn state.map(writer => {\n\t\t\tif (writer.id === action.data.id) {\n\t\t\t\treturn { ...writer, earnings: action.data.earnings }\n\t\t\t}\n\t\t\treturn writer\n\t\t})\n\tcase 'UPDATE_PRICING':\n\t\treturn state.map(writer => {\n\t\t\tif (writer.id === action.data.id) {\n\t\t\t\treturn { ...writer, oneArticlePrice: action.data.oneArticlePrice, montlySubscriptionPrice: action.data.montlySubscriptionPrice, yearlySubscriptionPrice: action.data.yearlySubscriptionPrice,  }\n\t\t\t}\n\t\t\treturn writer\n\t\t})\n\tcase 'ADD_ARTICLE_TO_WRITER':\n\t\treturn state.map(writer => {\n\t\t\tif (writer.id === action.data.author) {\n\t\t\t\treturn { ...writer, myarticles: writer.myarticles.concat(action.data) }\n\t\t\t}\n\t\t\treturn writer\n\t\t})\n\tcase 'ADD_READER_TO_FOLLOWERS':\n\t\treturn state.map(writer => writer.id === action.data.id ? action.data : writer)\n\tcase 'REMOVE_READER_FROM_FOLLOWERS':\n\t\treturn state.map(writer => writer.id === action.data ? action.data : writer)\n\tcase 'REMOVE_SUBS_FROM_WRITERS':\n\t\treturn state.map(writer => ({ ...writer, subscriptions: writer.subscribers.filter(sub => !action.data.includes(sub.id)) }))\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initWriters = () => {\n\treturn async dispatch => {\n\t\tconst writers = await writersService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_WRITERS',\n\t\t\tdata: writers\n\t\t})\n\t}\n}\n\nexport const createWriter = (newWriter) => {\n\treturn async dispatch => {\n\t\tdispatch({\n\t\t\ttype: 'ADD_NEW_WRITER',\n\t\t\tdata: newWriter\n\t\t})\n\t}\n}\n\nexport const addReaderToFollowers = (readerToAdd, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { ...writer, followers: writer.followers.map(follower => follower.id).concat(readerToAdd.id) }\n\t\tconst writerFromDb = await writersService.update(writerToUpdate, writer.id)\n\t\tconsole.log('writerFromDb', writerFromDb)\n\t\tconst writerForDispatch = { ...writer, followers: writer.followers.concat(readerToAdd) }\n\t\tdispatch ({\n\t\t\ttype: 'ADD_READER_TO_FOLLOWERS',\n\t\t\tdata: writerForDispatch\n\t\t})\n\t}\n}\n\nexport const removeReaderFromFollowers = (readerToRemove, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { ...writer, followers: writer.followers.map(follower => follower.id).filter(id => id !== readerToRemove.id) }\n\t\tconst writerFromDb = await writersService.update(writerToUpdate, writer.id)\n\t\tconsole.log('writerFromDb', writerFromDb)\n\t\tconst writerForDispatch = { ...writer, followers: writer.followers.filter(writer => writer.id !== readerToRemove.id) }\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_READER_FROM_FOLLOWERS',\n\t\t\tdata: writerForDispatch\n\t\t})\n\t}\n}\n\nexport const addEarningsToWriter = (earningsToAdd, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { ...writer, followers: writer.followers.map(follower => follower.id) , earnings: writer.earnings + earningsToAdd }\n\t\tconst updatedWriter = await writersService.update(writerToUpdate, writer.id)\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_WRITER_EARNINGS',\n\t\t\tdata: updatedWriter\n\t\t})\n\t}\n}\n\nexport const updatePricing = (newValues, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { followers: writer.followers.map(follower => follower.id), earnings: writer.earnings, ...newValues }\n\t\tawait writersService.update(writerToUpdate, writer.id)\n\t\tconst writerToDispatch = { ...writer, ...newValues }\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_PRICING',\n\t\t\tdata: writerToDispatch\n\t\t})\n\t}\n}\n\nexport const addArticleToWriter = (article) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_ARTICLE_TO_WRITER',\n\t\t\tdata: article\n\t\t})\n\t}\n}\n\nexport const removeSubsFromWriters = (subsToRemove) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_SUBS_FROM_WRITERS',\n\t\t\tdata: subsToRemove\n\t\t})\n\t}\n}\n\n\nexport default writersReducer","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { DialogActions, DialogTitle, Dialog, Button, makeStyles, DialogContent, DialogContentText } from '@material-ui/core/'\n\nconst useStyles = makeStyles(theme => ({\n\ttext:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n}))\n\nconst DialogBoxToLogin = ({ openLoginDialog, setOpenLoginDialog }) => {\n\tconst classes = useStyles()\n\tconst history = useHistory()\n\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\thistory.push('/reader/login')\n\t}\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={openLoginDialog}\n\t\t\tonClose={() => setOpenLoginDialog(false)}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\" className={classes.text}>Paid article</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\tPlease login and pay to read\n\t\t\t\t</DialogContentText>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button color=\"primary\" autoFocus onClick={handleSubmit}>\n\t\t\t\t\t\tLog In\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => setOpenLoginDialog(false)} color=\"primary\" autoFocus>\n\t\t\t\t\t\tclose\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n\nexport default DialogBoxToLogin","import React from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { DialogActions, DialogTitle, Dialog, Button, makeStyles, DialogContent, Typography } from '@material-ui/core/'\n\nconst useStyles = makeStyles(theme => ({\n\ttext:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n}))\n\nconst DialogBoxToAddFunds = ({ openAddFundsDialog, setOpenAddFundsDialog, loggedInReader, price }) => {\n\tconst classes = useStyles()\n\tconst history = useHistory()\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\thistory.push(`/reader/profile/${loggedInReader.id}`)\n\t}\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={openAddFundsDialog}\n\t\t\tonClose={() => setOpenAddFundsDialog(false)}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\" className={classes.text}>Not enough funds</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<Typography gutterBottom className={classes.text}>\t\t\t\t\t\n\t\t\t\t\tArticle price: {price} €\n\t\t\t\t</Typography>\n\t\t\t\t<Typography gutterBottom className={classes.text}>\t\t\t\t\t\n\t\t\t\t\tYour balance: {loggedInReader.funds} €\n\t\t\t\t</Typography>\n\t\t\t\t<Typography gutterBottom className={classes.text}>\t\t\t\t\t\n\t\t\t\t\tPlease go to your profile to add funds\n\t\t\t\t</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button color=\"primary\" autoFocus onClick={handleSubmit}>\n\t\t\t\t\t\tProfile\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => setOpenAddFundsDialog(false)} color=\"primary\" autoFocus>\n\t\t\t\t\t\tclose\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n\nexport default DialogBoxToAddFunds","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link, useHistory,  } from 'react-router-dom'\n\nimport { makeStyles, Card, CardActionArea, CardContent, CardMedia, Typography } from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\nimport { addViewToArticle } from '../../reducers/articlesReducer'\nimport { notifyError } from '../../reducers/notificationReducer'\nimport { substractReaderFunds } from '../../reducers/readersReducer'\nimport { addEarningsToWriter } from '../../reducers/writersReducer'\n\nimport DialogBoxToLogin from './DialogBoxToLogIn'\nimport DialogBoxToAddFunds from './DialogBoxToAddFunds'\n// import DialogBoxToPay from './DialogBoxToPay'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth:380,\n\t\tborderRadius: 5,\n\t\tmargin: 5,\n\t},\n\tmedia: {\n\t\theight: 140,\n\t},\n\ttextTitle: {\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontWeight: 'bold'\n\t},\n\ttextauthor: {\n\t\tcolor: theme.palette.text.secondary\n\t},\n\ttext: {\n\t\tcolor: '#6A6A6A',\n\t\tpaddingRight: 10\n\t},\n\tcardInfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t\tpaddingTop: 10\n\t},\n\tcardInfoCategories: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t},\n\tcardContent: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'space-between',\n\t}\n}))\n\nconst ArticleCard = ({ article }) => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\tconst reader = useSelector(state => state.reader)\n\tconst readers = useSelector(state => state.readers)\n\tconst images = useSelector(state => state.articleImages)\n\tconst loggedInReader = reader && readers.filter(readerOne => readerOne.id === reader.id)[0]\n\tconst [openLoginDialog, setOpenLoginDialog] = useState(false)\n\tconst [openAddFundsDialog, setOpenAddFundsDialog] = useState(false)\n\n\tconst filteredImage = images && images.length !== 0 && images.filter(img => img.article === article.id)[0].img.data.data\n\tvar base64 = btoa(new Uint8Array(filteredImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!article) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tconst handleCardPress = async (article) => {\n\t\tif (article.paid === 'yes') {\n\t\t\tif (!loggedInReader) {\n\t\t\t\tsetOpenLoginDialog(true)\n\t\t\t} else {\n\t\t\t\tif (loggedInReader.subscriptions.some(subscription => subscription.recipient[0].id === article.author.id)) {\n\t\t\t\t\tdispatch(addViewToArticle(article))\n\t\t\t\t\thistory.push(`/article/${article.id}`)\n\t\t\t\t} else {\n\t\t\t\t\tif (loggedInReader.funds < article.author.oneArticlePrice) {\n\t\t\t\t\t\tsetOpenAddFundsDialog(true)\n\t\t\t\t\t} else if (window.confirm(`Confirm payment for this article for ${article.author.oneArticlePrice} €`)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait dispatch(substractReaderFunds(article.author.oneArticlePrice, loggedInReader))\n\t\t\t\t\t\t\tawait dispatch(addEarningsToWriter(article.author.oneArticlePrice, article.author))\n\t\t\t\t\t\t\tdispatch(addViewToArticle(article))\n\t\t\t\t\t\t\thistory.push(`/article/${article.id}`)\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdispatch(addViewToArticle(article))\n\t\t\thistory.push(`/article/${article.id}`)\n\t\t}\n\t}\n\n\tconst classes = useStyles()\n\treturn (\n\t\t<Card className={classes.root} >\n\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} to=\"#\" onClick={() => handleCardPress(article)}>\n\t\t\t\t<CardActionArea>\n\t\t\t\t\t{images.length === 0 \n\t\t\t\t\t\t?\n\t\t\t\t\t\t<Skeleton variant=\"rect\" width={380} height={140} animation=\"wave\"/>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\tclassName={classes.media}\n\t\t\t\t\t\t\timage={`data:image/jpeg;base64,${base64}`}\n\t\t\t\t\t\t\t// image=\"https://source.unsplash.com/random\"\t\t\t\t\t// src={`data:${images[0].img.contentType};base64,${images[0].img.data}`}\n\t\t\t\t\t\t\ttitle=\"Contemplative Reptile\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t<CardContent className={classes.cardContent}>\n\t\t\t\t\t\t<Typography className={classes.textTitle}>\n\t\t\t\t\t\t\t{article.title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography className={classes.textauthor}>\n\t\t\t\t\t\t\tBy {article.author.firstName} {article.author.lastName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div className={classes.cardInfoContainer}>\n\t\t\t\t\t\t\t<div className={classes.cardInfoCategories}>\n\t\t\t\t\t\t\t\t{article.genres.map(genre => \n\t\t\t\t\t\t\t\t\t<Typography key={genre} className={classes.text} variant='caption'>\n\t\t\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='caption'>\n\t\t\t\t\t\t\t\t{article.paid === 'yes' ? 'Paid' : 'Free'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</CardActionArea>\n\t\t\t</Link>\n\t\t\t<DialogBoxToLogin openLoginDialog={openLoginDialog} setOpenLoginDialog={setOpenLoginDialog} />\n\t\t\t{/* <DialogBoxToPay openPayDialog={openPayDialog} setOpenPayDialog={setOpenPayDialog} price={article.author.oneArticlePrice} onConfirm={handlePaymentSubmit}/> */}\n\t\t\t{loggedInReader && <DialogBoxToAddFunds openAddFundsDialog={openAddFundsDialog} setOpenAddFundsDialog={setOpenAddFundsDialog} loggedInReader={loggedInReader} price={article.author.oneArticlePrice} />}\n\t\t</Card>\n\t)\n}\n\nexport default ArticleCard","import React from 'react'\nimport { makeStyles, Radio, RadioGroup, FormControlLabel, FormControl } from '@material-ui/core/'\n\nconst useStyles = makeStyles({\n\tposisioning: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\tradioGroup: {\n\t\tdisplay: 'inline-block'\n\t}\n})\n\nconst ArticlesFilter = ({ setFilterValue }) => {\n\tconst classes = useStyles()\n\n\tconst handleChange = (event) => {\n\t\tsetFilterValue(event.target.value)\n\t}\n\n\treturn (\n\t\t<FormControl component=\"fieldset\" className={classes.posisioning} fullWidth>\n\t\t\t<RadioGroup className={classes.radioGroup} onChange={handleChange} row aria-label=\"position\" name=\"position\" defaultValue=\"all\">\n\t\t\t\t<FormControlLabel value=\"all\" control={<Radio color=\"primary\" />} label=\"All\" />\n\t\t\t\t<FormControlLabel value=\"free\" control={<Radio color=\"primary\" />} label=\"Free\" />\n\t\t\t\t<FormControlLabel value=\"paid\" control={<Radio color=\"primary\" />} label=\"Paid\" />\n\t\t\t</RadioGroup>\n\t\t</FormControl>\n\t)\n}\n\nexport default ArticlesFilter\n","import React, { useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { makeStyles, Grid, Typography } from '@material-ui/core'\n\nimport ArticleCard from './ArticleCard'\nimport ArticlesFilter from './ArticlesFilter'\n\nconst useStyles = makeStyles({\n\ttext: {\n\t\ttextAlign: 'center',\n\t},\n\ttextWithPadding: {\n\t\ttextAlign: 'center',\n\t\tpaddingBottom: 20\n\t}\n})\n\nconst ArticlesList = () => {\n\tconst classes = useStyles()\n\tconst [filterValue, setFilterValue] = useState('all')\n\tconst { genre } = useParams()\n\tconst { searchResult } = useParams()\n\tlet { author } = useParams()\n\tconst articles = useSelector(state => state.articles)\n\tconst loggedInReader = useSelector(state => state.reader)\n\tconst readersList = useSelector(state => state.readers)\n\tconst oneReader = loggedInReader && readersList.filter(readerFromList => readerFromList.id === loggedInReader.id)[0]\n\tconst readerFavorites = loggedInReader && oneReader.favoritewriters.map(favoritewriter => favoritewriter.id)\n\tconst readerSubscriptions = loggedInReader && oneReader.subscriptions.map(subscription => subscription.recipient[0].id)\n\n\tlet articlesFiltered = articles\n\tlet allength = null\n\n\tif (!articles) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tif (genre === 'My Favorites') {\n\t\tarticlesFiltered = articles.filter(article => readerFavorites.includes(article.author.id))\n\t} else if (genre === 'My Subscriptions') {\n\t\tarticlesFiltered = articles.filter(article => readerSubscriptions.includes(article.author.id))\n\t} else if (genre !== undefined) {\n\t\tarticlesFiltered = articles.filter(article => article.genres.includes(genre))\n\t}\n    \n\tif (searchResult) {\n\t\tarticlesFiltered = articles.filter(article => article.title.toLowerCase().includes(searchResult.toLowerCase()))\n\t\tallength = articlesFiltered.length\n\t}\n\n\tif (author) {\n\t\tarticlesFiltered = articles.filter(article => article.author.id === author)\n\t}\n\n\tlet articlesForList = articlesFiltered\n\n\tswitch (filterValue) {\n\tcase 'all':\n\t\tarticlesForList\n\t\tbreak\n\tcase 'free':\n\t\tarticlesForList = articlesFiltered.filter(article => article.paid === 'no')\n\t\tbreak\n\tcase 'paid':\n\t\tarticlesForList = articlesFiltered.filter(article => article.paid === 'yes')\n\t\tbreak\n\tdefault:\n\t\tarticlesForList\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<ArticlesFilter setFilterValue={setFilterValue} />\n\t\t\t<Typography className={classes.textWithPadding} variant='h3' style={{ display: genre === undefined ? 'none' : 'block' }}>\n\t\t\t\t{genre}\n\t\t\t</Typography>\n\t\t\t<div style={{ display: searchResult === undefined ? 'none' : 'block' }}>\n\t\t\t\t<Typography className={classes.text} variant='h3' >\n                    Results: {searchResult}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography className={classes.textWithPadding} variant='subtitle2' >\n                    Results found: {allength}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tjustify=\"center\"\n\t\t\t>\n\t\t\t\t{articlesForList.map(article =>\n\t\t\t\t\t<ArticleCard key={article.id} article={article}/>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default ArticlesList","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link, useParams, useHistory } from 'react-router-dom'\nimport { useCookies } from 'react-cookie'\n\nimport { AccordionDetails, AccordionSummary, AccordionActions, Typography, Button, TextField, Accordion, makeStyles, Card, CardContent } from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\n\nimport { addComment } from '../../reducers/articlesReducer'\nimport { notifySuccess, notifyError } from '../../reducers/notificationReducer'\nimport { removeReader } from '../../reducers/loginReaderReducer'\n\n\nconst useStyles = makeStyles(theme => ({\n\ttext: {\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginSignupText: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextAlign: 'center'\n\t},\n\tcategoryButton: {\n\t\tmarginBottom: 10,\n\t\tmarginRight: 10\n\t},\n\taccordion: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t},\n\taccordionMargin: {\n\t\tmarginBottom: 50\n\t},\n\taccordionLabel: {\n\t\ttextAlign: 'center',\n\t\tcolor: theme.palette.text.secondary\n\t},\n\trootBorder: {\n\t\tborderStyle: 'solid',\n\t\tborderWidth: 1,\n\t\tborderColor: theme.palette.primary.main,\n\t\tmargin: 5\n\t},\n\tcommentButton: {\n\t\tpadding: 10,\n\t\tmarginLeft: 10\n\t},\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginSignupContainer:{\n\t\tbackground: theme.palette.primary.lightGrey,\n\t\tflexGrow: 1,\n\t\tpadding: 10\n\t},\n\tcommentForm: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t\tflexGrow: 1\n\t},\n}))\n\nconst Comments = () => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tconst [commentValue, setCommentValue] = useState('')\n\tconst articles = useSelector(state => state.articles)\n\tconst reader = useSelector(state => state.reader)\n\tconst readers = useSelector(state => state.readers)\n\tconst commentator = reader && readers.filter(readerOne => readerOne.id === reader.id)[0]\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\tlet { id } = useParams()\n\tconst filteredArticle = articles.filter(article => article.id === id)[0]\n\n\tif (!articles) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tconst onChangeComment = event => {\n\t\tsetCommentValue(event.target.value)\n\t}\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\ttry {\n\t\t\tconst newComment = { comment: commentValue }\n\t\t\tawait dispatch(addComment(newComment, id, commentator))\n\t\t\tdispatch(notifySuccess(`${commentValue} added`))\n\t\t\tsetCommentValue('')\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={classes.accordionMargin}>\n\t\t\t<Accordion classes={{ root: classes.rootBorder }}>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\taria-controls=\"panel1c-content\"\n\t\t\t\t\tid=\"panel1c-header\"\n\t\t\t\t>\n\t\t\t\t\t<Typography variant='h5' className={classes.accordionLabel}>\n                        Comments\n\t\t\t\t\t</Typography>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails className={classes.accordion}>\n\t\t\t\t\t<AccordionActions>\n\t\t\t\t\t\t{reader !== null\n\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t<form onSubmit={handleSubmit} className={classes.commentForm}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Comment\"\n\t\t\t\t\t\t\t\t\t\tvalue={commentValue}\n\t\t\t\t\t\t\t\t\t\tonChange={onChangeComment}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid='commentInput'\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" variant=\"contained\" type=\"submit\"  id='addCommentButton' className={classes.commentButton}>\n\t\t\t\t\t\t\t\t\t\tComment\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className={classes.loginSignupContainer}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.loginSignupText}>\n\t\t\t\t\t\t\t\t\t\tSomething to say?\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.loginSignupText}>\n\t\t\t\t\t\t\t\t\t\t<Link to='/reader/login'>Log in</Link> or <Link to='/reader/signup'>Sign up</Link>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</AccordionActions>\n\t\t\t\t\t{filteredArticle.comments.length !== 0\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\tfilteredArticle.comments.map(comment => \n\t\t\t\t\t\t\t\t<Card key={comment.id} classes={{ root: classes.rootBorder }}>\n\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text} style={{ fontWeight: 'bold' }}>\n\t\t\t\t\t\t\t\t\t\t\t{comment.commentator.userName}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text}>\n\t\t\t\t\t\t\t\t\t\t\t{comment.comment}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text} variant='caption'>\n\t\t\t\t\t\t\t\t\t\t\tPosted on {comment.date}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t</Card>)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>No comments</Typography>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</div>\n\t)\n}\n\nexport default Comments","import React from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nimport { makeStyles, Typography, Button } from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\nimport Comments from './Comments'\n\nconst useStyles = makeStyles({\n\tinfoText: {\n\t\tcolor: '#6A6A6A'\n\t},\n\tcategoryButton: {\n\t\tmarginBottom: 10,\n\t\tmarginRight: 10\n\t},\n\tarticleDiv: {\n\t\tmarginBottom: 100\n\t},\n\tcoverPhoto: {\n\t\theight: 200\n\t}\n})\n\nconst ArticlePage = () => {\n\tconst classes = useStyles()\n\tlet { id } = useParams()\n\tconst articles = useSelector(state => state.articles)\n\tconst images = useSelector(state => state.articleImages)\n\n\tconst filteredImage = images && images.length !== 0 && images.filter(img => img.article === id)[0].img.data.data\n\tvar base64 = btoa(new Uint8Array(filteredImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!articles) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tconst filteredArticle = articles.filter(article => article.id === id)[0]\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.articleDiv}>\n\t\t\t\t{images.length === 0 \n\t\t\t\t\t? <Skeleton variant=\"rect\" width={1232} height={200} animation=\"wave\"/>\n\t\t\t\t\t: <img\n\t\t\t\t\t\tstyle={{ width: '100%', height: 200, borderRadius: 5, objectFit: 'cover' }}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t// imageStyle={{ height: 300 }}\n\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${base64}`}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t<div className={classes.categoryButton}>\n\t\t\t\t\t{filteredArticle.genres.map(genre => \n\t\t\t\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} to={`/genres/${genre}`} key={genre}><Button marginottom='50' size='small' variant=\"outlined\" color=\"primary\">{genre}</Button></Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t{filteredArticle.title}\n\t\t\t\t</Typography>\n\t\t\t\t<br/>\n\t\t\t\t<Typography variant=\"subtitle1\" className={classes.infoText}>\n\t\t\t\t\tBy <Link to={`/author/${filteredArticle.author.id}`}>{filteredArticle.author.firstName} {filteredArticle.author.lastName}</Link> | {filteredArticle.published}\n\t\t\t\t</Typography>\n\t\t\t\t<br/>\n\t\t\t\t{filteredArticle.content.map((content, index) => \n\t\t\t\t\t<div key={index} >\n\t\t\t\t\t\t<Typography >\n\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Comments />\n\t\t</div>\n\t)\n}\n\nexport default ArticlePage","import React from 'react'\n\nimport { makeStyles, withStyles, Typography, CardContent, Card, CardActions, Tooltip, Button, Fade } from '@material-ui/core'\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined'\n\nconst useStyles = makeStyles(theme => ({\n\tsubscriptionOptionsContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'center',\n\t},\n\tsubscriptionCard: {\n\t\tmargin: 5,\n\t\tminWidth: 200,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborder: 'solid',\n\t\tborderColor: theme.palette.primary.main,\n\t\tflexGrow: 1\n\t},\n\tsubText: {\n\t\ttextAlign: 'center'\n\t},\n\tcardButton: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center'\n\t}\n}))\n\nconst BigTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tfontSize: 15,\n\t},\n}))(Tooltip)\n\nconst SubscriptionPlans = ({ filteredWriter, matchingSub, handleSubscirbe }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<div className={classes.subscriptionOptionsContainer}>\n\t\t\t<Card className={classes.subscriptionCard} variant=\"outlined\">\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t1 Article\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"h5\" color=\"textSecondary\" className={classes.subText}>\n\t\t\t\t\t\t{`${filteredWriter.oneArticlePrice} €`}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t\t<Card className={classes.subscriptionCard} variant=\"outlined\">\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t1 Month\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"h5\" color=\"textSecondary\" className={classes.subText}>\n\t\t\t\t\t\t{`${filteredWriter.montlySubscriptionPrice} €`}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions className={classes.cardButton}>\n\t\t\t\t\t{matchingSub === null\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Login to subscribe\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" endIcon={<AddOutlinedIcon />}>\n\t\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" variant=\"contained\" id='montlySubscriptionButton' endIcon={<AddOutlinedIcon />} onClick={() => handleSubscirbe('montlySubscriptionPrice')}>\n\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t)\t\n\t\t\t\t\t}\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t\t<Card className={classes.subscriptionCard} variant=\"outlined\">\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t1 Year\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"h5\" color=\"textSecondary\" className={classes.subText}>\n\t\t\t\t\t\t{`${filteredWriter.yearlySubscriptionPrice} €`}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions className={classes.cardButton}>\n\t\t\t\t\t{matchingSub === null\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Login to subscribe\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" endIcon={<AddOutlinedIcon />}>\n\t\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" variant=\"contained\" endIcon={<AddOutlinedIcon />} onClick={() => handleSubscirbe('yearlySubscriptionPrice')}>\n\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t)\t\n\t\t\t\t\t}\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t</div>\n\t)\n}\n\nexport default SubscriptionPlans\n","/* eslint-disable no-fallthrough */\nimport React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useCookies } from 'react-cookie'\n\nimport { makeStyles, withStyles, Typography, ButtonGroup, Button, Tooltip, Fade, Card, CardContent, List } from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined'\nimport CheckOutlinedIcon from '@material-ui/icons/CheckOutlined'\n\nimport ArticlesList from '../ArticlesList/ArticlesList'\nimport SubscriptionPlans from '../SubscriptionPlans'\n\nimport { addFavoriteWriter, removeFavoriteWriter, substractReaderFunds, initReaders } from '../../reducers/readersReducer'\nimport { addReaderToFollowers, removeReaderFromFollowers, addEarningsToWriter, initWriters } from '../../reducers/writersReducer'\nimport { notifySuccess, notifyError } from '../../reducers/notificationReducer'\nimport { removeReader } from '../../reducers/loginReaderReducer'\n\nimport readersService from '../../services/readers'\n\nconst useStyles = makeStyles(theme => ({\n\tprofileContaner: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\tinfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 10\n\t},\n\tsubscriptionOptionsContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 50\n\t},\n\tsubscriptionCard: {\n\t\tmargin: 5,\n\t\tminWidth: 130,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborder: 'solid',\n\t\tborderColor: theme.palette.primary.main\n\t},\n\tsubscribedCard: {\n\t\tmargin: 5,\n\t\tminWidth: 390,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborder: 'solid',\n\t\tborderColor: theme.palette.primary.main\n\t},\n\ttext: {\n\t\ttextAlign: 'center',\n\t\tpaddingTop: 50\n\t},\n\tsubText: {\n\t\ttextAlign: 'center',\n\t\ttextTransform: 'uppercase'\n\t},\n\tgenresList: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\ttextGenres: {\n\t\tcolor: 'grey',\n\t\tflex: 0,\n\t\tpaddingRight: 10\n\t},\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n\tdisabledButton: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: '#E5E5E5',\n\t\tcolor: '#CCCCCC',\n\t\tboxShadow: 'none'\n\t},\n\tcardButton: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center'\n\t}\n}))\n\nconst BigTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tfontSize: 15,\n\t},\n}))(Tooltip)\n\nconst WriterPage = () => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tlet { author } = useParams()\n\tconst loggedInReader = useSelector(state => state.reader)\n\tconst writersImages = useSelector(state => state.writerImages)\n\tconst readers = useSelector(state => state.readers)\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\n\tconst filteredWriter = useSelector(state => state.writers.filter(writer => writer.id === author)[0])\n\tconst currentReader = loggedInReader && readers.filter(reader => reader.id === loggedInReader.id)[0]\n\n\tconst filteredWriterImage = writersImages && writersImages.length !== 0 && writersImages.filter(img => img.writer === author)[0].img.data.data\n\tvar encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!filteredWriter) {\n\t\treturn <p>Loading...</p>\n\t}\n\tconst isInFavotrites = currentReader && currentReader.favoritewriters.some(writer => writer.id === author)\n\n\tconst writersSubs = filteredWriter.subscribers.map(subscriber => subscriber)\n\tconst readersSubs = (currentReader && currentReader.subscriptions.length !== 0) && currentReader.subscriptions.map(subscription => subscription)\n\n\n\tconst matchingSub = (currentReader && currentReader.subscriptions.length !== 0) && writersSubs.filter(suber => readersSubs.some(sub => sub.id === suber.id))[0]\n\t\t\n\tconst handleAddToFavorites = async () => {\n\t\ttry {\n\t\t\tawait dispatch(addFavoriteWriter(filteredWriter, currentReader))\n\t\t\tawait dispatch(addReaderToFollowers(currentReader, filteredWriter))\n\t\t\tdispatch(notifySuccess(`${filteredWriter.firstName} ${filteredWriter.lastName} added to favorites`))\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\t\n\tconst handleRemoveFromFavorites = async () => {\n\t\ttry {\n\t\t\tawait dispatch(removeFavoriteWriter(filteredWriter, currentReader))\n\t\t\tawait dispatch(removeReaderFromFollowers(currentReader, filteredWriter))\n\t\t\tdispatch(notifySuccess(`${filteredWriter.firstName} ${filteredWriter.lastName} removed from favorites`))\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleSubscirbe = async (value) => {\n\t\tif (currentReader.funds < filteredWriter[value]) {\n\t\t\twindow.alert('Not enought funds')\n\t\t} else if (window.confirm('Confirm Subscription')) {\n\t\t\ttry {\n\t\t\t\tawait dispatch(addEarningsToWriter(filteredWriter[value], filteredWriter))\n\t\t\t\tawait dispatch(substractReaderFunds(filteredWriter[value], currentReader))\n\t\t\t\tlet typeForSub = value === 'montlySubscriptionPrice' ? 'montly' : 'yearly'\n\t\t\t\tconst newSubscription = { type: typeForSub, writerId: filteredWriter.id }\n\t\t\t\tawait readersService.createSubscribtion(newSubscription, currentReader.id)\n\t\t\t\tawait dispatch(initReaders())\n\t\t\t\tawait dispatch(initWriters())\n\t\t\t\tdispatch(notifySuccess(`Subsribed ${typeForSub} to ${filteredWriter.firstName} ${filteredWriter.lastName}`))\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('error response', error.response)\n\t\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\t\tdispatch(removeReader())\n\t\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\t\thistory.push('/reader/login')\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\tconst addToFavoritesButton = () => {\n\t\tswitch (isInFavotrites) {\n\t\tcase true:\n\t\t\treturn (\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} endIcon={<CheckOutlinedIcon />} onClick={handleRemoveFromFavorites}>\n\t\t\t\t\tAdded to favorites\n\t\t\t\t</Button>\n\t\t\t)\n\t\tcase false:\n\t\t\treturn (\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} endIcon={<AddOutlinedIcon />} onClick={handleAddToFavorites}>\n\t\t\t\t\tAdd to favorites\n\t\t\t\t</Button>\n\t\t\t)\n\t\tcase null:\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Login to add to favorites\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button variant=\"contained\" endIcon={<AddOutlinedIcon />}>\n\t\t\t\t\t\t\t\tAdd to favorites\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</BigTooltip>\n\t\t\t\t</div>\n\t\t\t)\n\t\tdefault:\n\t\t\t<p>Erorr</p>\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.profileContaner}>\n\t\t\t\t{writersImages.length === 0\n\t\t\t\t\t? <Skeleton width={200} variant=\"rect\" animation=\"wave\"/>\n\t\t\t\t\t: <img\n\t\t\t\t\t\twidth=\"200\"\n\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedWriterImage}`}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t<div className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t\t{filteredWriter.firstName} {filteredWriter.lastName}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t{filteredWriter.writerDescription}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<List className={classes.genresList}>\n\t\t\t\t\t\t{filteredWriter.writerGenres.map(genre => \n\t\t\t\t\t\t\t<Typography key={genre} className={classes.textGenres} variant='caption'>\n\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\t\n\t\t\t\t\t</List>\t\t\t\t\n\t\t\t\t\t<ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n\t\t\t\t\t\t{addToFavoritesButton()}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{matchingSub !== false && matchingSub !== null && matchingSub !== undefined\n\t\t\t\t\t? (\n\t\t\t\t\t\t<Card className={classes.subscribedCard} variant=\"outlined\">\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t\t\tSubscribed\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t\t\tType: {matchingSub.type}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t\t\tPeriod: {matchingSub.startDate.slice(0, -6)} - {matchingSub.endDate.slice(0, -6)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t)\n\t\t\t\t\t: <SubscriptionPlans handleSubscirbe={handleSubscirbe} filteredWriter={filteredWriter} matchingSub={matchingSub} />\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<Typography variant='h4' color=\"primary\" className={classes.text}>\n\t\t\t\tArticles\n\t\t\t</Typography>\n\t\t\t<ArticlesList />\n\t\t</div>\n\t)\n}\n\nexport default WriterPage","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/images/writers`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newImage) => {\n\tconst response = await axios.post(baseUrl, newImage)\n\treturn response.data\n}\n\nexport default {\n\tgetAll, \n\tgetOne, \n\tcreate\n}","import writerImagesService from '../services/writerImages'\n\nconst writerImagesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_WRITER_IMAGES':\n\t\treturn action.data\n\tcase 'ADD_WRITER_IMAGE':\n\t\treturn state.concat(action.data)\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initWriterImages = () => {\n\treturn async dispatch => {\n\t\tconst images = await writerImagesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_WRITER_IMAGES',\n\t\t\tdata: images\n\t\t})\n\t}\n}\n\nexport const addWriterImage = (newImage) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_WRITER_IMAGE',\n\t\t\tdata: newImage\n\t\t})\n\t}\n}\n\nexport default writerImagesReducer","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\ttype: 'light',\n\t\tprimary: {\n\t\t\tmain: '#181616',\n\t\t\tlighter: '#222525',\n\t\t\tmiddleGrey: '#515151',\n\t\t\thover: '#606060',\n\t\t\tlightGrey: '#eeeeee'\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f50057',\n\t\t},\n\t\ttext: {\n\t\t\tprimary: '#FCFCFC',\n\t\t\tsecondary: '#181616',\n\t\t\tblueish: '#731DD8',\n\t\t\tgrey: '#606060'\n\t\t}\n\t},\n\ticons: {\n\t\tfontSize: 30,\n\t\tfill: '#FCFCFC'\n\t}\n\n})\n\nexport default theme","import React, { useMemo } from 'react'\nimport { useDropzone } from 'react-dropzone'\n\nimport theme from '../theme'\n\nimport BackupIcon from '@material-ui/icons/Backup'\n\nconst baseStyle = {\n\tflex: 1,\n\tdisplay: 'flex',\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tpadding: '20px',\n\tborderWidth: 3,\n\tborderRadius: 10,\n\tborderColor: theme.palette.primary.main,\n\tborderStyle: 'dashed',\n\tbackgroundColor: theme.palette.primary.lightGrey,\n\tcolor: theme.palette.primary.main,\n\toutline: 'none',\n}\n\nconst thumbsContainer = {\n\tdisplay: 'flex',\n\tflexDirection: 'row',\n\tflexWrap: 'wrap',\n\tmarginTop: 16\n}\n\nconst thumb = {\n\tdisplay: 'inline-flex',\n\tmarginBottom: 8,\n\tmarginRight: 8,\n\twidth: 150,\n\theight: 150,\n\tpadding: 4,\n\tboxSizing: 'border-box'\n}\n\nconst img = {\n\tborderRadius: 10,\n\tdisplay: 'block',\n\twidth: 'auto',\n\theight: '100%'\n}\n  \nconst activeStyle = {\n\tborderColor: '#2196f3'\n}\n  \nconst acceptStyle = {\n\tborderColor: '#00e676'\n}\n  \nconst rejectStyle = {\n\tborderColor: '#ff1744'\n}\n\n\nconst UploadComponent = ({ setFieldValue, values }) => {\n\tconst { getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\n\t\taccept: 'image/*',\n\t\tonDrop: acceptedFiles => {\n\t\t\tsetFieldValue('files', acceptedFiles.map(file => Object.assign(file, {\n\t\t\t\tpreview: URL.createObjectURL(file)\n\t\t\t})))\n\t\t}\n\t})\n\t\n\tconst thumbs = values.files.map(file => (\n\t\t<div style={thumb} key={file.name}>\n\t\t\t<div>\n\t\t\t\t<img\n\t\t\t\t\tsrc={file.preview}\n\t\t\t\t\tstyle={img}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t))\n\n\tconst style = useMemo(() => ({\n\t\t...baseStyle,\n\t\t...(isDragActive ? activeStyle : {}),\n\t\t...(isDragAccept ? acceptStyle : {}),\n\t\t...(isDragReject ? rejectStyle : {})\n\t}), [\n\t\tisDragActive,\n\t\tisDragReject,\n\t\tisDragAccept\n\t])\n\n\treturn (\n\t\t<div>\n\t\t\t<div {...getRootProps({ style })}>\n\t\t\t\t<input {...getInputProps()} name='image' id='imageUpload'/>\n\t\t\t\t<p>Drag and drop image here, or click to select image</p>\n\t\t\t\t<BackupIcon />\n\t\t\t</div>\n\t\t\t<aside style={thumbsContainer}>\n\t\t\t\t{thumbs}\n\t\t\t</aside>\n\t\t</div>\n\t\t\n\t)\n}\n\nexport default UploadComponent\n","import React from 'react'\nimport { Formik, Field } from 'formik'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as yup from 'yup'\nimport { useHistory } from 'react-router-dom'\n\nimport { TextField, CheckboxWithLabel } from 'formik-material-ui'\nimport { makeStyles, FormControl, Typography, FormControlLabel, FormGroup, Button } from '@material-ui/core'\n\nimport { newsCategories } from '../../../data/data'\n\nimport { createWriter } from '../../../reducers/writersReducer'\nimport { addWriterImage } from '../../../reducers/writerImagesReducer'\nimport { notifySuccess, notifyError } from '../../../reducers/notificationReducer'\n\nimport UploadComponent from '../../UploadComponent'\n\nimport writerImagesService from '../../../services/writerImages'\nimport writerService from '../../../services/writers'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tmarginTop: 150,\n\t\tmarginBottom: 150,\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t},\n\tpriceContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row'\n\t},\n\tpriceItem: {\n\t\tmarginRight: 5\n\t},\n\tcheckBoxMargins: {\n\t\tmarginRight: 0,\n\t\tmarginLeft: 0\n\t},\n}))\n\nconst initialValues = {\n\tfirstName: '',\n\tlastName: '',\n\tuserName: '',\n\twriterDescription: '',\n\twriterGenres: [],\n\toneArticlePrice: 0,\n\tmontlySubscriptionPrice: 0,\n\tyearlySubscriptionPrice: 0,\n\tpassword: '',\n\tpasswordConfirmation: '',\n\tfiles: []\n}\n\nconst validationSchema = yup.object().shape({\n\tfirstName: yup.string()\n\t\t.min(2, 'Too Short')\n\t\t.max(50, 'Too Long')\n\t\t.required('Required'),\n\tlastName: yup.string()\n\t\t.min(2, 'Too Short')\n\t\t.max(50, 'Too Long')\n\t\t.required('Required'),\n\tuserName: yup.string()\n\t\t.min(3, 'Too Short')\n\t\t.max(50, 'Too Long')\n\t\t.required('Required'),\n\twriterDescription: yup.string()\n\t\t.min(50, 'Description must be at least 50 characters')\n\t\t.max(500, 'Description must be less than 500 characters')\n\t\t.required('Required'),\n\twriterGenres: yup.array()\n\t\t.min(1, 'Check at least one category'),\n\toneArticlePrice: yup.number()\n\t\t.required('Required')\n\t\t.moreThan(0, 'Value must be greater than 0'),\n\tmontlySubscriptionPrice: yup.number()\n\t\t.required('Required')\n\t\t.moreThan(0, 'Value must be greater than 0'),\n\tyearlySubscriptionPrice: yup.number()\n\t\t.required('Required')\n\t\t.moreThan(0, 'Value must be greater than 0'),\n\tpassword: yup.string()\n\t\t.min(8, 'Password too Short')\n\t\t.max(50, 'Password too Long')\n\t\t.required('Required'),\n\tpasswordConfirmation: yup.string()\n\t\t.oneOf([yup.ref('password'), null], 'Passwords must match'),\n\tfiles:  yup.array()\n\t\t.min(1, 'One image required')\n})\n\nconst WriterSignUpForm = ({ validateUsername,  values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<Typography variant='h4' style={{ textAlign: 'center', marginTop: 20 }}>Writer registration form</Typography>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.firstName}\n\t\t\t\t\t\terror={touched.firstName && Boolean(errors.firstName)}\n\t\t\t\t\t\thelperText={touched.firstName && errors.firstName}\n\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\tlabel=\"First name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.lastName}\n\t\t\t\t\t\terror={touched.lastName && Boolean(errors.lastName)}\n\t\t\t\t\t\thelperText={touched.lastName && errors.lastName}\n\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\tlabel=\"Last name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalidate={validateUsername}\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\t\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.writerDescription}\n\t\t\t\t\t\terror={touched.writerDescription && Boolean(errors.writerDescription)}\n\t\t\t\t\t\thelperText={touched.writerDescription && errors.writerDescription}\t\t\t\t\t\n\t\t\t\t\t\tid=\"writerDescription\"\n\t\t\t\t\t\tname=\"writerDescription\"\n\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t\t<Typography variant='subtitle1'>Categories</Typography>\n\t\t\t\t\t\t{errors.writerGenres && touched.writerGenres && \n\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.writerGenres}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t{newsCategories.map(categoryValue =>\n\t\t\t\t\t\t\t\t<FormControlLabel classes={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\tkey={categoryValue}\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tcomponent={CheckboxWithLabel}\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\t\t\tid={categoryValue.toLowerCase()}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"writerGenres\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={categoryValue}\n\t\t\t\t\t\t\t\t\t\t\tLabel={{ label: `${categoryValue}` }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t<FormControl component=\"fieldset\" className={classes.paddings}>\n\t\t\t\t\t\t<Typography variant='subtitle1' style={{ marginBottom: 10 }}>Pricing</Typography>\n\t\t\t\t\t\t<div className={classes.priceContainer}>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.oneArticlePrice}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tid=\"oneArticlePrice\"\n\t\t\t\t\t\t\t\tname=\"oneArticlePrice\"\n\t\t\t\t\t\t\t\tlabel=\"One Article\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tclassName={classes.priceItem}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.montlySubscriptionPrice}\n\t\t\t\t\t\t\t\terror={touched.montlySubscriptionPrice && Boolean(errors.montlySubscriptionPrice)}\n\t\t\t\t\t\t\t\thelperText={touched.montlySubscriptionPrice && errors.montlySubscriptionPrice}\n\t\t\t\t\t\t\t\tid=\"montlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tname=\"montlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tlabel=\"Montly Subscription\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tclassName={classes.priceItem}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.yearlySubscriptionPrice}\n\t\t\t\t\t\t\t\terror={touched.yearlySubscriptionPrice && Boolean(errors.yearlySubscriptionPrice)}\n\t\t\t\t\t\t\t\thelperText={touched.yearlySubscriptionPrice && errors.yearlySubscriptionPrice}\n\t\t\t\t\t\t\t\tid=\"yearlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tname=\"yearlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tlabel=\"Yearly Subscription\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.passwordConfirmation}\n\t\t\t\t\t\terror={touched.passwordConfirmation && Boolean(errors.passwordConfirmation)}\n\t\t\t\t\t\thelperText={touched.passwordConfirmation && errors.passwordConfirmation}\n\t\t\t\t\t\tid=\"passwordConfirmation\"\n\t\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\t\tlabel=\"Password confirmation\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant='subtitle1' className={classes.formControl}>Profile picture</Typography>\n\t\t\t\t\t<div className={classes.formControl}>\n\t\t\t\t\t\t{errors.files && touched.files && \n\t\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.files}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<UploadComponent setFieldValue={setFieldValue} values={values}/>\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" type=\"submit\" id='submitWriterRegister' className={classes.button}>\n                        Sign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst SignUpWriter = () => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\tconst writers = useSelector(state => state.writers)\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tconst data = new FormData() \n\t\t\tdata.append('file', values.files[0])\n\t\t\t\n\t\t\tconst imageFromDb = await writerImagesService.create(data)\n\n\t\t\tconst writerForFb = { ...values, imageId: imageFromDb.id }\n\t\t\tconst writerFromDb = await writerService.create(writerForFb)\n\n\t\t\tconst imageForDispatch = { ...imageFromDb, writer: writerFromDb.id }\n\n\t\t\tawait dispatch(addWriterImage(imageForDispatch))\n\t\t\tawait dispatch(createWriter(writerFromDb))\n\t\t\tdispatch(notifySuccess('Registered successfully'))\n\t\t\thistory.push('/writerssection/login')\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t}\n\t}\n\n\tconst validateUsername = (newUserName) => {\n\t\tlet error\n\t\tif (writers.some(writer => writer.userName === newUserName)) {\n\t\t\terror = 'Sorry, this username already exists '\n\t\t}\n\t\treturn error\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => \n\t\t\t\t\t<WriterSignUpForm \n\t\t\t\t\t\tvalidateUsername={validateUsername}\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default SignUpWriter","import React from 'react'\nimport * as yup from 'yup'\nimport { Formik, Field } from 'formik'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport { TextField } from 'formik-material-ui'\nimport { makeStyles, Typography, Button } from '@material-ui/core'\n\nimport { addReader } from '../../reducers/loginReaderReducer'\nimport { notifySuccess, notifyError } from '../../reducers/notificationReducer'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t}\n}))\n\nconst initialValues = {\n\tuserName: '',\n\tpassword: '',\n}\n\nconst validationSchema = yup.object().shape({\n\tuserName: yup\n\t\t.string()\n\t\t.required('Username is required'),\n\tpassword: yup\n\t\t.string()\n\t\t.required('Password is required')\n})\n\nconst LoginReaderForm = ({ values, errors, touched, handleChange, handleBlur, handleSubmit }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h4' className={classes.loginText}>\n                        Log In\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button id='readerLoginButton' color=\"primary\" variant=\"contained\" type=\"submit\" className={classes.button}>\n                        Log in\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst LoginReader = () => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tawait dispatch(addReader(values))\n\t\t\tdispatch(notifySuccess('Login successful'))\n\t\t\thistory.push('/')\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('Incorrect username or password'))\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit }) => \n\t\t\t\t\t<LoginReaderForm \n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default LoginReader","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Snackbar, Fade } from '@material-ui/core'\nimport MuiAlert from '@material-ui/lab/Alert'\n\nconst Alert = (props) => {\n\treturn <MuiAlert elevation={6} variant=\"filled\" {...props} />\n}\n\nconst SnackBar = () => {\n\tconst notification = useSelector(state => state.notification)\n\t\n\treturn (\n\t\t<Snackbar \n\t\t\tanchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n\t\t\topen={notification.open} \n\t\t\tTransitionComponent={Fade}\n\t\t>\n\t\t\t<Alert severity={notification.messageType}>\n\t\t\t\t{notification.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t)\n}\n\nexport default SnackBar\n","import React from 'react'\nimport { Formik, Field } from 'formik'\nimport * as yup from 'yup'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { TextField } from 'formik-material-ui'\nimport { makeStyles, Typography, Button } from '@material-ui/core'\n\nimport { addWriter } from '../../../reducers/loginWriterReducer'\nimport { notifyError, notifySuccess } from '../../../reducers/notificationReducer'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t}\n}))\n\nconst initialValues = {\n\tuserName: '',\n\tpassword: '',\n}\n\nconst validationSchema = yup.object().shape({\n\tuserName: yup\n\t\t.string()\n\t\t.required('Username is required'),\n\tpassword: yup\n\t\t.string()\n\t\t.required('Password is required')\n})\n\nconst LoginWriterForm = ({ reader, values, errors, touched, handleChange, handleBlur, handleSubmit }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h4' className={classes.loginText}>\n                        Writer Log In\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t/>\n\t\t\t\t\t{reader\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" disabled type=\"submit\" className={classes.button}>\n\t\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'center' }}>\n\t\t\t\t\t\t\t\t\t<Typography fullWidth variant='subtitle1' style={{ color: '#f44336', marginTop: 10 }}>Logout from Reader account to Login as Writer</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" type=\"submit\" id='writerLoginButton' className={classes.button}>\n\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) \n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst LoginWriter = () => {\n\tconst reader = useSelector(state => state.reader)\n\tconst writers = useSelector(state => state.writers)\n\tconst dispatch = useDispatch()\n\tlet hisotry = useHistory()\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tawait dispatch(addWriter(values))\n\t\t\tconst idForLink = writers.filter(writer => writer.userName === String(values.userName))[0]\n\t\t\tdispatch(notifySuccess('Logged in successfully'))\n\t\t\thisotry.push(`/writerssection/profile/${idForLink.id}`)\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('Incorrect username or password'))\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit }) => \n\t\t\t\t\t<LoginWriterForm \n\t\t\t\t\t\treader={reader}\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default LoginWriter","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/images/readers`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newImage) => {\n\tconst response = await axios.post(baseUrl, newImage)\n\treturn response.data\n}\n\nexport default { \n\tgetAll, \n\tgetOne, \n\tcreate \n}","import readerImagesService from '../services/readerImages'\n\nconst readerImagesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_READERS_IMAGES':\n\t\treturn action.data\n\tcase 'ADD_READER_IMAGE':\n\t\treturn state.concat(action.data)\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initReaderImages = () => {\n\treturn async dispatch => {\n\t\tconst images = await readerImagesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_READERS_IMAGES',\n\t\t\tdata: images\n\t\t})\n\t}\n}\n\nexport const addReaderImage = (newImage) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_READER_IMAGE',\n\t\t\tdata: newImage\n\t\t})\n\t}\n}\n\n\nexport default readerImagesReducer","import React from 'react'\nimport { Formik, Field } from 'formik'\nimport * as yup from 'yup'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { TextField } from 'formik-material-ui'\nimport { makeStyles, Typography, Button } from '@material-ui/core'\n\nimport { createReader } from '../../reducers/readersReducer'\nimport { addReaderImage } from '../../reducers/readerImagesReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\n\nimport UploadComponent from '../UploadComponent'\n\nimport readerImagesService from '../../services/readerImages'\nimport readersService from '../../services/readers'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t},\n\tformControl: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tmarginTop: 5,\n\t},\n}))\n\nconst initialValues = {\n\tfirstName: '',\n\tlastName: '',\n\tuserName: '',\n\tpassword: '',\n\tpasswordConfirmation: '',\n\tfiles: []\n}\n\nconst validationSchema = yup.object().shape({\n\tfirstName: yup.string()\n\t\t.min(2, 'Too Short!')\n\t\t.max(50, 'Too Long!')\n\t\t.required('Required'),\n\tlastName: yup.string()\n\t\t.min(2, 'Too Short!')\n\t\t.max(50, 'Too Long!')\n\t\t.required('Required'),\n\tuserName: yup.string()\n\t\t.min(3, 'Username too Short!')\n\t\t.max(50, 'Username too Long!')\n\t\t.required('Required'),\n\tpassword: yup.string()\n\t\t.min(8, 'Password too Short!')\n\t\t.max(50, 'Password too Long!')\n\t\t.required('Required'),\n\tpasswordConfirmation: yup.string()\n\t\t.oneOf([yup.ref('password'), null], 'Passwords must match'),\n\tfiles:  yup.array()\n\t\t.min(1, 'One image required')\n})\n\nconst SignUpReaderForm = ({ values, errors, touched, handleChange, handleBlur, handleSubmit, validateUsername, setFieldValue }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h4' className={classes.loginText}>\n                        Sign Up\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.firstName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.firstName && Boolean(errors.firstName)}\n\t\t\t\t\t\thelperText={touched.firstName && errors.firstName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\tlabel=\"First name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.lastName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.lastName && Boolean(errors.lastName)}\n\t\t\t\t\t\thelperText={touched.lastName && errors.lastName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\tlabel=\"Last name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalidate={validateUsername}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.passwordConfirmation}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.passwordConfirmation && Boolean(errors.passwordConfirmation)}\n\t\t\t\t\t\thelperText={touched.passwordConfirmation && errors.passwordConfirmation}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"passwordConfirmation\"\n\t\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\t\tlabel=\"Password confirmation\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant='subtitle1' className={classes.formControl}>Profile picture</Typography>\n\t\t\t\t\t<div className={classes.formControl}>\n\t\t\t\t\t\t{errors.files && touched.files && \n\t\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.files}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<UploadComponent setFieldValue={setFieldValue} values={values}/>\n\t\t\t\t\t<Button id='submitReaderRegister' color=\"primary\" variant=\"contained\" type=\"submit\" className={classes.button}>\n                        Sign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst SignUpReader = () => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\tconst readers = useSelector(state => state.readers)\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tconst data = new FormData() \n\t\t\tdata.append('file', values.files[0])\n\t\t\tconst imageFromDb = await readerImagesService.create(data)\n\n\t\t\tconst readerforDb = { ...values, imageId: imageFromDb.id }\n\t\t\tconst readerFromDb = await readersService.create(readerforDb)\n\n\t\t\tconst imageForDispatch = { ...imageFromDb, reader: readerFromDb.id }\n\t\t\tawait dispatch(addReaderImage(imageForDispatch))\n\t\t\tawait dispatch(createReader(readerFromDb))\n\t\t\tdispatch(notifySuccess('Registration successful'))\n\t\t\thistory.push('/reader/login')\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t}\n\t}\n\n\tconst validateUsername = (newUserName) => {\n\t\tlet error\n\t\tif (readers.some(reader => reader.userName === newUserName)) {\n\t\t\terror = 'Sorry, this username already exists '\n\t\t}\n\t\treturn error\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => \n\t\t\t\t\t<SignUpReaderForm \n\t\t\t\t\t\tvalidateUsername={validateUsername}\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default SignUpReader","import React, { useState } from 'react'\nimport { useCookies } from 'react-cookie'\nimport { useHistory } from 'react-router-dom'\nimport NumberFormat from 'react-number-format'\nimport { useDispatch } from 'react-redux'\n\nimport { DialogActions, DialogTitle, Dialog, Button, makeStyles } from '@material-ui/core/'\n\nimport { addReaderFunds } from '../../reducers/readersReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\nimport { removeReader } from '../../reducers/loginReaderReducer'\n\n\nconst useStyles = makeStyles(theme => ({\n\ttext:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n}))\n\nconst AddFundsDialog = ({ openDialog, setOpenDialog, reader }) => {\n\tconst [fundsValue, setFundsValue] = useState(0)\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\n\tconst onChangeFunds = event => {\n\t\tsetFundsValue(event.target.value)\n\t}\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\ttry {\n\t\t\tconst fundsToAdd = Number(fundsValue)\n\t\t\tawait dispatch(addReaderFunds(fundsToAdd, reader))\n\t\t\tdispatch(notifySuccess(`${fundsToAdd} € added to your funds`))\n\t\t\tsetFundsValue(0)\n\t\t\tsetOpenDialog(false)\n\t\t} catch  (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={openDialog}\n\t\t\tonClose={() => setOpenDialog(false)}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\" className={classes.text}>Add Funds</DialogTitle>\n\t\t\t<DialogActions>\n\t\t\t\t<NumberFormat\n\t\t\t\t\tid='addFundsInput'\n\t\t\t\t\tonChange={onChangeFunds}\n\t\t\t\t\tvalue={fundsValue}\n\t\t\t\t\tisNumericString\n\t\t\t\t/>\n\t\t\t\t<Button color=\"primary\" id='addFundsDialogAddButton' autoFocus onClick={handleSubmit}>\n\t\t\t\t\t\tadd\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => setOpenDialog(false)} color=\"primary\" autoFocus>\n\t\t\t\t\t\tclose\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n\nexport default AddFundsDialog","import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport { useCookies } from 'react-cookie'\n\n\nimport { AppBar, Tabs, Tab, Typography, Box, ListItem, ListItemText, List, makeStyles, Button } from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport { removeFavoriteWriter } from '../../reducers/readersReducer'\nimport { removeReaderFromFollowers } from '../../reducers/writersReducer'\nimport { removeReader } from '../../reducers/loginReaderReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\n\n \nconst useStyles = makeStyles(theme => ({\n\ttext: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextTransform: 'uppercase'\n\t},\n\troot: {\n\t\tcolor: theme.palette.text.blueish,\n\t\ttextDecoration: 'underline'\n\t},\n\tlistItem: {\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tmarginBottom: 10\n\t}\n}))\n\nconst TabPanel = (props) => {\n\tconst { children, value, index, ...other } = props\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`simple-tabpanel-${index}`}\n\t\t\taria-labelledby={`simple-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3}>\n\t\t\t\t\t<Typography component=\"span\">{children}</Typography>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nconst a11yProps = (index) => {\n\treturn {\n\t\tid: `simple-tab-${index}`,\n\t\t'aria-controls': `simple-tabpanel-${index}`,\n\t}\n}\n\nconst ListItemLink = (props) => {\n\treturn <ListItem button component=\"a\" {...props}/>\n}\n\nconst ReaderTabs = ({ reader }) => {\n\tconst [value, setValue] = useState(0)\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\tconst handleChange = (event, newValue) => {\n\t\tsetValue(newValue)\n\t}\n\n\tconst handleRemove = async (favoriteWriter) => {\n\t\ttry {\n\t\t\tawait dispatch(removeFavoriteWriter(favoriteWriter, reader))\n\t\t\tawait dispatch(removeReaderFromFollowers(reader, favoriteWriter))\n\t\t\tdispatch(notifySuccess(`${favoriteWriter.firstName} ${favoriteWriter.lastName} removed from favorites`))\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\" centered>\n\t\t\t\t\t<Tab label=\"Favorite writers\" {...a11yProps(0)} />\n\t\t\t\t\t<Tab label=\"Subscribtions\" {...a11yProps(1)} />\n\t\t\t\t\t<Tab label=\"Comments\" {...a11yProps(2)} />\n\t\t\t\t</Tabs>\n\t\t\t</AppBar>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t{reader.favoritewriters.length !== 0 \n\t\t\t\t\t? \n\t\t\t\t\t(<List component=\"div\">\n\t\t\t\t\t\t{reader.favoritewriters.map(favoriteWriter =>\n\t\t\t\t\t\t\t<ListItem key={favoriteWriter.id} className={classes.listItem}>\n\t\t\t\t\t\t\t\t<ListItemLink component={ Link } to={`/author/${favoriteWriter.id}`} >\n\t\t\t\t\t\t\t\t\t<ListItemText primary={`${favoriteWriter.firstName} ${favoriteWriter.lastName}`} classes={{ root: classes.root }} />\n\t\t\t\t\t\t\t\t</ListItemLink>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\tstartIcon={<DeleteIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(favoriteWriter)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>)\n\t\t\t\t\t: (<Typography className={classes.text} variant='subtitle1'>No favorited writers</Typography>)\n\t\t\t\t}\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t{reader.subscriptions.length !== 0 \n\t\t\t\t\t? \n\t\t\t\t\t(<List component=\"div\">\n\t\t\t\t\t\t{reader.subscriptions.map(subscription => \n\t\t\t\t\t\t\t<ListItem button key={subscription.id} className={classes.listItem}>\n\t\t\t\t\t\t\t\t<ListItemLink component={ Link } to={`/author/${subscription.recipient[0].id}`} >\n\t\t\t\t\t\t\t\t\t<ListItemText primary={`${subscription.recipient[0].firstName} ${subscription.recipient[0].lastName}`} classes={{ root: classes.root }} />\n\t\t\t\t\t\t\t\t\t<Typography className={classes.text} style={{ paddingRight: 30 }}  variant='subtitle1'>{`type: ${subscription.type}`}</Typography>\n\t\t\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>{`Duration: ${subscription.startDate.slice(0, -5)} - ${subscription.endDate.slice(0, -5)}`}</Typography>\n\t\t\t\t\t\t\t\t</ListItemLink>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>) \n\t\t\t\t\t: (<Typography className={classes.text} variant='subtitle1'>No subscribed writers</Typography>)\n\t\t\t\t}\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t{reader.readerComments.length !== 0 \n\t\t\t\t\t? \n\t\t\t\t\t(<List component=\"div\">\n\t\t\t\t\t\t{reader.readerComments.map(comment => \n\t\t\t\t\t\t\t<ListItem key={comment.id} className={classes.listItem}>\n\t\t\t\t\t\t\t\t<ListItemText className={classes.flexGrow} primary={`${comment.comment}`} secondary={`Posted: ${comment.date}`} />\n\t\t\t\t\t\t\t\t<Link to={`/article/${comment.article.id}`}>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={`${comment.article.title}`} classes={{ root: classes.root }} />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>)\n\t\t\t\t\t: (<Typography className={classes.text} variant='subtitle1'>No comments written</Typography>)\n\t\t\t\t}\n\t\t\t</TabPanel>\n\t\t</div>\n\t)\n}\n\nexport default ReaderTabs","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\n\nimport { makeStyles, Typography, Button } from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\nimport AddFundsDialog from './AddFundsDialog'\nimport ReaderTabs from './ReaderTabs'\n\nconst useStyles = makeStyles({\n\tprofileContaner: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\tinfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 10\n\t},\n\ttext: {\n\t\ttextAlign: 'center',\n\t\tpaddingTop: 50\n\t},\n\ttextGenres: {\n\t\tcolor: 'grey'\n\t},\n\tbalance: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tmarginTop: 5,\n\t\tmarginBottom: 20\n\t},\n\taddFundsButton: {\n\t\tmarginLeft: 10\n\t}\n})\n\nconst ReaderPage = () => {\n\tconst classes = useStyles()\n\tconst [openDialog, setOpenDialog] = useState(false)\n\tconst { id } = useParams()\n\tconst readers = useSelector(state => state.readers)\n\tconst images = useSelector(state => state.readerImages)\n\tconst filteredReader = readers.filter(reader => reader.id === id)[0]\n\tconst date = filteredReader.joined !== undefined ? filteredReader.joined : 'No data'\n\n\tconst filteredImage = images && images.length !== 0 && images.filter(img => img.reader === id)[0].img.data.data\n\tvar base64 = btoa(new Uint8Array(filteredImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!readers) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.profileContaner}>\n\t\t\t\t{images.length === 0\n\t\t\t\t\t? <Skeleton width={200} variant=\"rect\" animation=\"wave\"/>\n\t\t\t\t\t: <img\n\t\t\t\t\t\twidth=\"200\"\n\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${base64}`}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t<div className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t\t{filteredReader.userName}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className={classes.balance}>\n\t\t\t\t\t\t<Typography variant='h6' >\n\t\t\t\t\t\t\tMy funds: {filteredReader.funds} €\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button color='primary' size=\"small\" variant='outlined' id='addFundsButton' className={classes.addFundsButton} onClick={() => setOpenDialog(true)}>\n\t\t\t\t\t\t\tAdd funds\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Typography variant='caption' >\n\t\t\t\t\t\tJoined: {date}\n\t\t\t\t\t</Typography>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ReaderTabs reader={filteredReader} />\n\t\t\t<AddFundsDialog openDialog={openDialog} setOpenDialog={setOpenDialog} reader={filteredReader} />\n\t\t</div>\n\t)\n}\n\nexport default ReaderPage\n\n\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { Avatar, ListItemAvatar, ListItemText, ListItemSecondaryAction, ListItem, List, makeStyles, Typography } from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.primary.middleGrey,\n\t},\n\tlistItem: {\n\t\tmarginBottom: 10,\n\t\ttextDecoration: 'none',\n\t\t'&:hover': {\n\t\t\tbackgroundColor: theme.palette.primary.hover\n\t\t}\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.primary,\n\t\ttextDecoration: 'none'\n\t},\n\ttextWithPadding: {\n\t\ttextAlign: 'center',\n\t\tpaddingBottom: 20\n\t}\n}))\n\nconst AllWriters = () => {\n\tconst classes = useStyles()\n\tconst writers = useSelector(state => state.writers)\n\tconst writersImages = useSelector(state => state.writerImages)\n\n\tconst imageComp = (id) => {\n\t\tconst filteredWriterImage = writersImages && writersImages.length !== 0 && writersImages.filter(img => img.writer === id)[0].img.data.data\n\t\tlet encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\t\t\n\t\treturn ( \n\t\t\t<div>\n\t\t\t\t{ writersImages.length === 0\n\t\t\t\t\t? <Skeleton animation=\"wave\"><Avatar/></Skeleton>\n\t\t\t\t\t: <Avatar alt=\"Writers Profile Picture\" src={`data:image/jpeg;base64,${encodedWriterImage}`} />\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Typography variant='h3' className={classes.textWithPadding}>All writers</Typography>\n\t\t\t<List className={classes.root}>\n\t\t\t\t{writers.map(writer => (\n\t\t\t\t\t<ListItem key={writer.id} button component={ Link } to={`/author/${writer.id}`} classes={{ hover: classes.hover }} className={classes.listItem}>\n\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t{imageComp(writer.id)}\n\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" display=\"block\" className={classes.text}>\n\t\t\t\t\t\t\t\t\t{writer.firstName} {writer.lastName}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\twriter.writerGenres.map(genre => \n\t\t\t\t\t\t\t\t\t<Typography key={genre} variant=\"caption\" display=\"block\" className={classes.text}>\n\t\t\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Typography variant=\"caption\" display=\"block\" className={classes.text}>\n\t\t\t\t\t\t\t{writer.writerDescription}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t</ListItem>\t\n\t\t\t\t))}\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AllWriters","import React, {  } from 'react'\n\nimport { makeStyles, Grid, Card, Typography, CardContent, CardActionArea } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\tpaddingTop: 20\n\t},\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\ttextAlign: 'center',\n\t\tcolor: theme.palette.text.secondary,\n\t},\n\ttitleText: {\n\t\tcolor: theme.palette.text.grey,\n\t},\n\tinfoText: {\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tcard: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tminHeight: 105\n\t},\n\tactionArea: {\n\t\t'&:hover $focusHighlight': {\n\t\t\topacity: 0.5\n\t\t}\n\t},\n\tfocusHighlight: {\n\t}\n}))\n\nconst WritersDashboard = ({ writer, setComponentToOpen }) => {\n\tconst classes = useStyles()\n\n\tconst totalViews = writer.myarticles.map(article => article.views).reduce((accumulator, currentValue) => accumulator + currentValue, 0)\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid container spacing={2} >\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea onClick={() => setComponentToOpen('articles')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tMy Articles\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.myarticles.length}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea onClick={() => setComponentToOpen('subscribers')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tSubscribers\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.subscribers.length}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea onClick={() => setComponentToOpen('followers')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tFollowers\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.followers.length}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea id='myPricesCardButton' onClick={() => setComponentToOpen('prices')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom variant='body2'>\n\t\t\t\t\t\t\t\t\tMy prices, €\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.oneArticlePrice || 0}, {writer.montlySubscriptionPrice || 0}, {writer.yearlySubscriptionPrice || 0}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tTotal Views\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{totalViews}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t</Card>\t\t\t\t\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tEarnings, €\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.earnings ? writer.earnings : 0}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default WritersDashboard\n","import React from 'react'\n\nimport { makeStyles, withStyles, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from '@material-ui/core'\n\nconst useStyles = makeStyles({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n})\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst ArticlesStatistics = ({ articles }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell>Articles</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Type</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Genres</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Views</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Comments</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Published</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{articles.map(article => (\n\t\t\t\t\t\t<TableRow hover key={article.id}>\n\t\t\t\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">{article.title}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.paid === 'yes' ? 'Paid' : 'Free'}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.genres.map(genre => `${genre} `)}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.views}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.comments.length === 0 ? 0 : article.comments.length}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.published}</StyledTableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default ArticlesStatistics\n","import React from 'react'\nimport { makeStyles, withStyles, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from '@material-ui/core'\n\nconst useStyles = makeStyles(theme => ({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextTransform: 'uppercase'\n\t},\n}))\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst WritersFollowers = ({ followers }) => {\n\tconst classes = useStyles()\n\n\tconst followersRows = () => { \n\t\treturn followers.map(follower => (\n\t\t\t<TableRow hover key={follower.id}>\n\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">{follower.userName}</StyledTableCell>\n\t\t\t</TableRow>\n\t\t))\n\t}\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell>Follower username</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{followers.length === 0 \n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<TableRow hover>\n\t\t\t\t\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">No followers</StyledTableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (followersRows())\n\t\t\t\t\t}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default WritersFollowers\n","import React from 'react'\nimport { makeStyles, withStyles, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from '@material-ui/core'\n\n\nconst useStyles = makeStyles(theme => ({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextTransform: 'uppercase'\n\t},\n}))\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst WritersSubscribers = ({ subscribers }) => {\n\tconst classes = useStyles()\n\n\tconst subscribersRows = () => { \n\t\treturn subscribers.map(subscription => (\n\t\t\t<TableRow hover key={subscription.id}>\n\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">{subscription.subscriber[0].userName}</StyledTableCell>\n\t\t\t\t<StyledTableCell align=\"center\">{subscription.type.charAt(0).toUpperCase() + subscription.type.slice(1)}</StyledTableCell>\n\t\t\t\t<StyledTableCell align=\"center\">{subscription.startDate.slice(0, -6)} - {subscription.endDate.slice(0, -6)}</StyledTableCell>\n\t\t\t</TableRow>\n\t\t))\n\t}\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell>Subscribers username</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Type</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Duration</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{subscribers.length === 0 \n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<TableRow hover>\n\t\t\t\t\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">No subscribers</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (subscribersRows())\n\t\t\t\t\t} \n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default WritersSubscribers\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { useCookies } from 'react-cookie'\n\n\nimport { makeStyles, withStyles, TextField, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, IconButton } from '@material-ui/core'\n\n\nimport EditIcon from '@material-ui/icons/Edit'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DoneIcon from '@material-ui/icons/Done'\n\nimport { updatePricing } from '../../../reducers/writersReducer'\nimport { notifyError, notifySuccess } from '../../../reducers/notificationReducer'\nimport { removeWriter } from '../../../reducers/loginWriterReducer'\n\n\nconst useStyles = makeStyles(theme => ({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.primary,\n\t\ttextTransform: 'uppercase'\n\t},\n\tcell: {\n\t\tflexGrow: 1\n\t},\n\tinputColor: {\n\t\tcolor: '#000'\n\t},\n}))\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst CustomTableCell = ({ isEditMode, value, name, onChange }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<StyledTableCell align=\"center\">\n\t\t\t{isEditMode ? (\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tname={name}\n\t\t\t\t\tid={`priceInput-${name}`}\n\t\t\t\t\tonChange={e => onChange(e)}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t}}\n\t\t\t\t\tstyle = {{ width: 100 }}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\tvalue\n\t\t\t)}\n\t\t</StyledTableCell>\n\t)\n}\n\nconst WritersPrices = ({ writer }) => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tconst [isEditMode, setssEditMode] = useState(false)\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['writerAuthCookie'])\n\tconst history = useHistory()\n\n\tconst [priceList, setSriceList] = useState({\n\t\t'oneArticlePrice': writer.oneArticlePrice || 0,\n\t\t'montlySubscriptionPrice': writer.montlySubscriptionPrice || 0,\n\t\t'yearlySubscriptionPrice': writer.yearlySubscriptionPrice || 0\n\t})\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tawait dispatch(updatePricing(priceList, writer))\n\t\t\tdispatch(notifySuccess('Prices updated'))\n\t\t\tsetssEditMode(false)\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeWriter())\n\t\t\t\tremoveCookie('writerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/writerssection/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleCancel = () => {\n\t\tsetSriceList({\n\t\t\t'oneArticlePrice': writer.oneArticlePrice,\n\t\t\t'montlySubscriptionPrice': writer.montlySubscriptionPrice,\n\t\t\t'yearlySubscriptionPrice': writer.yearlySubscriptionPrice\n\t\t})\n\t\tsetssEditMode(false)\n\t}\n\t\n\tconst onChange = (event) => {\n\t\tsetSriceList({ ...priceList, [event.target.name]: Number(event.target.value) })\n\t}\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell width=\"25%\">Subscriptions</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"20%\" align=\"center\">1 Article, €</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"20%\" align=\"center\">1 Month, €</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"20%\" align=\"center\">1 Year, €</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"15%\"></StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow hover>\n\t\t\t\t\t\t<StyledTableCell width=\"25%\" component=\"th\" scope=\"row\">Price</StyledTableCell>\n\t\t\t\t\t\t<CustomTableCell width=\"20%\" {...{ isEditMode, value: priceList.oneArticlePrice, name: 'oneArticlePrice', onChange }} />\n\t\t\t\t\t\t<CustomTableCell width=\"20%\" {...{ isEditMode, value: priceList.montlySubscriptionPrice, name: 'montlySubscriptionPrice', onChange }} />\n\t\t\t\t\t\t<CustomTableCell width=\"20%\" {...{ isEditMode, value: priceList.yearlySubscriptionPrice, name: 'yearlySubscriptionPrice', onChange }} />\n\t\t\t\t\t\t<StyledTableCell width=\"15%\" align=\"right\">\n\t\t\t\t\t\t\t{isEditMode ? (\n\t\t\t\t\t\t\t\t<div className={classes.editMode}>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-label=\"done\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleSubmit()}\n\t\t\t\t\t\t\t\t\t\tid='confirmChangedPricesButton'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<DoneIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-label=\"cancel\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleCancel()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tid='editPricesButton'\n\t\t\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\t\t\tonClick={() => setssEditMode(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default WritersPrices\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\n\nimport { makeStyles, Typography, List } from '@material-ui/core'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\nimport WritersDashboard from './WritersDashboard'\nimport ArticlesStatistics from './ArticlesStatistics'\nimport WritersFollowers from './WritersFollowers'\nimport WritersSubscribers from './WritersSubscribers'\nimport WritersPrices from './WritersPrices'\n\nconst useStyles = makeStyles({\n\tprofileContaner: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\tinfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 10\n\t},\n\tgenresList: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n})\n\nconst WriterAdminPage = () => {\n\tconst classes = useStyles()\n\tconst { id } = useParams()\n\tconst writers = useSelector(state => state.writers)\n\tconst writersImages = useSelector(state => state.writerImages)\n\t\n\tconst loggedInWritter = writers.filter(writer => writer.id === id)[0]\n\n\tconst [componentToOpen, setComponentToOpen] = useState('articles')\n\n\tconst filteredWriterImage = writersImages && writersImages.length !== 0 && writersImages.filter(img => img.writer === id)[0].img.data.data\n\tvar encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tconst tabToOpen = () => {\n\t\tswitch (componentToOpen) {\n\t\tcase 'articles':\n\t\t\treturn <ArticlesStatistics articles={loggedInWritter.myarticles} />\n\t\tcase 'followers':\n\t\t\treturn <WritersFollowers followers={loggedInWritter.followers} />\n\t\tcase 'subscribers':\n\t\t\treturn <WritersSubscribers subscribers={loggedInWritter.subscribers} />\n\t\tcase 'prices':\n\t\t\treturn <WritersPrices writer={loggedInWritter} />\t\t\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.profileContaner}>\n\t\t\t\t{writersImages.length === 0\n\t\t\t\t\t? <Skeleton width={200} variant=\"rect\" animation=\"wave\"/>\n\t\t\t\t\t: <img\n\t\t\t\t\t\twidth=\"200\"\n\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedWriterImage}`}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\t<div className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t\t{loggedInWritter.firstName} {loggedInWritter.lastName}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\t{loggedInWritter.writerDescription}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<List className={classes.genresList}>\n\t\t\t\t\t\t{loggedInWritter.writerGenres.map(genre => \n\t\t\t\t\t\t\t<Typography key={genre} variant='body2'>\n\t\t\t\t\t\t\t\t{`${genre}.`}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\t\n\t\t\t\t\t</List>\n\t\t\t\t\t<Typography variant='caption'>\n\t\t\t\t\t\t{loggedInWritter.joined}\n\t\t\t\t\t</Typography>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<WritersDashboard writer={loggedInWritter} setComponentToOpen={setComponentToOpen} />\n\t\t\t{tabToOpen()}\t\t\t\n\t\t</div>\n\t)\n}\n\nexport default WriterAdminPage\n","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/images/articles`\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newImage) => {\n\tconst response = await axios.post(baseUrl, newImage)\n\treturn response.data\n}\n\nexport default { \n\tgetAll,\n\tgetOne, \n\tcreate\n}","import articleImagesService from '../services/articleImages'\n\nconst artcileImagesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_ARTICLES_IMAGES':\n\t\treturn action.data\n\tcase 'ADD_ARTICLE_IMAGE':\n\t\treturn state.concat(action.data)\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initArticleImages = () => {\n\treturn async dispatch => {\n\t\tconst images = await articleImagesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_ARTICLES_IMAGES',\n\t\t\tdata: images\n\t\t})\n\t}\n}\n\nexport const addArticleImage = (newImage) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_ARTICLE_IMAGE',\n\t\t\tdata: newImage\n\t\t})\n\t}\n}\n\n\nexport default artcileImagesReducer","import React from 'react'\nimport { Formik, Field, FieldArray } from 'formik'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport * as yup from 'yup'\nimport { useCookies } from 'react-cookie'\n\nimport { RadioGroup, CheckboxWithLabel, TextField } from 'formik-material-ui'\nimport { makeStyles, FormControl, Typography, FormControlLabel, FormGroup, Button, Radio, IconButton } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add'\nimport RemoveIcon from '@material-ui/icons/Remove'\n\nimport { newsCategories } from '../../data/data'\n\nimport { createArticle } from '../../reducers/articlesReducer'\nimport { addArticleToWriter } from '../../reducers/writersReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\nimport { addArticleImage } from '../../reducers/articleImagesReducer'\nimport { removeWriter } from '../../reducers/loginWriterReducer'\n\nimport articlesService from '../../services/articles'\nimport articleImagesService from '../../services/articleImages'\n\n\nimport UploadComponent from '../UploadComponent'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tmarginTop: 200,\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh',\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t},\n\tpriceContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row'\n\t},\n\tpriceItem: {\n\t\tmarginRight: 5\n\t},\n\tradioGroup: {\n\t\tdisplay: 'inline-block'\n\t},\n\tformControl: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tmarginTop: 10,\n\t\tmarginBottom: 10,\n\t},\n\tcheckBoxMargins: {\n\t\tmarginRight: 0,\n\t\tmarginLeft: 0\n\t},\n\tcontentField: {\n\t\tmarginBottom: 15\n\t}\n}))\n\nconst initialValues = {\n\ttitle: '',\n\tcontent: [],\n\tgenres: [],\n\tpaid: 'no',\n\tfiles: []\n}\n\nconst validationSchema = yup.object().shape({\n\ttitle: yup.string()\n\t\t.min(10, 'Too Short')\n\t\t.max(100, 'Too Long')\n\t\t.required('Required'),\n\tcontent: yup.array()\n\t\t.min(1, 'At least one paragraph required')\n\t\t.of(yup.string().min(50, 'Too Short')),\n\tgenres: yup.array()\n\t\t.min(1, 'Check at least one category'),\n\tpaid: yup.mixed()\n\t\t.oneOf(['yes', 'no']),\n\tfiles:  yup.array()\n\t\t.min(1, 'One image required')\n})\n\nconst NewArticleForm = ({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<Typography variant='h4' style={{ textAlign: 'center', marginTop: 20 }}>Create an article</Typography>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Title</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.title}\n\t\t\t\t\t\terror={touched.title && Boolean(errors.title)}\n\t\t\t\t\t\thelperText={touched.title && errors.title}\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Content</Typography>\n\t\t\t\t\t<FieldArray\n\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\trender={({ pop, push }) => (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{values.content.map((paragraph, index) => (\n\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={paragraph.index}\n\t\t\t\t\t\t\t\t\t\t\tlabel={`Paragraph ${index + 1}`}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tname={`content.${index}`}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tid={`paragraphInput-${index}`}\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.contentField}\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{errors.content &&\terrors.content[index] && touched.content && touched.content[index]}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<IconButton id='addParagraphButton' color=\"primary\" size='small' aria-label=\"upload picture\" component=\"span\" onClick={() => push('')}>\n\t\t\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<IconButton className={classes.minusItem} color=\"primary\" aria-label=\"upload picture\" size='small' component=\"span\" onClick={pop}>\n\t\t\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t\t<Typography variant='h6'>Categories</Typography>\n\t\t\t\t\t\t{errors.genres && touched.genres && \n\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.genres}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t{newsCategories.map(categoryValue =>\n\t\t\t\t\t\t\t\t<FormControlLabel classes={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\tkey={categoryValue}\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tcomponent={CheckboxWithLabel}\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"genres\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={categoryValue}\n\t\t\t\t\t\t\t\t\t\t\tLabel={{ label: `${categoryValue}` }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Paid</Typography>\n\t\t\t\t\t<Field component={RadioGroup} name=\"paid\" row defaultValue='no' className={classes.formControl}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue=\"yes\"\n\t\t\t\t\t\t\tcontrol={<Radio/>}\n\t\t\t\t\t\t\tlabel=\"Yes\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue=\"no\"\n\t\t\t\t\t\t\tcontrol={<Radio />}\n\t\t\t\t\t\t\tlabel=\"No\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Cover photo</Typography>\n\t\t\t\t\t<div className={classes.formControl}>\n\t\t\t\t\t\t{errors.files && touched.files && \n\t\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.files}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<UploadComponent setFieldValue={setFieldValue} values={values} />\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" type=\"submit\" className={classes.button}>\n                        Publish\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst NewArticle = () => {\n\tconst history = useHistory()\n\tconst writer = useSelector(state => state.writer)\n\tconst dispatch = useDispatch()\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['writerAuthCookie'])\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tconst data = new FormData() \n\t\t\tdata.append('file', values.files[0])\n\t\t\tconst imageFromDb = await articleImagesService.create(data)\n\n\t\t\tconst itemForArticleDb = { ...values, imageId: imageFromDb.id }\n\t\t\tconst articleFromDb = await articlesService.create(itemForArticleDb)\n\t\t\t\n\t\t\tconst imageForDispatch = { ...imageFromDb, article: articleFromDb.id }\n\t\t\tawait dispatch(addArticleImage(imageForDispatch))\n\t\t\tawait dispatch(createArticle(articleFromDb))\n\t\t\tawait dispatch(addArticleToWriter(articleFromDb))\n\t\t\tdispatch(notifySuccess('Article created'))\n\t\t\thistory.push(`/writerssection/profile/${writer.id}`)\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeWriter())\n\t\t\t\tremoveCookie('writerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/writerssection/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => \n\t\t\t\t\t<NewArticleForm \n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default NewArticle","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/subscriptions`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst deleteMany = async (array) => {\n\tconst response = await  axios.delete(baseUrl, { data: array })\n\treturn response.data\n}\n\nexport default { \n\tgetAll, \n\tdeleteMany \n}","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/reader/refresh`\n\n\nconst refreshReader = async (readerId) => {\n\tconst response = await axios.post(baseUrl, readerId)\n\treturn response.data\n}\n\nexport default { \n\trefreshReader \n}","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/writer/refresh`\n\n\nconst refreshWriter = async (writerId) => {\n\tconst response = await axios.post(baseUrl, writerId)\n\treturn response.data\n}\n\nexport default { \n\trefreshWriter\n}","import React, { useEffect } from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Container  from '@material-ui/core/Container'\n\nimport Navbar from './components/Navigation/Navbar'\nimport ArticlesList from './components/ArticlesList/ArticlesList'\nimport ArticlePage from './components/ArticlePage/ArticlePage'\nimport WriterPage from './components/WriterPage/WriterPage'\nimport SignUpWriter from './components/WriterAdminSection/WriterEntry/SignUpWriter'\nimport LoginReader from './components/ReaderEntry/LoginReader'\nimport SnackBar from './components/SnackBar'\nimport LoginWriter from './components/WriterAdminSection/WriterEntry/LoginWriter'\nimport SignUpReader from './components/ReaderEntry/SignUpReader'\nimport ReaderPage from './components/ReaderPage/ReaderPage'\nimport AllWriters from './components/AllWriters'\nimport WriterAdminPage from './components/WriterAdminSection/WritersPage/WriterAdminPage'\nimport NewArticle from './components/WriterAdminSection/NewArticle'\n\nimport { initArticles } from './reducers/articlesReducer'\nimport { initWriters, removeSubsFromWriters } from './reducers/writersReducer'\nimport { initReaders, removeSubsFromReaders } from './reducers/readersReducer'\nimport { initArticleImages } from './reducers/articleImagesReducer'\nimport { initWriterImages } from './reducers/writerImagesReducer'\nimport { initReaderImages } from './reducers/readerImagesReducer'\n\nimport subscriptionService from './services/subscriptions'\nimport readerRefreshServices from './services/readerRefresh'\nimport writerRefreshServices from './services/writerRefresh'\n\nconst App = () => {\n\tconst dispatch = useDispatch()\n\tconst reader = useSelector(state => state.reader)\n\tconst writer = useSelector(state => state.writer)\n\n\tuseEffect(() => {\n\t\tasync function getAllArticles() {\n\t\t\tawait dispatch(initArticles())\n\t\t}\n\t\tgetAllArticles()\n\t})\n\n\tuseEffect(() => {\n\t\tasync function getAllWriters() {\n\t\t\tawait dispatch(initWriters())\n\t\t}\n\t\tgetAllWriters()\n\t})\n\t\n\tuseEffect(() => {\n\t\tasync function getAllReaders() {\n\t\t\tawait dispatch(initReaders())\n\t\t}\n\t\tgetAllReaders()\n\t})\n\n\tuseEffect(() => {\n\t\tasync function getAllImages() {\n\t\t\tawait dispatch(initArticleImages())\n\t\t}\n\t\tgetAllImages()\n\t})\n\t\n\tuseEffect(() => {\n\t\tasync function getAllImages() {\n\t\t\tawait dispatch(initWriterImages())\n\t\t}\n\t\tgetAllImages()\n\t})\n\t\n\tuseEffect(() => {\n\t\tasync function getAllImages() {\n\t\t\tawait dispatch(initReaderImages())\n\t\t}\n\t\tgetAllImages()\n\t})\n\n\tconst getSubs = async () => {\t\n\t\tconst twoHours = 7200000\n\t\tconst subs = await subscriptionService.getAll()\t\n\t\tconst currentTime = Date.now() + twoHours\n\t\tconst subsToDelete = subs.filter(sub => sub.expirationDate < currentTime)\t\n\t\tif (subsToDelete.length > 0) {\n\t\t\tconst subsIds = subsToDelete.map(sub => sub.id)\n\t\t\tawait subscriptionService.deleteMany(subsToDelete)\n\t\t\tdispatch(removeSubsFromWriters(subsIds))\n\t\t\tdispatch(removeSubsFromReaders(subsIds))\n\t\t}\n\t}\n\n\tconst refreshReader = async () => {\t\n\t\tconst idForService = { id: reader.id }\n\t\tawait readerRefreshServices.refreshReader(idForService)\n\t}\n\n\tconst refreshWriter = async () => {\t\n\t\tconst idForService = { id: writer.id }\n\t\tawait writerRefreshServices.refreshWriter(idForService)\n\t}\n\t\n\tsetInterval(() => {\n\t\tgetSubs()\n\t}, 60 * 1000)\n\n\tsetInterval(() => {\n\t\tif (reader) {\n\t\t\trefreshReader()\n\t\t}\n\t\tif (writer) {\n\t\t\trefreshWriter()\n\t\t}\n\t}, 60 * 1000)\n\t\n\n\treturn (\n\t\t<Router>\n\t\t\t<Navbar />\n\t\t\t<Container>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path='/article/:id'>\n\t\t\t\t\t\t<ArticlePage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/genres/:genre'>\n\t\t\t\t\t\t<ArticlesList />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/search/:searchResult'>\n\t\t\t\t\t\t<ArticlesList />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/author/:author'>\n\t\t\t\t\t\t<WriterPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/reader/login'>\n\t\t\t\t\t\t<LoginReader />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/reader/signup'>\n\t\t\t\t\t\t<SignUpReader />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/reader/profile/:id'>\n\t\t\t\t\t\t<ReaderPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/signup'>\n\t\t\t\t\t\t<SignUpWriter />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/login'>\n\t\t\t\t\t\t<LoginWriter />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/profile/:id'>\n\t\t\t\t\t\t<WriterAdminPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/newarticle'>\n\t\t\t\t\t\t<NewArticle />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/allwriters'>\n\t\t\t\t\t\t<AllWriters />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/'>\n\t\t\t\t\t\t<ArticlesList />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Container>\n\t\t\t<SnackBar />\n\t\t</Router>\n\t)\n}\n\nexport default App\n\n// TODO readme description","import { configureStore } from '@reduxjs/toolkit'\nimport thunk from 'redux-thunk'\nimport { combineReducers } from 'redux' \nimport { persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\n\nimport articlesReducer from './reducers/articlesReducer'\nimport writersReducer from './reducers/writersReducer'\nimport loginWriterReducer from './reducers/loginWriterReducer'\nimport loginReaderReducer from './reducers/loginReaderReducer'\nimport readersReducer from './reducers/readersReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport artcileImagesReducer from './reducers/articleImagesReducer'\nimport writerImagesReducer from './reducers/writerImagesReducer'\nimport readerImagesReducer from './reducers/readerImagesReducer'\n\nconst reducers = combineReducers({\n\tarticles: articlesReducer,\n\twriter: loginWriterReducer,\n\twriters: writersReducer,\n\treader: loginReaderReducer,\n\treaders: readersReducer,\n\tnotification: notificationReducer,\n\tarticleImages: artcileImagesReducer,\n\twriterImages: writerImagesReducer,\n\treaderImages: readerImagesReducer\n})\n\nconst persistConfig = {\n\tkey: 'root',\n\tstorage,\n\tblacklist: ['articleImages', 'writerImages', 'readerImages']\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducers)\n\n\nexport default configureStore({\n\treducer: persistedReducer,\n\tmiddleware: [thunk]\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { persistStore } from 'redux-persist'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { CookiesProvider } from 'react-cookie'\n\nimport App from './App'\nimport store from './store'\nimport theme from './theme'\n\nlet persistor = persistStore(store)\n\nReactDOM.render(\n\t// <React.StrictMode>\n\t<Provider store={store}>\n\t\t<PersistGate loading={ <p>Loading...</p> } persistor={persistor}>\n\t\t\t<CookiesProvider>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<App />\n\t\t\t\t</ThemeProvider>\n\t\t\t</CookiesProvider>\n\t\t</PersistGate>\n\t</Provider>,\n\t// </React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}