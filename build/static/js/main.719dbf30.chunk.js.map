{"version":3,"sources":["components/SearchField.js","data/data.js","components/Navigation/LeftSideMenu.js","services/loginReader.js","reducers/loginReaderReducer.js","services/loginWriter.js","reducers/loginWriterReducer.js","reducers/notificationReducer.js","components/Navigation/Navbar.js","services/articles.js","reducers/articlesReducer.js","services/readers.js","reducers/readersReducer.js","services/writers.js","reducers/writersReducer.js","components/ArticlesList/DialogBoxToLogIn.js","components/ArticlesList/DialogBoxToAddFunds.js","components/ArticlesList/ArticleCard.js","components/ArticlesList/ArticlesFilter.js","components/ArticlesList/ArticlesList.js","components/ArticlePage/Comments.js","components/ArticlePage/ArticlePage.js","components/SubscriptionPlans.js","components/WriterPage.js","services/writerImages.js","reducers/writerImagesReducer.js","theme.js","components/UploadComponent.js","components/WriterSection/SignUpWriter.js","components/LoginReader.js","components/SnackBar.js","components/WriterSection/LoginWriter.js","services/readerImages.js","reducers/readerImagesReducer.js","components/SignUpReader.js","components/ReaderPage/AddFundsDialog.js","components/ReaderPage/ReaderTabs.js","components/ReaderPage/ReaderPage.js","components/AllWriters.js","components/WriterSection/WritersDashboard.js","components/WriterSection/ArticlesStatistics.js","components/WriterSection/WritersFollowers.js","components/WriterSection/WritersSubscribers.js","components/WriterSection/WritersPrices.js","components/WriterSection/WriterAdminPage.js","services/articleImages.js","reducers/articleImagesReducer.js","components/WriterSection/NewArticle.js","services/subscriptions.js","services/readerRefresh.js","services/writerRefresh.js","App.js","store.js","index.js"],"names":["useStyles","makeStyles","theme","icons","fill","fontSize","label","color","SearchField","hisotry","useHistory","classes","useState","searchVisible","setSearchVisible","searchValue","setSearchValue","style","display","TextField","type","id","value","onChange","event","target","variant","onKeyPress","charCode","preventDefault","push","InputLabelProps","root","IconButton","onClick","className","newsCategories","sideMenuWriterSection","text","linkText","allCategories","concat","list","width","icon","drawerpadding","padding","listItemText","primary","palette","paper","background","lighter","paperAnchorDockedLeft","borderRight","drawerHeader","alignItems","main","justifyContent","spacing","marginTop","mixins","toolbar","divider","light","LeftSideMenu","leftSideMenuIsOpen","setLeftSideMenuIsOpenIsOpen","categories","useSelector","state","reader","Drawer","anchor","open","onClose","role","onKeyDown","List","map","textDecoration","to","ListItem","button","ListItemText","Divider","baseUrl","process","login","credentials","a","axios","post","response","data","addReader","newReader","dispatch","loginReaderService","loginReaderReducer","action","addWriter","newWriter","loginWriterService","writer","loginWriterReducer","initialState","message","messageType","notifySuccess","setTimeout","notifyError","notificationReducer","appbar","flexGrow","marginBottom","leftElement","flex","leftElementChild","marginRight","rightElement","rightElementChild","marginLeft","menuIcon","titleText","accountIcon","signUpButton","secondary","menuItem","linkNoDecoration","BigTooltip","withStyles","tooltip","backgroundColor","Tooltip","Navbar","useDispatch","history","readersImages","readerImages","writersImages","writerImages","useCookies","removeCookie","filteredReaderImage","filter","img","encodedReaderImage","btoa","Uint8Array","reduce","byte","String","fromCharCode","filteredWriterImage","encodedWriterImage","AppBar","position","Toolbar","aria-label","Typography","component","Link","TransitionComponent","Fade","TransitionProps","timeout","title","aria-controls","aria-haspopup","Avatar","alt","src","path","Button","getAll","get","create","newArticle","update","updatedArticle","put","postComment","newComment","initArticles","articlesService","articles","createArticle","addViewToArticle","article","articleUpdated","views","addComment","commentator","savedComment","commentForDispatch","articlesReducer","comments","getOne","updatedReader","createSubscribtion","newSubscription","readerId","initReaders","readersService","readers","createReader","addFavoriteWriter","writerToAdd","readerToUpdate","funds","favoritewriters","favoritewriter","readerFromDb","console","log","readerForDispatch","removeFavoriteWriter","writerToRemove","addReaderFunds","fundsToAdd","substractReaderFunds","fundsToSubstract","removeSubsFromReaders","subsToRemove","readersReducer","subscriber","subscriptions","sub","includes","updatedWriter","initWriters","writersService","writers","createWriter","addReaderToFollowers","readerToAdd","writerToUpdate","followers","follower","writerFromDb","writerForDispatch","removeReaderFromFollowers","readerToRemove","addEarningsToWriter","earningsToAdd","earnings","updatePricing","newValues","writerToDispatch","addArticleToWriter","removeSubsFromWriters","writersReducer","oneArticlePrice","montlySubscriptionPrice","yearlySubscriptionPrice","author","myarticles","subscribers","DialogBoxToLogin","openLoginDialog","setOpenLoginDialog","handleSubmit","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","DialogBoxToAddFunds","openAddFundsDialog","setOpenAddFundsDialog","loggedInReader","price","gutterBottom","borderRadius","margin","media","height","textTitle","fontWeight","textauthor","paddingRight","cardInfoContainer","flexDirection","paddingTop","cardInfoCategories","cardContent","ArticleCard","images","articleImages","readerOne","filteredImage","base64","handleCardPress","paid","some","subscription","recipient","window","confirm","Card","CardActionArea","CardMedia","image","CardContent","firstName","lastName","genres","genre","posisioning","radioGroup","ArticlesFilter","setFilterValue","FormControl","fullWidth","RadioGroup","row","name","defaultValue","FormControlLabel","control","Radio","textAlign","textWithPadding","paddingBottom","ArticlesList","filterValue","useParams","searchResult","readersList","oneReader","readerFromList","readerFavorites","readerSubscriptions","articlesFiltered","allength","undefined","toLowerCase","length","articlesForList","Grid","container","justify","loginSignupText","categoryButton","accordion","accordionMargin","accordionLabel","rootBorder","borderStyle","borderWidth","borderColor","commentButton","inputColor","loginSignupContainer","lightGrey","commentForm","Comments","commentValue","setCommentValue","filteredArticle","comment","statusText","error","Accordion","AccordionSummary","expandIcon","AccordionDetails","AccordionActions","onSubmit","InputProps","size","userName","date","infoText","articleDiv","coverPhoto","ArticlePage","objectFit","marginottom","published","content","index","subscriptionOptionsContainer","subscriptionCard","minWidth","border","subText","cardButton","SubscriptionPlans","filteredWriter","matchingSub","handleSubscirbe","CardActions","endIcon","profileContaner","infoContainer","paddingLeft","subscribedCard","textTransform","genresList","textGenres","disabledButton","boxShadow","WriterPage","currentReader","isInFavotrites","writersSubs","readersSubs","suber","handleAddToFavorites","handleRemoveFromFavorites","alert","typeForSub","writerId","writerDescription","writerGenres","ButtonGroup","addToFavoritesButton","startDate","slice","endDate","newImage","initWriterImages","writerImagesService","addWriterImage","writerImagesReducer","createMuiTheme","middleGrey","hover","blueish","grey","baseStyle","outline","thumbsContainer","flexWrap","thumb","boxSizing","activeStyle","acceptStyle","rejectStyle","UploadComponent","setFieldValue","values","useDropzone","accept","onDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","thumbs","files","useMemo","loginText","item","maxWidth","form","paddings","priceContainer","priceItem","checkBoxMargins","initialValues","password","passwordConfirmation","validationSchema","yup","shape","min","max","required","moreThan","oneOf","WriterSignUpForm","validateUsername","errors","touched","handleChange","handleBlur","onBlur","Boolean","helperText","validate","multiline","formControl","FormGroup","categoryValue","CheckboxWithLabel","Label","SignUpWriter","FormData","append","imageFromDb","writerForFb","imageId","writerService","imageForDispatch","newUserName","LoginReaderForm","LoginReader","Alert","props","elevation","SnackBar","notification","Snackbar","anchorOrigin","vertical","horizontal","severity","LoginWriterForm","disabled","LoginWriter","idForLink","initReaderImages","readerImagesService","addReaderImage","readerImagesReducer","SignUpReaderForm","SignUpReader","readerforDb","AddFundsDialog","openDialog","setOpenDialog","fundsValue","setFundsValue","Number","isNumericString","listItem","TabPanel","children","other","hidden","Box","p","a11yProps","ListItemLink","ReaderTabs","setValue","handleRemove","favoriteWriter","Tabs","newValue","centered","Tab","startIcon","readerComments","balance","addFundsButton","ReaderPage","filteredReader","joined","AllWriters","imageComp","ListItemAvatar","ListItemSecondaryAction","card","minHeight","actionArea","opacity","focusHighlight","WritersDashboard","setComponentToOpen","totalViews","accumulator","currentValue","xs","table","StyledTableCell","head","body","TableCell","ArticlesStatistics","TableContainer","Paper","Table","TableHead","TableRow","align","TableBody","scope","WritersFollowers","WritersSubscribers","charAt","toUpperCase","cell","CustomTableCell","isEditMode","e","WritersPrices","setssEditMode","priceList","setSriceList","editMode","WriterAdminPage","loggedInWritter","componentToOpen","tabToOpen","initArticleImages","articleImagesService","addArticleImage","artcileImagesReducer","contentField","of","NewArticleForm","render","pop","paragraph","minusItem","NewArticle","itemForArticleDb","articleFromDb","deleteMany","array","delete","refreshReader","refreshWriter","App","useEffect","getAllArticles","getAllWriters","getAllReaders","getAllImages","getSubs","twoHours","subscriptionService","subs","currentTime","Date","now","subsToDelete","expirationDate","subsIds","idForService","readerRefreshServices","writerRefreshServices","setInterval","Container","exact","reducers","combineReducers","persistConfig","key","storage","persistedReducer","persistReducer","configureStore","reducer","middleware","thunk","persistor","persistStore","store","ReactDOM","loading","CookiesProvider","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.719dbf30.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport SearchIcon from '@material-ui/icons/Search'\nimport { makeStyles, IconButton, TextField } from '@material-ui/core/'\n\nconst useStyles = makeStyles(theme => ({\n\ticons: {\n\t\tfill: theme.icons.fill,\n\t\tfontSize: theme.icons.fontSize\n\t},\n\tlabel: {\n\t\tcolor: 'white'\n\t},\n}))\n\nconst SearchField = () => {\n\tlet hisotry = useHistory()\n\tconst classes = useStyles()\n\tconst [searchVisible, setSearchVisible] = useState(false)\n\tconst [searchValue, setSearchValue] = useState('')\n\n\tconst handleSearchVisibility = () => {\n\t\tsetSearchVisible(!searchVisible)\n\t}\n\n\tconst onChangeSearch = event => {\n\t\tsetSearchValue(event.target.value)\n\t}\n\t\n\tconst handleSubmit = (event) => {\n\t\tif (event.charCode === 13) { \n\t\t\tevent.preventDefault()\n\t\t\tsetSearchVisible(false)\n\t\t\thisotry.push(`/search/${searchValue}`)\n\t\t\tsetSearchValue('')\n\t\t} \n\t}\n\n\treturn (\n\t\t<div style={{ display: 'inline-block' }}>\n\t\t\t<TextField\n\t\t\t\tlabel=\"Search\"\n\t\t\t\ttype=\"search\"\n\t\t\t\tid='searchInput'\n\t\t\t\tvalue={searchValue}\n\t\t\t\tonChange={onChangeSearch}\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tonKeyPress={handleSubmit}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\troot: classes.label,\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tstyle={{ display: searchVisible ? 'inline-block' : 'none' }}\n\t\t\t/>\n\t\t\t\n\t\t\t<IconButton\n\t\t\t\tonClick={handleSearchVisibility}\n\t\t\t\tid='searchFieldButton'\n\t\t\t>\n\t\t\t\t<SearchIcon className={classes.icons}/>\n\t\t\t</IconButton>\n\t\t</div>\n\t)\n}\n\nexport default SearchField\n","export const newsCategories = ['Business', 'Cars', 'Entertainment', 'Family', 'Health', 'Politics', 'Religion', 'Science', 'Sport', 'Technology', 'Travel', 'World']\nconst loggedInReaderCategories = ['My Favorites', 'My Subscriptions']\nexport const sideMenuWriterSection = [\n\t{\n\t\ttext: 'Writer log in',\n\t\tlinkText: 'login'\n\t},\n\t{ \n\t\ttext: 'Become a writer',\n\t\tlinkText: 'signup'\n\t}\n]\nexport const allCategories = loggedInReaderCategories.concat(newsCategories)\n\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Drawer from '@material-ui/core/Drawer'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport CloseIcon from '@material-ui/icons/Close'\nimport Divider from '@material-ui/core/Divider'\nimport { allCategories, newsCategories } from '../../data/data'\nimport { sideMenuWriterSection } from '../../data/data'\nimport { Link } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n\tlist: {\n\t\twidth: 250,\n\t},\n\ticon: {\n\t\tfontSize: theme.icons.fontSize,\n\t\tfill: theme.icons.fill\n\t},\n\tdrawerpadding: {\n\t\tpadding: 0,\n\t},\n\tlistItemText: {\n\t\tprimary: theme.palette.text.primary\n\t},\n\tpaper: {\n\t\tbackground: theme.palette.primary.lighter\n\t},\n\tpaperAnchorDockedLeft: {\n\t\tborderRight: 0\n\t},\n\tdrawerHeader: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tbackground: theme.palette.primary.main,\n\t\tjustifyContent: 'flex-start',\n\t\tpadding: theme.spacing(0, 1),\n\t\tmarginTop: '0',\n\t\t...theme.mixins.toolbar,\n\t},\n\tdivider: {\n\t\tbackground: theme.palette.primary.light\n\t}\n}))\n\nconst LeftSideMenu = ({ leftSideMenuIsOpen, setLeftSideMenuIsOpenIsOpen }) => {\n\tconst classes = useStyles()\n\tconst reader = useSelector(state => state.reader)\n\n\tconst categories = reader ? allCategories : newsCategories\n\n\tconst list = () => (\n\t\t<div\n\t\t\tclassName={classes.list}\n\t\t\trole=\"button\"\n\t\t\tonClick={() => setLeftSideMenuIsOpenIsOpen(false)}\n\t\t\tonKeyDown={() => setLeftSideMenuIsOpenIsOpen(false)}\n\t\t>\n\t\t\t<List className={classes.drawerpadding}>\n\t\t\t\t<div className={classes.drawerHeader}>\n\t\t\t\t\t<IconButton onClick={() => setLeftSideMenuIsOpenIsOpen(false)}>\n\t\t\t\t\t\t<CloseIcon className={classes.icon} />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t{categories.map((text) => (\n\t\t\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} key={text} to={`/genres/${text}`}>\n\t\t\t\t\t\t<ListItem  button>\n\t\t\t\t\t\t\t<ListItemText primary={text} className={classes.listItemText}/>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t\t<Divider light classes={{ light: classes.divider }}/>\n\t\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} to='/allwriters'>\n\t\t\t\t\t<ListItem  button>\n\t\t\t\t\t\t<ListItemText primary='All Writers' className={classes.listItemText}/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Link>\n\t\t\t\t<Divider light classes={{ light: classes.divider }}/>\n\t\t\t\t{sideMenuWriterSection.map(value => (\n\t\t\t\t\t<Link style={{ textDecoration: 'none', color: 'grey' }} key={value.linkText} to={`/writerssection/${value.linkText}`}>\n\t\t\t\t\t\t<ListItem  button>\n\t\t\t\t\t\t\t<ListItemText primary={value.text} className={classes.listItemText}/>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Link>\n\t\t\t\t))}\n\t\t\t</List>\n\t\t</div>\n\t)\n\n\treturn (\n\t\t<Drawer\n\t\t\tclasses={{ paper: classes.paper, paperAnchorDockedLeft: classes.paperAnchorDockedLeft }}\n\t\t\tanchor=\"left\"\n\t\t\tvariant=\"persistent\"\n\t\t\topen={leftSideMenuIsOpen}\n\t\t\tonClose={() => setLeftSideMenuIsOpenIsOpen(false)}\n\t\t>\n\t\t\t{list('left')}\n\t\t</Drawer>\n\t)\n}\n\nexport default LeftSideMenu","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/reader/login`\n\n\nconst login = async credentials => {\n\tconst response = await axios.post(baseUrl, credentials)\n\treturn response.data\n}\n\nexport default { login }","import loginReaderService from '../services/loginReader'\n\nconst loginReaderReducer = (state = null, action) => {\n\tswitch(action.type) {\n\tcase 'ADD_READER':\n\t\treturn action.data\n\tcase 'REMOVE_READER':\n\t\treturn action.data\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const addReader = (newReader) => {\n\treturn async dispatch => {\n\t\tconst reader = await loginReaderService.login(newReader)\n\t\tdispatch ({\n\t\t\ttype: 'ADD_READER',\n\t\t\tdata: reader\n\t\t})\n\t}\n}\n\nexport const removeReader = () => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_READER',\n\t\t\tdata: null\n\t\t})\n\t}\n}\n\nexport default loginReaderReducer","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/writer/login`\n\n\n\nconst login = async credentials => {\n\tconst response = await axios.post(baseUrl, credentials)\n\treturn response.data\n}\n\nexport default { login }","import loginWriterService from '../services/loginWriter'\n\nconst loginWriterReducer = (state = null, action) => {\n\tswitch(action.type) {\n\tcase 'ADD_WRITER':\n\t\treturn action.data\n\tcase 'REMOVE_WRITER':\n\t\treturn action.data\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const addWriter = (newWriter) => {\n\treturn async dispatch => {\n\t\tconst writer = await loginWriterService.login(newWriter)\n\t\tdispatch ({\n\t\t\ttype: 'ADD_WRITER',\n\t\t\tdata: writer\n\t\t})\n\t}\n}\n\nexport const removeWriter = () => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_WRITER',\n\t\t\tdata: null\n\t\t})\n\t}\n}\n\nexport default loginWriterReducer","const initialState = {\n\topen: false,\n\tmessage: '',\n\tmessageType: ''\n}\n\nconst notificationReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\tcase 'NOTIFICATION':\n\t\treturn action.data\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const notifySuccess = (message) => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'NOTIFICATION',\n\t\t\tdata: { \n\t\t\t\topen: true,\n\t\t\t\tmessage,\n\t\t\t\tmessageType: 'success'\n\t\t\t}\n\t\t})\n\t\tsetTimeout(() => {\n\t\t\tdispatch({ \n\t\t\t\ttype: 'NOTIFICATION',\n\t\t\t\tdata: { \n\t\t\t\t\topen: false,\n\t\t\t\t\tmessage: '',\n\t\t\t\t\tmessageType: 'success'\n\t\t\t\t}\n\t\t\t})\n\t\t}, 6000)\n\t}\n}\n\nexport const notifyError = (message) => {\n\treturn dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'NOTIFICATION',\n\t\t\tdata: { \n\t\t\t\topen: true,\n\t\t\t\tmessage,\n\t\t\t\tmessageType: 'error'\n\t\t\t}\n\t\t})\n\t\tsetTimeout(() => {\n\t\t\tdispatch({ \n\t\t\t\ttype: 'NOTIFICATION',\n\t\t\t\tdata: { \n\t\t\t\t\topen: false,\n\t\t\t\t\tmessage: '',\n\t\t\t\t\tmessageType: 'error'\n\t\t\t\t}\n\t\t\t})\n\t\t}, 6000)\n\t}\n}\n\nexport default notificationReducer","import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { withStyles, makeStyles, Button, IconButton, Typography, Toolbar, AppBar, Tooltip, Fade, Avatar } from '@material-ui/core/'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport EditIcon from '@material-ui/icons/Edit'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport SearchField from '../SearchField'\nimport LeftSideMenu from './LeftSideMenu'\nimport { removeReader } from '../../reducers/loginReaderReducer'\nimport { useCookies } from 'react-cookie'\nimport { removeWriter } from '../../reducers/loginWriterReducer'\nimport { notifySuccess } from '../../reducers/notificationReducer'\n\nconst useStyles = makeStyles(theme => ({\n\tappbar: {\n\t\tbackground: theme.primary,\n\t},\n\troot: {\n\t\tflexGrow: 1,\n\t\tmarginBottom: 25\n\t},\n\tleftElement: {\n\t\tflex: 1,\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t},\n\tleftElementChild: {\n\t\tmarginRight: 'auto'\n\t},\n\trightElement: {\n\t\tflex: 1,\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center',\n\t},\n\trightElementChild: {\n\t\tmarginLeft: 'auto'\n\t},\n\tmenuIcon: {\n\t\tfill: theme.icons.fill,\n\t\tfontSize: theme.icons.fontSize,\n\t},\n\ttitleText: {\n\t\ttextDecoration: 'none',\n\t\tcolor: 'inherit',\n\t},\n\tbutton: {\n\t\tmarginRight: 10\n\t},\n\taccountIcon: {\n\t\tfill: theme.icons.fill,\n\t\tfontSize: theme.icons.fontSize,\n\t},\n\tsignUpButton: {\n\t\tcolor: theme.palette.secondary\n\t},\n\tmenuItem: {\n\t\tcolor: theme.palette.text.secondary,\n\t},\n\tlinkNoDecoration: {\n\t\ttextDecoration: 'none',\n\t},\n\ttoolbar: theme.mixins.toolbar,\n}))\n\nconst BigTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tfontSize: 15,\n\t},\n}))(Tooltip)\n\nconst Navbar = () =>  {\n\tconst dispatch = useDispatch()\n\tconst history = useHistory()\n\tconst reader = useSelector(state => state.reader)\n\tconst writer = useSelector(state => state.writer)\n\tconst readersImages = useSelector(state => state.readerImages)\n\tconst writersImages = useSelector(state => state.writerImages)\n\tconst classes = useStyles()\n\tconst [leftSideMenuIsOpen, setLeftSideMenuIsOpenIsOpen] = useState(false)\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie', 'writerAuthCookie'])\n\n\tconst filteredReaderImage = reader && readersImages.filter(img => img.reader === reader.id)[0].img.data.data\n\tvar encodedReaderImage = btoa(new Uint8Array(filteredReaderImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\t\n\tconst filteredWriterImage = writer && writersImages.filter(img => img.writer === writer.id)[0].img.data.data\n\tvar encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tconst handleLeftSideMenuIsOpen = () => {\n\t\tsetLeftSideMenuIsOpenIsOpen(true)\n\t}\n\n\tconst handleReaderLogout = () => {\n\t\tdispatch(removeReader())\n\t\tdispatch(notifySuccess('Logged out successfully'))\n\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\thistory.push('/')\n\t}\n\t\n\tconst handleWriterLogout = () => {\n\t\tdispatch(removeWriter())\n\t\tdispatch(notifySuccess('Logged out successfully'))\n\t\tremoveCookie('writerAuthCookie', { path: '/' })\n\t\thistory.push('/')\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<LeftSideMenu leftSideMenuIsOpen={leftSideMenuIsOpen} setLeftSideMenuIsOpenIsOpen={setLeftSideMenuIsOpenIsOpen} />\n\t\t\t<AppBar position=\"fixed\" className={classes.appbar}>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<div className={classes.leftElement}>\n\t\t\t\t\t\t<IconButton className={classes.leftElementChild} color=\"inherit\" id='leftSideMenuButton' aria-label=\"menu\" onClick={handleLeftSideMenuIsOpen} style={{ display: writer ? 'none' : 'block' }}>\n\t\t\t\t\t\t\t<MenuIcon className={classes.menuIcon} />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t\t{writer \n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.titleText}>\n\t\t\t\t\t\t\t\tNews App\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Typography component={ Link } to='/' variant=\"h6\" id='newsAppHome' className={classes.titleText}>\n\t\t\t\t\t\t\t\tNews App\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t{(reader && !writer) ? (\n\t\t\t\t\t\t<div className={classes.rightElement} >\n\t\t\t\t\t\t\t<div className={classes.rightElementChild}>\n\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Search\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<SearchField />\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Profile\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\tclassName='readerProfileAvatarButton'\n\t\t\t\t\t\t\t\t\t\t\tcomponent={ Link }\n\t\t\t\t\t\t\t\t\t\t\tto={`/reader/profile/${reader.id}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Avatar \n\t\t\t\t\t\t\t\t\t\t\t\talt=\"Reader Profile Picture\"\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedReaderImage}`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Log out\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\tclassName='readerLogoutButton'\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleReaderLogout}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ExitToAppIcon className={classes.accountIcon}/>\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) :\n\t\t\t\t\t\t(writer && !reader) ? (\n\t\t\t\t\t\t\t<div className={classes.rightElement}>\n\t\t\t\t\t\t\t\t<div className={classes.rightElementChild}>\n\t\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Write an article\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={ Link }\n\t\t\t\t\t\t\t\t\t\t\t\tto='/writerssection/newarticle'\n\t\t\t\t\t\t\t\t\t\t\t\tid='newArticleIcon'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon className={classes.accountIcon} />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Profile\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent={ Link }\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/writerssection/profile/${writer.id}`}\n\t\t\t\t\t\t\t\t\t\t\t> \n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar \n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Writers Profile Picture\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedWriterImage}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Log out\">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-controls=\"menu-appbar\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='writerLogoutButton'\n\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleWriterLogout}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ExitToAppIcon className={classes.accountIcon}/>\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t<div className={classes.rightElement}>\n\t\t\t\t\t\t\t\t\t<div className={classes.rightElementChild}>\n\t\t\t\t\t\t\t\t\t\t<SearchField />\n\t\t\t\t\t\t\t\t\t\t<Button color=\"inherit\" to='/reader/login' component={ Link } className={classes.button}>\n\t\t\t\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" to='/reader/signup' component={ Link } className={classes.signUpButton}>\n\t\t\t\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t\t<div className={classes.toolbar} />\n\t\t</div>\n\t)\n}\n\nexport default Navbar","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/articles`\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst create = async (newArticle) => {\n\tconst response = await axios.post(baseUrl, newArticle)\n\treturn response.data\n}\n\nconst update = async (updatedArticle, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, updatedArticle)\n\treturn response.data\n}\n\n\nconst postComment = async (newComment, id) => {\n\tconst response = await axios.post(`${baseUrl}/${id}/comments`, newComment)\n\treturn response.data\n}\n\nexport default { getAll, create, update, postComment }","import articlesService from '../services/articles'\n\nconst articlesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_ARTICLES':\n\t\treturn action.data\n\tcase 'CREATE_ARTICLE':\n\t\treturn [...state, action.data]\n\tcase 'ADD_VIEW_TO_ARTICLE':\n\t\treturn state.map(article => article.id === action.data ? { ...article, views: article.views + 1 } : article)\n\tcase 'ADD_COMMENT': {\n\t\treturn state.map(article => {\n\t\t\tif (article.id === action.data.article) {\n\t\t\t\treturn { ...article, comments: article.comments.concat(action.data) }\n\t\t\t}\n\t\t\treturn article\n\t\t})\n\t}\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initArticles = () => {\n\treturn async dispatch => {\n\t\tconst articles = await articlesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_ARTICLES',\n\t\t\tdata: articles\n\t\t})\n\t}\n}\n\nexport const createArticle = (newArticle) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'CREATE_ARTICLE',\n\t\t\tdata: newArticle\n\t\t})\n\t}\n}\n\nexport const addViewToArticle = (article) => {\n\treturn async dispatch => {\n\t\tconst articleUpdated = { views: article.views + 1 }\n\t\tawait articlesService.update(articleUpdated, article.id)\n\t\tdispatch ({\n\t\t\ttype: 'ADD_VIEW_TO_ARTICLE',\n\t\t\tdata: article.id\n\t\t})\n\t}\n}\n\n\nexport const addComment = (newComment, id, commentator) => {\n\treturn async dispatch => {\n\t\tconst savedComment = await articlesService.postComment(newComment, id)\n\t\tconst commentForDispatch = { ...savedComment, commentator: commentator }\n\t\tdispatch ({\n\t\t\ttype: 'ADD_COMMENT',\n\t\t\tdata: commentForDispatch\n\t\t})\n\t}\n}\n\n\n\nexport default articlesReducer","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/readers`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newReader) => {\n\tconst response = await axios.post(baseUrl, newReader)\n\treturn response.data\n}\n\nconst update = async (updatedReader, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, updatedReader)\n\treturn response.data\n}\n\nconst createSubscribtion = async (newSubscription, readerId) => {\n\tconst response = await axios.post(`${baseUrl}/${readerId}/subscriptions`, newSubscription)\n\treturn response.data\n}\n\nexport default { \n\tcreate,\n\tgetAll,\n\tgetOne,\n\tupdate,\n\tcreateSubscribtion\n}","import readersService from '../services/readers'\n\nconst readersReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_READERS':\n\t\treturn action.data\n\tcase 'CREATE_READER':\n\t\treturn state.concat(action.data)\n\tcase 'UPDATE_READERS_FUNDS':\n\t\treturn state.map(reader => {\n\t\t\tif (reader.id === action.data.id) {\n\t\t\t\treturn { ...reader, funds: action.data.funds }\n\t\t\t}\n\t\t\treturn reader\n\t\t})\n\tcase 'ADD_FAVORITE_WRITER':\n\t\treturn state.map(reader => reader.id === action.data.id ? action.data : reader)\n\tcase 'REMOVE_FAVORITE_WRITER': \n\t\treturn state.map(reader => reader.id === action.data.id ? action.data : reader)\n\tcase 'ADD_SUBSCRIPTION_TO_READER': \n\t\treturn state.map(reader => {\n\t\t\tif (reader.id === action.data.subscriber.id) {\n\t\t\t\treturn { ...reader, subscriptions: reader.subscriptions.concat(action.data) }\n\t\t\t}\n\t\t\treturn reader\n\t\t})\n\tcase 'REMOVE_SUBS_FROM_READERS':\n\t\treturn state.map(reader => ({ ...reader, subscriptions: reader.subscriptions.filter(sub => !action.data.includes(sub.id)) }))\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initReaders = () => {\n\treturn async dispatch => {\n\t\tconst readers = await readersService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_READERS',\n\t\t\tdata: readers\n\t\t})\n\t}\n}\n\nexport const createReader = (newReader) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'CREATE_READER',\n\t\t\tdata: newReader\n\t\t})\n\t}\n}\n\nexport const addFavoriteWriter = (writerToAdd, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { funds: reader.funds, favoritewriters: reader.favoritewriters.map(favoritewriter => favoritewriter.id).concat(writerToAdd.id) }\n\t\tconst readerFromDb = await readersService.update(readerToUpdate, reader.id)\n\t\tconsole.log('readerFromDb', readerFromDb)\n\t\tconst readerForDispatch = { ...reader, favoritewriters: reader.favoritewriters.concat(writerToAdd) }\n\t\tdispatch ({\n\t\t\ttype: 'ADD_FAVORITE_WRITER',\n\t\t\tdata: readerForDispatch\n\t\t})\n\t}\n}\n\nexport const removeFavoriteWriter = (writerToRemove, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { favoritewriters: reader.favoritewriters.map(favoritewriter => favoritewriter.id).filter(id => id !== writerToRemove.id) }\n\t\tconst readerFromDb = await readersService.update(readerToUpdate, reader.id)\n\t\tconsole.log('readerFromDb', readerFromDb)\n\t\tconst readerForDispatch = { ...reader, favoritewriters: reader.favoritewriters.filter(writer => writer.id !== writerToRemove.id) }\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_FAVORITE_WRITER',\n\t\t\tdata: readerForDispatch\n\t\t})\n\t}\n}\n\n\nexport const addSubscriptionToReader = (newSubscription) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_SUBSCRIPTION_TO_READER',\n\t\t\tdata: newSubscription\n\t\t})\n\t}\n}\n\nexport const addReaderFunds = (fundsToAdd, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { favoritewriters: reader.favoritewriters.map(writer => writer.id), funds: reader.funds + fundsToAdd }\n\t\tconst updatedReader = await readersService.update(readerToUpdate, reader.id)\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_READERS_FUNDS',\n\t\t\tdata: updatedReader\n\t\t})\n\t}\n}\n\nexport const substractReaderFunds = (fundsToSubstract, reader) => {\n\treturn async dispatch => {\n\t\tconst readerToUpdate = { favoritewriters: reader.favoritewriters.map(writer => writer.id) , funds: reader.funds - fundsToSubstract }\n\t\tconst updatedReader = await readersService.update(readerToUpdate, reader.id)\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_READERS_FUNDS',\n\t\t\tdata: updatedReader\n\t\t})\n\t}\n}\n\nexport const removeSubsFromReaders = (subsToRemove) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_SUBS_FROM_READERS',\n\t\t\tdata: subsToRemove\n\t\t})\n\t}\n}\n\nexport default readersReducer","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/writers`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newWriter) => {\n\tconst response = await axios.post(baseUrl, newWriter)\n\treturn response.data\n}\n\nconst update = async (updatedWriter, id) => {\n\tconst response = await axios.put(`${baseUrl}/${id}`, updatedWriter)\n\treturn response.data\n}\n\nexport default { getAll, getOne, create, update }","import writersService from '../services/writers'\n\nconst writersReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_WRITERS':\n\t\treturn action.data\n\tcase 'ADD_NEW_WRITER':\n\t\treturn state.concat(action.data)\n\tcase 'UPDATE_WRITER_EARNINGS':\n\t\treturn state.map(writer => {\n\t\t\tif (writer.id === action.data.id) {\n\t\t\t\treturn { ...writer, earnings: action.data.earnings }\n\t\t\t}\n\t\t\treturn writer\n\t\t})\n\tcase 'UPDATE_PRICING':\n\t\treturn state.map(writer => {\n\t\t\tif (writer.id === action.data.id) {\n\t\t\t\treturn { ...writer, oneArticlePrice: action.data.oneArticlePrice, montlySubscriptionPrice: action.data.montlySubscriptionPrice, yearlySubscriptionPrice: action.data.yearlySubscriptionPrice,  }\n\t\t\t}\n\t\t\treturn writer\n\t\t})\n\tcase 'ADD_ARTICLE_TO_WRITER':\n\t\treturn state.map(writer => {\n\t\t\tif (writer.id === action.data.author) {\n\t\t\t\treturn { ...writer, myarticles: writer.myarticles.concat(action.data) }\n\t\t\t}\n\t\t\treturn writer\n\t\t})\n\tcase 'ADD_READER_TO_FOLLOWERS':\n\t\treturn state.map(writer => writer.id === action.data.id ? action.data : writer)\n\tcase 'REMOVE_READER_FROM_FOLLOWERS':\n\t\treturn state.map(writer => writer.id === action.data ? action.data : writer)\n\tcase 'REMOVE_SUBS_FROM_WRITERS':\n\t\treturn state.map(writer => ({ ...writer, subscriptions: writer.subscribers.filter(sub => !action.data.includes(sub.id)) }))\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initWriters = () => {\n\treturn async dispatch => {\n\t\tconst writers = await writersService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_WRITERS',\n\t\t\tdata: writers\n\t\t})\n\t}\n}\n\nexport const createWriter = (newWriter) => {\n\treturn async dispatch => {\n\t\tdispatch({\n\t\t\ttype: 'ADD_NEW_WRITER',\n\t\t\tdata: newWriter\n\t\t})\n\t}\n}\n\nexport const addReaderToFollowers = (readerToAdd, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { ...writer, followers: writer.followers.map(follower => follower.id).concat(readerToAdd.id) }\n\t\tconst writerFromDb = await writersService.update(writerToUpdate, writer.id)\n\t\tconsole.log('writerFromDb', writerFromDb)\n\t\tconst writerForDispatch = { ...writer, followers: writer.followers.concat(readerToAdd) }\n\t\tdispatch ({\n\t\t\ttype: 'ADD_READER_TO_FOLLOWERS',\n\t\t\tdata: writerForDispatch\n\t\t})\n\t}\n}\n\nexport const removeReaderFromFollowers = (readerToRemove, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { ...writer, followers: writer.followers.map(follower => follower.id).filter(id => id !== readerToRemove.id) }\n\t\tconst writerFromDb = await writersService.update(writerToUpdate, writer.id)\n\t\tconsole.log('writerFromDb', writerFromDb)\n\t\tconst writerForDispatch = { ...writer, followers: writer.followers.filter(writer => writer.id !== readerToRemove.id) }\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_READER_FROM_FOLLOWERS',\n\t\t\tdata: writerForDispatch\n\t\t})\n\t}\n}\n\nexport const addEarningsToWriter = (earningsToAdd, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { ...writer, followers: writer.followers.map(follower => follower.id) , earnings: writer.earnings + earningsToAdd }\n\t\tconst updatedWriter = await writersService.update(writerToUpdate, writer.id)\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_WRITER_EARNINGS',\n\t\t\tdata: updatedWriter\n\t\t})\n\t}\n}\n\nexport const updatePricing = (newValues, writer) => {\n\treturn async dispatch => {\n\t\tconst writerToUpdate = { followers: writer.followers.map(follower => follower.id), earnings: writer.earnings, ...newValues }\n\t\tawait writersService.update(writerToUpdate, writer.id)\n\t\tconst writerToDispatch = { ...writer, ...newValues }\n\t\tdispatch ({\n\t\t\ttype: 'UPDATE_PRICING',\n\t\t\tdata: writerToDispatch\n\t\t})\n\t}\n}\n\nexport const addArticleToWriter = (article) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_ARTICLE_TO_WRITER',\n\t\t\tdata: article\n\t\t})\n\t}\n}\n\nexport const removeSubsFromWriters = (subsToRemove) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'REMOVE_SUBS_FROM_WRITERS',\n\t\t\tdata: subsToRemove\n\t\t})\n\t}\n}\n\n\nexport default writersReducer","import React from 'react'\nimport { DialogActions, DialogTitle, Dialog, Button, makeStyles, DialogContent, DialogContentText } from '@material-ui/core/'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n\ttext:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n}))\n\nconst DialogBoxToLogin = ({ openLoginDialog, setOpenLoginDialog }) => {\n\tconst classes = useStyles()\n\tconst history = useHistory()\n\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\thistory.push('/reader/login')\n\t}\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={openLoginDialog}\n\t\t\tonClose={() => setOpenLoginDialog(false)}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\" className={classes.text}>Paid article</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\n\t\t\t\t\tPlease login and pay to read\n\t\t\t\t</DialogContentText>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button color=\"primary\" autoFocus onClick={handleSubmit}>\n\t\t\t\t\t\tLog In\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => setOpenLoginDialog(false)} color=\"primary\" autoFocus>\n\t\t\t\t\t\tclose\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n\nexport default DialogBoxToLogin","import React from 'react'\nimport { DialogActions, DialogTitle, Dialog, Button, makeStyles, DialogContent, Typography } from '@material-ui/core/'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n\ttext:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n}))\n\nconst DialogBoxToAddFunds = ({ openAddFundsDialog, setOpenAddFundsDialog, loggedInReader, price }) => {\n\tconst classes = useStyles()\n\tconst history = useHistory()\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\thistory.push(`/reader/profile/${loggedInReader.id}`)\n\t}\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={openAddFundsDialog}\n\t\t\tonClose={() => setOpenAddFundsDialog(false)}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\" className={classes.text}>Not enough funds</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<Typography gutterBottom className={classes.text}>\t\t\t\t\t\n\t\t\t\t\tArticle price: {price} \n\t\t\t\t</Typography>\n\t\t\t\t<Typography gutterBottom className={classes.text}>\t\t\t\t\t\n\t\t\t\t\tYour balance: {loggedInReader.funds} \n\t\t\t\t</Typography>\n\t\t\t\t<Typography gutterBottom className={classes.text}>\t\t\t\t\t\n\t\t\t\t\tPlease go to your profile to add funds\n\t\t\t\t</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button color=\"primary\" autoFocus onClick={handleSubmit}>\n\t\t\t\t\t\tProfile\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => setOpenAddFundsDialog(false)} color=\"primary\" autoFocus>\n\t\t\t\t\t\tclose\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n\nexport default DialogBoxToAddFunds","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Typography from '@material-ui/core/Typography'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport { addViewToArticle } from '../../reducers/articlesReducer'\nimport { useSelector } from 'react-redux'\nimport { notifyError } from '../../reducers/notificationReducer'\nimport { substractReaderFunds } from '../../reducers/readersReducer'\nimport { addEarningsToWriter } from '../../reducers/writersReducer'\nimport DialogBoxToLogin from './DialogBoxToLogIn'\nimport DialogBoxToAddFunds from './DialogBoxToAddFunds'\n// import DialogBoxToPay from './DialogBoxToPay'\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth:380,\n\t\tborderRadius: 5,\n\t\tmargin: 5,\n\t},\n\tmedia: {\n\t\theight: 140,\n\t},\n\ttextTitle: {\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontWeight: 'bold'\n\t},\n\ttextauthor: {\n\t\tcolor: theme.palette.text.secondary\n\t},\n\ttext: {\n\t\tcolor: '#6A6A6A',\n\t\tpaddingRight: 10\n\t},\n\tcardInfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t\tpaddingTop: 10\n\t},\n\tcardInfoCategories: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between',\n\t},\n\tcardContent: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'space-between',\n\t}\n}))\n\nconst ArticleCard = ({ article }) => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\tconst reader = useSelector(state => state.reader)\n\tconst readers = useSelector(state => state.readers)\n\tconst images = useSelector(state => state.articleImages)\n\tconst loggedInReader = reader && readers.filter(readerOne => readerOne.id === reader.id)[0]\n\tconst [openLoginDialog, setOpenLoginDialog] = useState(false)\n\tconst [openAddFundsDialog, setOpenAddFundsDialog] = useState(false)\n\n\tconst filteredImage = images && images.filter(img => img.article === article.id)[0].img.data.data\n\tvar base64 = btoa(new Uint8Array(filteredImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!article) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tconst handleCardPress = async (article) => {\n\t\tif (article.paid === 'yes') {\n\t\t\tif (!loggedInReader) {\n\t\t\t\tsetOpenLoginDialog(true)\n\t\t\t} else {\n\t\t\t\tif (loggedInReader.subscriptions.some(subscription => subscription.recipient[0].id === article.author.id)) {\n\t\t\t\t\tdispatch(addViewToArticle(article))\n\t\t\t\t\thistory.push(`/article/${article.id}`)\n\t\t\t\t} else {\n\t\t\t\t\tif (loggedInReader.funds < article.author.oneArticlePrice) {\n\t\t\t\t\t\tsetOpenAddFundsDialog(true)\n\t\t\t\t\t} else if (window.confirm(`Confirm payment for this article for ${article.author.oneArticlePrice} `)) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait dispatch(substractReaderFunds(article.author.oneArticlePrice, loggedInReader))\n\t\t\t\t\t\t\tawait dispatch(addEarningsToWriter(article.author.oneArticlePrice, article.author))\n\t\t\t\t\t\t\tdispatch(addViewToArticle(article))\n\t\t\t\t\t\t\thistory.push(`/article/${article.id}`)\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdispatch(addViewToArticle(article))\n\t\t\thistory.push(`/article/${article.id}`)\n\t\t}\n\t}\n\n\tconst classes = useStyles()\n\treturn (\n\t\t<Card className={classes.root} >\n\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} to=\"#\" onClick={() => handleCardPress(article)}>\n\t\t\t\t<CardActionArea>\n\t\t\t\t\t<CardMedia\n\t\t\t\t\t\tclassName={classes.media}\n\t\t\t\t\t\timage={`data:image/jpeg;base64,${base64}`}\n\t\t\t\t\t\t// image=\"https://source.unsplash.com/random\"\t\t\t\t\t// src={`data:${images[0].img.contentType};base64,${images[0].img.data}`}\n\t\t\t\t\t\ttitle=\"Contemplative Reptile\"\n\t\t\t\t\t/>\n\t\t\t\t\t<CardContent className={classes.cardContent}>\n\t\t\t\t\t\t<Typography className={classes.textTitle}>\n\t\t\t\t\t\t\t{article.title}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography className={classes.textauthor}>\n\t\t\t\t\t\t\tBy {article.author.firstName} {article.author.lastName}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div className={classes.cardInfoContainer}>\n\t\t\t\t\t\t\t<div className={classes.cardInfoCategories}>\n\t\t\t\t\t\t\t\t{article.genres.map(genre => \n\t\t\t\t\t\t\t\t\t<Typography key={genre} className={classes.text}>\n\t\t\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='caption'>\n\t\t\t\t\t\t\t\t{article.paid === 'yes' ? 'Paid' : 'Free'}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</CardActionArea>\n\t\t\t</Link>\n\t\t\t<DialogBoxToLogin openLoginDialog={openLoginDialog} setOpenLoginDialog={setOpenLoginDialog} />\n\t\t\t{/* <DialogBoxToPay openPayDialog={openPayDialog} setOpenPayDialog={setOpenPayDialog} price={article.author.oneArticlePrice} onConfirm={handlePaymentSubmit}/> */}\n\t\t\t{loggedInReader && <DialogBoxToAddFunds openAddFundsDialog={openAddFundsDialog} setOpenAddFundsDialog={setOpenAddFundsDialog} loggedInReader={loggedInReader} price={article.author.oneArticlePrice} />}\n\t\t</Card>\n\t)\n}\n\nexport default ArticleCard","import React from 'react'\nimport { makeStyles, Radio } from '@material-ui/core/'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\n\nconst useStyles = makeStyles({\n\tposisioning: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\tradioGroup: {\n\t\tdisplay: 'inline-block'\n\t}\n})\n\nconst ArticlesFilter = ({ setFilterValue }) => {\n\tconst classes = useStyles()\n\n\tconst handleChange = (event) => {\n\t\tsetFilterValue(event.target.value)\n\t}\n\n\treturn (\n\t\t<FormControl component=\"fieldset\" className={classes.posisioning} fullWidth>\n\t\t\t<RadioGroup className={classes.radioGroup} onChange={handleChange} row aria-label=\"position\" name=\"position\" defaultValue=\"all\">\n\t\t\t\t<FormControlLabel value=\"all\" control={<Radio color=\"primary\" />} label=\"All\" />\n\t\t\t\t<FormControlLabel value=\"free\" control={<Radio color=\"primary\" />} label=\"Free\" />\n\t\t\t\t<FormControlLabel value=\"paid\" control={<Radio color=\"primary\" />} label=\"Paid\" />\n\t\t\t</RadioGroup>\n\t\t</FormControl>\n\t)\n}\n\nexport default ArticlesFilter\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ArticleCard from './ArticleCard'\nimport ArticlesFilter from './ArticlesFilter'\nimport { useParams } from 'react-router-dom'\n\nconst useStyles = makeStyles({\n\ttext: {\n\t\ttextAlign: 'center',\n\t},\n\ttextWithPadding: {\n\t\ttextAlign: 'center',\n\t\tpaddingBottom: 20\n\t}\n})\n\nconst ArticlesList = () => {\n\tconst classes = useStyles()\n\tconst [filterValue, setFilterValue] = useState('all')\n\tconst { genre } = useParams()\n\tconst { searchResult } = useParams()\n\tlet { author } = useParams()\n\tconst articles = useSelector(state => state.articles)\n\tconst loggedInReader = useSelector(state => state.reader)\n\tconst readersList = useSelector(state => state.readers)\n\tconst oneReader = loggedInReader && readersList.filter(readerFromList => readerFromList.id === loggedInReader.id)[0]\n\tconst readerFavorites = loggedInReader && oneReader.favoritewriters.map(favoritewriter => favoritewriter.id)\n\tconst readerSubscriptions = loggedInReader && oneReader.subscriptions.map(subscription => subscription.recipient[0].id)\n\n\tlet articlesFiltered = articles\n\tlet allength = null\n\n\tif (!articles) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tif (genre === 'My Favorites') {\n\t\tarticlesFiltered = articles.filter(article => readerFavorites.includes(article.author.id))\n\t} else if (genre === 'My Subscriptions') {\n\t\tarticlesFiltered = articles.filter(article => readerSubscriptions.includes(article.author.id))\n\t} else if (genre !== undefined) {\n\t\tarticlesFiltered = articles.filter(article => article.genres.includes(genre))\n\t}\n    \n\tif (searchResult) {\n\t\tarticlesFiltered = articles.filter(article => article.title.toLowerCase().includes(searchResult.toLowerCase()))\n\t\tallength = articlesFiltered.length\n\t}\n\n\tif (author) {\n\t\tarticlesFiltered = articles.filter(article => article.author.id === author)\n\t}\n\n\tlet articlesForList = articlesFiltered\n\n\tswitch (filterValue) {\n\tcase 'all':\n\t\tarticlesForList\n\t\tbreak\n\tcase 'free':\n\t\tarticlesForList = articlesFiltered.filter(article => article.paid === 'no')\n\t\tbreak\n\tcase 'paid':\n\t\tarticlesForList = articlesFiltered.filter(article => article.paid === 'yes')\n\t\tbreak\n\tdefault:\n\t\tarticlesForList\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<ArticlesFilter setFilterValue={setFilterValue} />\n\t\t\t<Typography className={classes.textWithPadding} variant='h3' style={{ display: genre === undefined ? 'none' : 'block' }}>\n\t\t\t\t{genre}\n\t\t\t</Typography>\n\t\t\t<div style={{ display: searchResult === undefined ? 'none' : 'block' }}>\n\t\t\t\t<Typography className={classes.text} variant='h3' >\n                    Results: {searchResult}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography className={classes.textWithPadding} variant='subtitle2' >\n                    Results found: {allength}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tjustify=\"center\"\n\t\t\t>\n\t\t\t\t{articlesForList.map(article =>\n\t\t\t\t\t<ArticleCard key={article.id} article={article}/>\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default ArticlesList","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport AccordionActions from '@material-ui/core/AccordionActions'\nimport { useParams } from 'react-router-dom'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Button from '@material-ui/core/Button'\nimport { TextField, Accordion, makeStyles, Card, CardContent } from '@material-ui/core'\nimport { addComment } from '../../reducers/articlesReducer'\nimport { notifySuccess, notifyError } from '../../reducers/notificationReducer'\nimport { useCookies } from 'react-cookie'\nimport { removeReader } from '../../reducers/loginReaderReducer'\nimport { useHistory } from 'react-router-dom'\n\n\nconst useStyles = makeStyles(theme => ({\n\ttext: {\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginSignupText: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextAlign: 'center'\n\t},\n\tcategoryButton: {\n\t\tmarginBottom: 10,\n\t\tmarginRight: 10\n\t},\n\taccordion: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t},\n\taccordionMargin: {\n\t\tmarginBottom: 50\n\t},\n\taccordionLabel: {\n\t\ttextAlign: 'center',\n\t\tcolor: theme.palette.text.secondary\n\t},\n\trootBorder: {\n\t\tborderStyle: 'solid',\n\t\tborderWidth: 1,\n\t\tborderColor: theme.palette.primary.main,\n\t\tmargin: 5\n\t},\n\tcommentButton: {\n\t\tpadding: 10,\n\t\tmarginLeft: 10\n\t},\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginSignupContainer:{\n\t\tbackground: theme.palette.primary.lightGrey,\n\t\tflexGrow: 1,\n\t\tpadding: 10\n\t},\n\tcommentForm: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t\tflexGrow: 1\n\t},\n}))\n\nconst Comments = () => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tconst [commentValue, setCommentValue] = useState('')\n\tconst articles = useSelector(state => state.articles)\n\tconst reader = useSelector(state => state.reader)\n\tconst readers = useSelector(state => state.readers)\n\tconst commentator = reader && readers.filter(readerOne => readerOne.id === reader.id)[0]\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\tlet { id } = useParams()\n\tconst filteredArticle = articles.filter(article => article.id === id)[0]\n\n\tif (!articles) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tconst onChangeComment = event => {\n\t\tsetCommentValue(event.target.value)\n\t}\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\ttry {\n\t\t\tconst newComment = { comment: commentValue }\n\t\t\tawait dispatch(addComment(newComment, id, commentator))\n\t\t\tdispatch(notifySuccess(`${commentValue} added`))\n\t\t\tsetCommentValue('')\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={classes.accordionMargin}>\n\t\t\t<Accordion classes={{ root: classes.rootBorder }}>\n\t\t\t\t<AccordionSummary\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\texpandIcon={<ExpandMoreIcon />}\n\t\t\t\t\taria-controls=\"panel1c-content\"\n\t\t\t\t\tid=\"panel1c-header\"\n\t\t\t\t>\n\t\t\t\t\t<Typography variant='h5' className={classes.accordionLabel}>\n                        Comments\n\t\t\t\t\t</Typography>\n\t\t\t\t</AccordionSummary>\n\t\t\t\t<AccordionDetails className={classes.accordion}>\n\t\t\t\t\t<AccordionActions>\n\t\t\t\t\t\t{reader !== null\n\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t<form onSubmit={handleSubmit} className={classes.commentForm}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel=\"Comment\"\n\t\t\t\t\t\t\t\t\t\tvalue={commentValue}\n\t\t\t\t\t\t\t\t\t\tonChange={onChangeComment}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tid='commentInput'\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" variant=\"contained\" type=\"submit\"  id='addCommentButton' className={classes.commentButton}>\n\t\t\t\t\t\t\t\t\t\tComment\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className={classes.loginSignupContainer}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.loginSignupText}>\n\t\t\t\t\t\t\t\t\t\tSomething to say?\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.loginSignupText}>\n\t\t\t\t\t\t\t\t\t\t<Link to='/reader/login'>Log in</Link> or <Link to='/reader/signup'>Sign up</Link>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</AccordionActions>\n\t\t\t\t\t{filteredArticle.comments.length !== 0\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\tfilteredArticle.comments.map(comment => \n\t\t\t\t\t\t\t\t<Card key={comment.id} classes={{ root: classes.rootBorder }}>\n\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text} style={{ fontWeight: 'bold' }}>\n\t\t\t\t\t\t\t\t\t\t\t{comment.commentator.userName}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text}>\n\t\t\t\t\t\t\t\t\t\t\t{comment.comment}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography className={classes.text} variant='caption'>\n\t\t\t\t\t\t\t\t\t\t\tPosted on {comment.date}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t</Card>)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>No comments</Typography>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</AccordionDetails>\n\t\t\t</Accordion>\n\t\t</div>\n\t)\n}\n\nexport default Comments\n\n{/* <Typography key={value} variant=\"caption\" className={classes.text}>\n\t\t\t\t\t\t\t{value}\n</Typography> */}","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link, useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport Comments from './Comments'\n// import Image from 'material-ui-image'\n\nconst useStyles = makeStyles({\n\tinfoText: {\n\t\tcolor: '#6A6A6A'\n\t},\n\tcategoryButton: {\n\t\tmarginBottom: 10,\n\t\tmarginRight: 10\n\t},\n\tarticleDiv: {\n\t\tmarginBottom: 100\n\t},\n\tcoverPhoto: {\n\t\theight: 200\n\t}\n})\n\nconst ArticlePage = () => {\n\tconst classes = useStyles()\n\tlet { id } = useParams()\n\tconst articles = useSelector(state => state.articles)\n\tconst images = useSelector(state => state.articleImages)\n\n\tconst filteredImage = images.filter(img => img.article === id)[0].img.data.data\n\t// const binaryData = images[1].img.data.data\n\tvar base64 = btoa(new Uint8Array(filteredImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!articles) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\tconst filteredArticle = articles.filter(article => article.id === id)[0]\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.articleDiv}>\n\t\t\t\t<img\n\t\t\t\t\tstyle={{ width: '100%', height: 200, borderRadius: 5, objectFit: 'cover' }}\n\t\t\t\t\tfullWidth\n\t\t\t\t\t// imageStyle={{ height: 300 }}\n\t\t\t\t\tsrc={`data:image/jpeg;base64,${base64}`}\n\t\t\t\t/>\n\t\t\t\t<div className={classes.categoryButton}>\n\t\t\t\t\t{filteredArticle.genres.map(genre => \n\t\t\t\t\t\t<Link style={{ textDecoration: 'none', color: 'inherit' }} to={`/genres/${genre}`} key={genre}><Button marginottom='50' size='small' variant=\"outlined\" color=\"primary\">{genre}</Button></Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t{filteredArticle.title}\n\t\t\t\t</Typography>\n\t\t\t\t<br/>\n\t\t\t\t<Typography variant=\"subtitle1\" className={classes.infoText}>\n\t\t\t\t\tBy <Link to={`/author/${filteredArticle.author.id}`}>{filteredArticle.author.firstName} {filteredArticle.author.lastName}</Link> | {filteredArticle.published}\n\t\t\t\t</Typography>\n\t\t\t\t<br/>\n\t\t\t\t{filteredArticle.content.map((content, index) => \n\t\t\t\t\t<div key={index} >\n\t\t\t\t\t\t<Typography >\n\t\t\t\t\t\t\t{content}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Comments />\n\t\t</div>\n\t)\n}\n\nexport default ArticlePage","import React from 'react'\nimport { makeStyles, withStyles, Typography, CardContent, Card, CardActions, Tooltip, Button, Fade } from '@material-ui/core'\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined'\n\nconst useStyles = makeStyles(theme => ({\n\tsubscriptionOptionsContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'center',\n\t},\n\tsubscriptionCard: {\n\t\tmargin: 5,\n\t\tminWidth: 200,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborder: 'solid',\n\t\tborderColor: theme.palette.primary.main,\n\t\tflexGrow: 1\n\t},\n\tsubText: {\n\t\ttextAlign: 'center'\n\t},\n\tcardButton: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center'\n\t}\n}))\n\nconst BigTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tfontSize: 15,\n\t},\n}))(Tooltip)\n\nconst SubscriptionPlans = ({ filteredWriter, matchingSub, handleSubscirbe }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<div className={classes.subscriptionOptionsContainer}>\n\t\t\t<Card className={classes.subscriptionCard} variant=\"outlined\">\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t1 Article\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"h5\" color=\"textSecondary\" className={classes.subText}>\n\t\t\t\t\t\t{`${filteredWriter.oneArticlePrice} `}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t\t<Card className={classes.subscriptionCard} variant=\"outlined\">\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t1 Month\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"h5\" color=\"textSecondary\" className={classes.subText}>\n\t\t\t\t\t\t{`${filteredWriter.montlySubscriptionPrice} `}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions className={classes.cardButton}>\n\t\t\t\t\t{matchingSub === null\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Login to subscribe\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" endIcon={<AddOutlinedIcon />}>\n\t\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" variant=\"contained\" id='montlySubscriptionButton' endIcon={<AddOutlinedIcon />} onClick={() => handleSubscirbe('montlySubscriptionPrice')}>\n\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t)\t\n\t\t\t\t\t}\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t\t<Card className={classes.subscriptionCard} variant=\"outlined\">\n\t\t\t\t<CardContent>\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t1 Year\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"h5\" color=\"textSecondary\" className={classes.subText}>\n\t\t\t\t\t\t{`${filteredWriter.yearlySubscriptionPrice} `}\n\t\t\t\t\t</Typography>\n\t\t\t\t</CardContent>\n\t\t\t\t<CardActions className={classes.cardButton}>\n\t\t\t\t\t{matchingSub === null\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Login to subscribe\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" endIcon={<AddOutlinedIcon />}>\n\t\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</BigTooltip>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Button size=\"small\" color=\"primary\" variant=\"contained\" endIcon={<AddOutlinedIcon />} onClick={() => handleSubscirbe('yearlySubscriptionPrice')}>\n\t\t\t\t\t\t\t\tSubscribe\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t)\t\n\t\t\t\t\t}\n\t\t\t\t</CardActions>\n\t\t\t</Card>\n\t\t</div>\n\t)\n}\n\nexport default SubscriptionPlans\n","/* eslint-disable no-fallthrough */\nimport React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport ArticlesList from './ArticlesList/ArticlesList'\nimport SubscriptionPlans from './SubscriptionPlans'\nimport { Typography, ButtonGroup, Button, Tooltip, Fade, Card, CardContent, List } from '@material-ui/core'\nimport { useParams } from 'react-router-dom'\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined'\nimport CheckOutlinedIcon from '@material-ui/icons/CheckOutlined'\nimport { addFavoriteWriter, removeFavoriteWriter, substractReaderFunds, initReaders } from '../reducers/readersReducer'\nimport { addReaderToFollowers, removeReaderFromFollowers, addEarningsToWriter, initWriters } from '../reducers/writersReducer'\nimport readersService from '../services/readers'\nimport { notifySuccess, notifyError } from '../reducers/notificationReducer'\nimport { removeReader } from '../reducers/loginReaderReducer'\nimport { useCookies } from 'react-cookie'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n\tprofileContaner: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\tinfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 10\n\t},\n\tsubscriptionOptionsContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 50\n\t},\n\tsubscriptionCard: {\n\t\tmargin: 5,\n\t\tminWidth: 130,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborder: 'solid',\n\t\tborderColor: theme.palette.primary.main\n\t},\n\tsubscribedCard: {\n\t\tmargin: 5,\n\t\tminWidth: 390,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborder: 'solid',\n\t\tborderColor: theme.palette.primary.main\n\t},\n\ttext: {\n\t\ttextAlign: 'center',\n\t\tpaddingTop: 50\n\t},\n\tsubText: {\n\t\ttextAlign: 'center',\n\t\ttextTransform: 'uppercase'\n\t},\n\tgenresList: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\ttextGenres: {\n\t\tcolor: 'grey',\n\t\tflex: 0,\n\t\tpaddingRight: 10\n\t},\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n\tdisabledButton: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: '#E5E5E5',\n\t\tcolor: '#CCCCCC',\n\t\tboxShadow: 'none'\n\t},\n\tcardButton: {\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'center'\n\t}\n}))\n\nconst BigTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tfontSize: 15,\n\t},\n}))(Tooltip)\n\nconst WriterPage = () => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tlet { author } = useParams()\n\tconst loggedInReader = useSelector(state => state.reader)\n\tconst writersImages = useSelector(state => state.writerImages)\n\tconst readers = useSelector(state => state.readers)\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\n\tconst filteredWriter = useSelector(state => state.writers.filter(writer => writer.id === author)[0])\n\tconst currentReader = loggedInReader && readers.filter(reader => reader.id === loggedInReader.id)[0]\n\n\tconst filteredWriterImage = writersImages.filter(img => img.writer === author)[0].img.data.data\n\tvar encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!filteredWriter) {\n\t\treturn <p>Loading...</p>\n\t}\n\tconst isInFavotrites = currentReader && currentReader.favoritewriters.some(writer => writer.id === author)\n\n\tconst writersSubs = filteredWriter.subscribers.map(subscriber => subscriber)\n\tconst readersSubs = (currentReader && currentReader.subscriptions.length !== 0) && currentReader.subscriptions.map(subscription => subscription)\n\n\n\tconst matchingSub = (currentReader && currentReader.subscriptions.length !== 0) && writersSubs.filter(suber => readersSubs.some(sub => sub.id === suber.id))[0]\n\t\t\n\tconst handleAddToFavorites = async () => {\n\t\ttry {\n\t\t\tawait dispatch(addFavoriteWriter(filteredWriter, currentReader))\n\t\t\tawait dispatch(addReaderToFollowers(currentReader, filteredWriter))\n\t\t\tdispatch(notifySuccess(`${filteredWriter.firstName} ${filteredWriter.lastName} added to favorites`))\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\t\n\tconst handleRemoveFromFavorites = async () => {\n\t\ttry {\n\t\t\tawait dispatch(removeFavoriteWriter(filteredWriter, currentReader))\n\t\t\tawait dispatch(removeReaderFromFollowers(currentReader, filteredWriter))\n\t\t\tdispatch(notifySuccess(`${filteredWriter.firstName} ${filteredWriter.lastName} removed from favorites`))\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleSubscirbe = async (value) => {\n\t\tif (currentReader.funds < filteredWriter[value]) {\n\t\t\twindow.alert('Not enought funds')\n\t\t} else if (window.confirm('Confirm Subscription')) {\n\t\t\ttry {\n\t\t\t\tawait dispatch(addEarningsToWriter(filteredWriter[value], filteredWriter))\n\t\t\t\tawait dispatch(substractReaderFunds(filteredWriter[value], currentReader))\n\t\t\t\tlet typeForSub = value === 'montlySubscriptionPrice' ? 'montly' : 'yearly'\n\t\t\t\tconst newSubscription = { type: typeForSub, writerId: filteredWriter.id }\n\t\t\t\tawait readersService.createSubscribtion(newSubscription, currentReader.id)\n\t\t\t\tawait dispatch(initReaders())\n\t\t\t\tawait dispatch(initWriters())\n\t\t\t\tdispatch(notifySuccess(`Subsribed ${typeForSub} to ${filteredWriter.firstName} ${filteredWriter.lastName}`))\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('error response', error.response)\n\t\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\t\tdispatch(removeReader())\n\t\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\t\thistory.push('/reader/login')\n\t\t\t\t} else {\n\t\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\tconst addToFavoritesButton = () => {\n\t\tswitch (isInFavotrites) {\n\t\tcase true:\n\t\t\treturn (\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} endIcon={<CheckOutlinedIcon />} onClick={handleRemoveFromFavorites}>\n\t\t\t\t\tAdded to favorites\n\t\t\t\t</Button>\n\t\t\t)\n\t\tcase false:\n\t\t\treturn (\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" className={classes.button} endIcon={<AddOutlinedIcon />} onClick={handleAddToFavorites}>\n\t\t\t\t\tAdd to favorites\n\t\t\t\t</Button>\n\t\t\t)\n\t\tcase null:\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<BigTooltip TransitionComponent={Fade} TransitionProps={{ timeout: 600 }} title=\"Login to add to favorites\">\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<Button variant=\"contained\" endIcon={<AddOutlinedIcon />}>\n\t\t\t\t\t\t\t\tAdd to favorites\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</BigTooltip>\n\t\t\t\t</div>\n\t\t\t)\n\t\tdefault:\n\t\t\t<p>Erorr</p>\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.profileContaner}>\n\t\t\t\t<img\n\t\t\t\t\twidth=\"200\"\n\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedWriterImage}`}\n\t\t\t\t/>\n\t\t\t\t<div className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t\t{filteredWriter.firstName} {filteredWriter.lastName}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>\n\t\t\t\t\t\t{filteredWriter.writerDescription}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<List className={classes.genresList}>\n\t\t\t\t\t\t{filteredWriter.writerGenres.map(genre => \n\t\t\t\t\t\t\t<Typography key={genre} className={classes.textGenres} variant='caption'>\n\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\t\n\t\t\t\t\t</List>\t\t\t\t\n\t\t\t\t\t<ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n\t\t\t\t\t\t{addToFavoritesButton()}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{matchingSub !== false && matchingSub !== null && matchingSub !== undefined\n\t\t\t\t\t? (\n\t\t\t\t\t\t<Card className={classes.subscribedCard} variant=\"outlined\">\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t\t\tSubscribed\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t\t\tType: {matchingSub.type}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom className={classes.subText}>\n\t\t\t\t\t\t\t\t\t\tPeriod: {matchingSub.startDate.slice(0, -6)} - {matchingSub.endDate.slice(0, -6)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t)\n\t\t\t\t\t: <SubscriptionPlans handleSubscirbe={handleSubscirbe} filteredWriter={filteredWriter} matchingSub={matchingSub} />\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<Typography variant='h4' color=\"primary\" className={classes.text}>\n\t\t\t\tArticles\n\t\t\t</Typography>\n\t\t\t<ArticlesList />\n\t\t</div>\n\t)\n}\n\nexport default WriterPage","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/images/writers`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newImage) => {\n\tconst response = await axios.post(baseUrl, newImage)\n\treturn response.data\n}\n\nexport default { getAll, getOne, create }","import writerImagesService from '../services/writerImages'\n\nconst writerImagesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_WRITER_IMAGES':\n\t\treturn action.data\n\tcase 'ADD_WRITER_IMAGE':\n\t\treturn state.concat(action.data)\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initWriterImages = () => {\n\treturn async dispatch => {\n\t\tconst images = await writerImagesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_WRITER_IMAGES',\n\t\t\tdata: images\n\t\t})\n\t}\n}\n\nexport const addWriterImage = (newImage) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_WRITER_IMAGE',\n\t\t\tdata: newImage\n\t\t})\n\t}\n}\n\nexport default writerImagesReducer","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\ttype: 'light',\n\t\tprimary: {\n\t\t\tmain: '#181616',\n\t\t\tlighter: '#222525',\n\t\t\tmiddleGrey: '#515151',\n\t\t\thover: '#606060',\n\t\t\tlightGrey: '#eeeeee'\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#f50057',\n\t\t},\n\t\ttext: {\n\t\t\tprimary: '#FCFCFC',\n\t\t\tsecondary: '#181616',\n\t\t\tblueish: '#731DD8',\n\t\t\tgrey: '#606060'\n\t\t}\n\t},\n\ticons: {\n\t\tfontSize: 30,\n\t\tfill: '#FCFCFC'\n\t}\n\n})\n\nexport default theme","import React, { useMemo } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport theme from '../theme'\nimport BackupIcon from '@material-ui/icons/Backup'\n\nconst baseStyle = {\n\tflex: 1,\n\tdisplay: 'flex',\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tpadding: '20px',\n\tborderWidth: 3,\n\tborderRadius: 10,\n\tborderColor: theme.palette.primary.main,\n\tborderStyle: 'dashed',\n\tbackgroundColor: theme.palette.primary.lightGrey,\n\tcolor: theme.palette.primary.main,\n\toutline: 'none',\n}\n\nconst thumbsContainer = {\n\tdisplay: 'flex',\n\tflexDirection: 'row',\n\tflexWrap: 'wrap',\n\tmarginTop: 16\n}\n\nconst thumb = {\n\tdisplay: 'inline-flex',\n\tmarginBottom: 8,\n\tmarginRight: 8,\n\twidth: 150,\n\theight: 150,\n\tpadding: 4,\n\tboxSizing: 'border-box'\n}\n\nconst img = {\n\tborderRadius: 10,\n\tdisplay: 'block',\n\twidth: 'auto',\n\theight: '100%'\n}\n  \nconst activeStyle = {\n\tborderColor: '#2196f3'\n}\n  \nconst acceptStyle = {\n\tborderColor: '#00e676'\n}\n  \nconst rejectStyle = {\n\tborderColor: '#ff1744'\n}\n\n\nconst UploadComponent = ({ setFieldValue, values }) => {\n\tconst { getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject } = useDropzone({\n\t\taccept: 'image/*',\n\t\tonDrop: acceptedFiles => {\n\t\t\tsetFieldValue('files', acceptedFiles.map(file => Object.assign(file, {\n\t\t\t\tpreview: URL.createObjectURL(file)\n\t\t\t})))\n\t\t}\n\t})\n\t\n\tconst thumbs = values.files.map(file => (\n\t\t<div style={thumb} key={file.name}>\n\t\t\t<div>\n\t\t\t\t<img\n\t\t\t\t\tsrc={file.preview}\n\t\t\t\t\tstyle={img}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t))\n\n\tconst style = useMemo(() => ({\n\t\t...baseStyle,\n\t\t...(isDragActive ? activeStyle : {}),\n\t\t...(isDragAccept ? acceptStyle : {}),\n\t\t...(isDragReject ? rejectStyle : {})\n\t}), [\n\t\tisDragActive,\n\t\tisDragReject,\n\t\tisDragAccept\n\t])\n\n\treturn (\n\t\t<div>\n\t\t\t<div {...getRootProps({ style })}>\n\t\t\t\t<input {...getInputProps()} name='image' id='imageUpload'/>\n\t\t\t\t<p>Drag and drop image here, or click to select image</p>\n\t\t\t\t<BackupIcon />\n\t\t\t</div>\n\t\t\t<aside style={thumbsContainer}>\n\t\t\t\t{thumbs}\n\t\t\t</aside>\n\t\t</div>\n\t\t\n\t)\n}\n\nexport default UploadComponent\n","import React from 'react'\nimport { Formik, Field } from 'formik'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as yup from 'yup'\nimport { makeStyles, FormControl, Typography, FormControlLabel, FormGroup, Button } from '@material-ui/core'\nimport { TextField, CheckboxWithLabel } from 'formik-material-ui'\nimport { newsCategories } from '../../data/data'\nimport { createWriter } from '../../reducers/writersReducer'\nimport { addWriterImage } from '../../reducers/writerImagesReducer'\nimport { notifySuccess, notifyError } from '../../reducers/notificationReducer'\nimport { useHistory } from 'react-router-dom'\nimport UploadComponent from '../UploadComponent'\nimport writerImagesService from '../../services/writerImages'\nimport writerService from '../../services/writers'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tmarginTop: 150,\n\t\tmarginBottom: 150,\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t},\n\tpriceContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row'\n\t},\n\tpriceItem: {\n\t\tmarginRight: 5\n\t},\n\tcheckBoxMargins: {\n\t\tmarginRight: 0,\n\t\tmarginLeft: 0\n\t},\n}))\n\nconst initialValues = {\n\tfirstName: '',\n\tlastName: '',\n\tuserName: '',\n\twriterDescription: '',\n\twriterGenres: [],\n\toneArticlePrice: 0,\n\tmontlySubscriptionPrice: 0,\n\tyearlySubscriptionPrice: 0,\n\tpassword: '',\n\tpasswordConfirmation: '',\n\tfiles: []\n}\n\nconst validationSchema = yup.object().shape({\n\tfirstName: yup.string()\n\t\t.min(2, 'Too Short')\n\t\t.max(50, 'Too Long')\n\t\t.required('Required'),\n\tlastName: yup.string()\n\t\t.min(2, 'Too Short')\n\t\t.max(50, 'Too Long')\n\t\t.required('Required'),\n\tuserName: yup.string()\n\t\t.min(3, 'Too Short')\n\t\t.max(50, 'Too Long')\n\t\t.required('Required'),\n\twriterDescription: yup.string()\n\t\t.min(50, 'Description must be at least 50 characters')\n\t\t.max(500, 'Description must be less than 500 characters')\n\t\t.required('Required'),\n\twriterGenres: yup.array()\n\t\t.min(1, 'Check at least one category'),\n\toneArticlePrice: yup.number()\n\t\t.required('Required')\n\t\t.moreThan(0, 'Value must be greater than 0'),\n\tmontlySubscriptionPrice: yup.number()\n\t\t.required('Required')\n\t\t.moreThan(0, 'Value must be greater than 0'),\n\tyearlySubscriptionPrice: yup.number()\n\t\t.required('Required')\n\t\t.moreThan(0, 'Value must be greater than 0'),\n\tpassword: yup.string()\n\t\t.min(8, 'Password too Short')\n\t\t.max(50, 'Password too Long')\n\t\t.required('Required'),\n\tpasswordConfirmation: yup.string()\n\t\t.oneOf([yup.ref('password'), null], 'Passwords must match'),\n\tfiles:  yup.array()\n\t\t.min(1, 'One image required')\n})\n\nconst WriterSignUpForm = ({ validateUsername,  values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<Typography variant='h4' style={{ textAlign: 'center', marginTop: 20 }}>Writer registration form</Typography>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.firstName}\n\t\t\t\t\t\terror={touched.firstName && Boolean(errors.firstName)}\n\t\t\t\t\t\thelperText={touched.firstName && errors.firstName}\n\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\tlabel=\"First name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.lastName}\n\t\t\t\t\t\terror={touched.lastName && Boolean(errors.lastName)}\n\t\t\t\t\t\thelperText={touched.lastName && errors.lastName}\n\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\tlabel=\"Last name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tvalidate={validateUsername}\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\t\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.writerDescription}\n\t\t\t\t\t\terror={touched.writerDescription && Boolean(errors.writerDescription)}\n\t\t\t\t\t\thelperText={touched.writerDescription && errors.writerDescription}\t\t\t\t\t\n\t\t\t\t\t\tid=\"writerDescription\"\n\t\t\t\t\t\tname=\"writerDescription\"\n\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t\t<Typography variant='subtitle1'>Categories</Typography>\n\t\t\t\t\t\t{errors.writerGenres && touched.writerGenres && \n\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.writerGenres}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t{newsCategories.map(categoryValue =>\n\t\t\t\t\t\t\t\t<FormControlLabel classes={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\tkey={categoryValue}\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tcomponent={CheckboxWithLabel}\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\t\t\tid={categoryValue.toLowerCase()}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"writerGenres\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={categoryValue}\n\t\t\t\t\t\t\t\t\t\t\tLabel={{ label: `${categoryValue}` }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t<FormControl component=\"fieldset\" className={classes.paddings}>\n\t\t\t\t\t\t<Typography variant='subtitle1' style={{ marginBottom: 10 }}>Pricing</Typography>\n\t\t\t\t\t\t<div className={classes.priceContainer}>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.oneArticlePrice}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tid=\"oneArticlePrice\"\n\t\t\t\t\t\t\t\tname=\"oneArticlePrice\"\n\t\t\t\t\t\t\t\tlabel=\"One Article\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tclassName={classes.priceItem}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.montlySubscriptionPrice}\n\t\t\t\t\t\t\t\terror={touched.montlySubscriptionPrice && Boolean(errors.montlySubscriptionPrice)}\n\t\t\t\t\t\t\t\thelperText={touched.montlySubscriptionPrice && errors.montlySubscriptionPrice}\n\t\t\t\t\t\t\t\tid=\"montlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tname=\"montlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tlabel=\"Montly Subscription\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tclassName={classes.priceItem}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tvalue={values.yearlySubscriptionPrice}\n\t\t\t\t\t\t\t\terror={touched.yearlySubscriptionPrice && Boolean(errors.yearlySubscriptionPrice)}\n\t\t\t\t\t\t\t\thelperText={touched.yearlySubscriptionPrice && errors.yearlySubscriptionPrice}\n\t\t\t\t\t\t\t\tid=\"yearlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tname=\"yearlySubscriptionPrice\"\n\t\t\t\t\t\t\t\tlabel=\"Yearly Subscription\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.passwordConfirmation}\n\t\t\t\t\t\terror={touched.passwordConfirmation && Boolean(errors.passwordConfirmation)}\n\t\t\t\t\t\thelperText={touched.passwordConfirmation && errors.passwordConfirmation}\n\t\t\t\t\t\tid=\"passwordConfirmation\"\n\t\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\t\tlabel=\"Password confirmation\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant='subtitle1' className={classes.formControl}>Profile picture</Typography>\n\t\t\t\t\t<div className={classes.formControl}>\n\t\t\t\t\t\t{errors.files && touched.files && \n\t\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.files}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<UploadComponent setFieldValue={setFieldValue} values={values}/>\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" type=\"submit\" id='submitWriterRegister' className={classes.button}>\n                        Sign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst SignUpWriter = () => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\tconst writers = useSelector(state => state.writers)\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tconst data = new FormData() \n\t\t\tdata.append('file', values.files[0])\n\t\t\t\n\t\t\tconst imageFromDb = await writerImagesService.create(data)\n\n\t\t\tconst writerForFb = { ...values, imageId: imageFromDb.id }\n\t\t\tconst writerFromDb = await writerService.create(writerForFb)\n\n\t\t\tconst imageForDispatch = { ...imageFromDb, writer: writerFromDb.id }\n\n\t\t\tawait dispatch(addWriterImage(imageForDispatch))\n\t\t\tawait dispatch(createWriter(writerFromDb))\n\t\t\tdispatch(notifySuccess('Registered successfully'))\n\t\t\thistory.push('/writerssection/login')\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t}\n\t}\n\n\tconst validateUsername = (newUserName) => {\n\t\tlet error\n\t\tif (writers.some(writer => writer.userName === newUserName)) {\n\t\t\terror = 'Sorry, this username already exists '\n\t\t}\n\t\treturn error\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => \n\t\t\t\t\t<WriterSignUpForm \n\t\t\t\t\t\tvalidateUsername={validateUsername}\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default SignUpWriter","import React from 'react'\nimport * as yup from 'yup'\nimport { Formik, Field } from 'formik'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport { makeStyles, Typography } from '@material-ui/core'\nimport { TextField } from 'formik-material-ui'\nimport { addReader } from '../reducers/loginReaderReducer'\nimport { notifySuccess, notifyError } from '../reducers/notificationReducer'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t}\n}))\n\nconst initialValues = {\n\tuserName: '',\n\tpassword: '',\n}\n\nconst validationSchema = yup.object().shape({\n\tuserName: yup\n\t\t.string()\n\t\t.required('Username is required'),\n\tpassword: yup\n\t\t.string()\n\t\t.required('Password is required')\n})\n\nconst LoginReaderForm = ({ values, errors, touched, handleChange, handleBlur, handleSubmit }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h4' className={classes.loginText}>\n                        Log In\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button id='readerLoginButton' color=\"primary\" variant=\"contained\" type=\"submit\" className={classes.button}>\n                        Log in\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst LoginReader = () => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tawait dispatch(addReader(values))\n\t\t\tdispatch(notifySuccess('Login successful'))\n\t\t\thistory.push('/')\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('Incorrect username or password'))\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit }) => \n\t\t\t\t\t<LoginReaderForm \n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default LoginReader","import React from 'react'\nimport { Snackbar } from '@material-ui/core'\nimport MuiAlert from '@material-ui/lab/Alert'\nimport { useSelector } from 'react-redux'\nimport Fade from '@material-ui/core/Fade'\n\nconst Alert = (props) => {\n\treturn <MuiAlert elevation={6} variant=\"filled\" {...props} />\n}\n\nconst SnackBar = () => {\n\tconst notification = useSelector(state => state.notification)\n\t\n\treturn (\n\t\t<Snackbar \n\t\t\tanchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n\t\t\topen={notification.open} \n\t\t\tTransitionComponent={Fade}\n\t\t>\n\t\t\t<Alert severity={notification.messageType}>\n\t\t\t\t{notification.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t)\n}\n\nexport default SnackBar\n","import React from 'react'\nimport { Formik, Field } from 'formik'\nimport * as yup from 'yup'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport { makeStyles, Typography } from '@material-ui/core'\nimport { TextField } from 'formik-material-ui'\nimport { addWriter } from '../../reducers/loginWriterReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t}\n}))\n\nconst initialValues = {\n\tuserName: '',\n\tpassword: '',\n}\n\nconst validationSchema = yup.object().shape({\n\tuserName: yup\n\t\t.string()\n\t\t.required('Username is required'),\n\tpassword: yup\n\t\t.string()\n\t\t.required('Password is required')\n})\n\nconst LoginWriterForm = ({ reader, values, errors, touched, handleChange, handleBlur, handleSubmit }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h4' className={classes.loginText}>\n                        Writer Log In\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t/>\n\t\t\t\t\t{reader\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" disabled type=\"submit\" className={classes.button}>\n\t\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'center' }}>\n\t\t\t\t\t\t\t\t\t<Typography fullWidth variant='subtitle1' style={{ color: '#f44336', marginTop: 10 }}>Logout from Reader account to Login as Writer</Typography>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" type=\"submit\" id='writerLoginButton' className={classes.button}>\n\t\t\t\t\t\t\t\tLog in\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) \n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst LoginWriter = () => {\n\tconst reader = useSelector(state => state.reader)\n\tconst writers = useSelector(state => state.writers)\n\tconst dispatch = useDispatch()\n\tlet hisotry = useHistory()\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tawait dispatch(addWriter(values))\n\t\t\tconst idForLink = writers.filter(writer => writer.userName === String(values.userName))[0]\n\t\t\tdispatch(notifySuccess('Logged in successfully'))\n\t\t\thisotry.push(`/writerssection/profile/${idForLink.id}`)\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('Incorrect username or password'))\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit }) => \n\t\t\t\t\t<LoginWriterForm \n\t\t\t\t\t\treader={reader}\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default LoginWriter","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/images/readers`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newImage) => {\n\tconst response = await axios.post(baseUrl, newImage)\n\treturn response.data\n}\n\nexport default { getAll, getOne, create }","import readerImagesService from '../services/readerImages'\n\nconst readerImagesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_READERS_IMAGES':\n\t\treturn action.data\n\tcase 'ADD_READER_IMAGE':\n\t\treturn state.concat(action.data)\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initReaderImages = () => {\n\treturn async dispatch => {\n\t\tconst images = await readerImagesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_READERS_IMAGES',\n\t\t\tdata: images\n\t\t})\n\t}\n}\n\nexport const addReaderImage = (newImage) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_READER_IMAGE',\n\t\t\tdata: newImage\n\t\t})\n\t}\n}\n\n\nexport default readerImagesReducer","import React from 'react'\nimport { Formik, Field } from 'formik'\nimport * as yup from 'yup'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button'\nimport { makeStyles, Typography } from '@material-ui/core'\nimport { TextField } from 'formik-material-ui'\nimport { createReader } from '../reducers/readersReducer'\nimport { addReaderImage } from '../reducers/readerImagesReducer'\nimport { notifyError, notifySuccess } from '../reducers/notificationReducer'\nimport UploadComponent from './UploadComponent'\nimport readerImagesService from '../services/readerImages'\nimport readersService from '../services/readers'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh'\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t},\n\tformControl: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tmarginTop: 5,\n\t},\n}))\n\nconst initialValues = {\n\tfirstName: '',\n\tlastName: '',\n\tuserName: '',\n\tpassword: '',\n\tpasswordConfirmation: '',\n\tfiles: []\n}\n\nconst validationSchema = yup.object().shape({\n\tfirstName: yup.string()\n\t\t.min(2, 'Too Short!')\n\t\t.max(50, 'Too Long!')\n\t\t.required('Required'),\n\tlastName: yup.string()\n\t\t.min(2, 'Too Short!')\n\t\t.max(50, 'Too Long!')\n\t\t.required('Required'),\n\tuserName: yup.string()\n\t\t.min(3, 'Username too Short!')\n\t\t.max(50, 'Username too Long!')\n\t\t.required('Required'),\n\tpassword: yup.string()\n\t\t.min(8, 'Password too Short!')\n\t\t.max(50, 'Password too Long!')\n\t\t.required('Required'),\n\tpasswordConfirmation: yup.string()\n\t\t.oneOf([yup.ref('password'), null], 'Passwords must match'),\n\tfiles:  yup.array()\n\t\t.min(1, 'One image required')\n})\n\nconst SignUpReaderForm = ({ values, errors, touched, handleChange, handleBlur, handleSubmit, validateUsername, setFieldValue }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h4' className={classes.loginText}>\n                        Sign Up\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.firstName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.firstName && Boolean(errors.firstName)}\n\t\t\t\t\t\thelperText={touched.firstName && errors.firstName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\tlabel=\"First name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\t\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.lastName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.lastName && Boolean(errors.lastName)}\n\t\t\t\t\t\thelperText={touched.lastName && errors.lastName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\tlabel=\"Last name\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalidate={validateUsername}\n\t\t\t\t\t\tvalue={values.userName}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.userName && Boolean(errors.userName)}\n\t\t\t\t\t\thelperText={touched.userName && errors.userName}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\tname=\"userName\"\n\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tvalue={values.passwordConfirmation}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\terror={touched.passwordConfirmation && Boolean(errors.passwordConfirmation)}\n\t\t\t\t\t\thelperText={touched.passwordConfirmation && errors.passwordConfirmation}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"passwordConfirmation\"\n\t\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\t\tlabel=\"Password confirmation\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant='subtitle1' className={classes.formControl}>Profile picture</Typography>\n\t\t\t\t\t<div className={classes.formControl}>\n\t\t\t\t\t\t{errors.files && touched.files && \n\t\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.files}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<UploadComponent setFieldValue={setFieldValue} values={values}/>\n\t\t\t\t\t<Button id='submitReaderRegister' color=\"primary\" variant=\"contained\" type=\"submit\" className={classes.button}>\n                        Sign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst SignUpReader = () => {\n\tconst history = useHistory()\n\tconst dispatch = useDispatch()\n\tconst readers = useSelector(state => state.readers)\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tconst data = new FormData() \n\t\t\tdata.append('file', values.files[0])\n\t\t\tconst imageFromDb = await readerImagesService.create(data)\n\n\t\t\tconst readerforDb = { ...values, imageId: imageFromDb.id }\n\t\t\tconst readerFromDb = await readersService.create(readerforDb)\n\n\t\t\tconst imageForDispatch = { ...imageFromDb, reader: readerFromDb.id }\n\t\t\tawait dispatch(addReaderImage(imageForDispatch))\n\t\t\tawait dispatch(createReader(readerFromDb))\n\t\t\tdispatch(notifySuccess('Registration successful'))\n\t\t\thistory.push('/reader/login')\n\t\t} catch (error) {\n\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t}\n\t}\n\n\tconst validateUsername = (newUserName) => {\n\t\tlet error\n\t\tif (readers.some(reader => reader.userName === newUserName)) {\n\t\t\terror = 'Sorry, this username already exists '\n\t\t}\n\t\treturn error\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => \n\t\t\t\t\t<SignUpReaderForm \n\t\t\t\t\t\tvalidateUsername={validateUsername}\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default SignUpReader","import React, { useState } from 'react'\nimport { DialogActions, DialogTitle, Dialog, Button, makeStyles } from '@material-ui/core/'\nimport NumberFormat from 'react-number-format'\nimport { useDispatch } from 'react-redux'\nimport { addReaderFunds } from '../../reducers/readersReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\nimport { removeReader } from '../../reducers/loginReaderReducer'\nimport { useCookies } from 'react-cookie'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n\ttext:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n}))\n\nconst AddFundsDialog = ({ openDialog, setOpenDialog, reader }) => {\n\tconst [fundsValue, setFundsValue] = useState(0)\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\n\tconst onChangeFunds = event => {\n\t\tsetFundsValue(event.target.value)\n\t}\n\t\n\tconst handleSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\ttry {\n\t\t\tconst fundsToAdd = Number(fundsValue)\n\t\t\tawait dispatch(addReaderFunds(fundsToAdd, reader))\n\t\t\tdispatch(notifySuccess(`${fundsToAdd}  added to your funds`))\n\t\t\tsetFundsValue(0)\n\t\t\tsetOpenDialog(false)\n\t\t} catch  (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={openDialog}\n\t\t\tonClose={() => setOpenDialog(false)}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\" className={classes.text}>Add Funds</DialogTitle>\n\t\t\t<DialogActions>\n\t\t\t\t<NumberFormat\n\t\t\t\t\tid='addFundsInput'\n\t\t\t\t\tonChange={onChangeFunds}\n\t\t\t\t\tvalue={fundsValue}\n\t\t\t\t\tisNumericString\n\t\t\t\t/>\n\t\t\t\t<Button color=\"primary\" id='addFundsDialogAddButton' autoFocus onClick={handleSubmit}>\n\t\t\t\t\t\tadd\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={() => setOpenDialog(false)} color=\"primary\" autoFocus>\n\t\t\t\t\t\tclose\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n\nexport default AddFundsDialog","import React, { useState } from 'react'\nimport { AppBar, Tabs, Tab, Typography, Box, ListItem, ListItemText, List, makeStyles, Button } from '@material-ui/core'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { Link } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\nimport { removeFavoriteWriter } from '../../reducers/readersReducer'\nimport { removeReaderFromFollowers } from '../../reducers/writersReducer'\nimport { removeReader } from '../../reducers/loginReaderReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\nimport { useCookies } from 'react-cookie'\nimport { useHistory } from 'react-router-dom'\n \nconst useStyles = makeStyles(theme => ({\n\ttext: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextTransform: 'uppercase'\n\t},\n\troot: {\n\t\tcolor: theme.palette.text.blueish,\n\t\ttextDecoration: 'underline'\n\t},\n\tlistItem: {\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tmarginBottom: 10\n\t}\n}))\n\nconst TabPanel = (props) => {\n\tconst { children, value, index, ...other } = props\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`simple-tabpanel-${index}`}\n\t\t\taria-labelledby={`simple-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box p={3}>\n\t\t\t\t\t<Typography component=\"span\">{children}</Typography>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nconst a11yProps = (index) => {\n\treturn {\n\t\tid: `simple-tab-${index}`,\n\t\t'aria-controls': `simple-tabpanel-${index}`,\n\t}\n}\n\nconst ListItemLink = (props) => {\n\treturn <ListItem button component=\"a\" {...props}/>\n}\n\nconst ReaderTabs = ({ reader }) => {\n\tconst [value, setValue] = useState(0)\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['readerAuthCookie'])\n\tconst history = useHistory()\n\n\tconst handleChange = (event, newValue) => {\n\t\tsetValue(newValue)\n\t}\n\n\tconst handleRemove = async (favoriteWriter) => {\n\t\ttry {\n\t\t\tawait dispatch(removeFavoriteWriter(favoriteWriter, reader))\n\t\t\tawait dispatch(removeReaderFromFollowers(reader, favoriteWriter))\n\t\t\tdispatch(notifySuccess(`${favoriteWriter.firstName} ${favoriteWriter.lastName} removed from favorites`))\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeReader())\n\t\t\t\tremoveCookie('readerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/reader/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<AppBar position=\"static\">\n\t\t\t\t<Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\" centered>\n\t\t\t\t\t<Tab label=\"Favorite writers\" {...a11yProps(0)} />\n\t\t\t\t\t<Tab label=\"Subscribtions\" {...a11yProps(1)} />\n\t\t\t\t\t<Tab label=\"Comments\" {...a11yProps(2)} />\n\t\t\t\t</Tabs>\n\t\t\t</AppBar>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t{reader.favoritewriters.length !== 0 \n\t\t\t\t\t? \n\t\t\t\t\t(<List component=\"div\">\n\t\t\t\t\t\t{reader.favoritewriters.map(favoriteWriter =>\n\t\t\t\t\t\t\t<ListItem key={favoriteWriter.id} className={classes.listItem}>\n\t\t\t\t\t\t\t\t<ListItemLink component={ Link } to={`/author/${favoriteWriter.id}`} >\n\t\t\t\t\t\t\t\t\t<ListItemText primary={`${favoriteWriter.firstName} ${favoriteWriter.lastName}`} classes={{ root: classes.root }} />\n\t\t\t\t\t\t\t\t</ListItemLink>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\tstartIcon={<DeleteIcon />}\n\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(favoriteWriter)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>)\n\t\t\t\t\t: (<Typography className={classes.text} variant='subtitle1'>No favorited writers</Typography>)\n\t\t\t\t}\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t{reader.subscriptions.length !== 0 \n\t\t\t\t\t? \n\t\t\t\t\t(<List component=\"div\">\n\t\t\t\t\t\t{reader.subscriptions.map(subscription => \n\t\t\t\t\t\t\t<ListItem button key={subscription.id} className={classes.listItem}>\n\t\t\t\t\t\t\t\t<ListItemLink component={ Link } to={`/author/${subscription.recipient[0].id}`} >\n\t\t\t\t\t\t\t\t\t<ListItemText primary={`${subscription.recipient[0].firstName} ${subscription.recipient[0].lastName}`} classes={{ root: classes.root }} />\n\t\t\t\t\t\t\t\t\t<Typography className={classes.text} style={{ paddingRight: 30 }}  variant='subtitle1'>{`type: ${subscription.type}`}</Typography>\n\t\t\t\t\t\t\t\t\t<Typography className={classes.text} variant='subtitle1'>{`Duration: ${subscription.startDate.slice(0, -5)} - ${subscription.endDate.slice(0, -5)}`}</Typography>\n\t\t\t\t\t\t\t\t</ListItemLink>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>) \n\t\t\t\t\t: (<Typography className={classes.text} variant='subtitle1'>No subscribed writers</Typography>)\n\t\t\t\t}\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t{reader.readerComments.length !== 0 \n\t\t\t\t\t? \n\t\t\t\t\t(<List component=\"div\">\n\t\t\t\t\t\t{reader.readerComments.map(comment => \n\t\t\t\t\t\t\t<ListItem key={comment.id} className={classes.listItem}>\n\t\t\t\t\t\t\t\t<ListItemText className={classes.flexGrow} primary={`${comment.comment}`} secondary={`Posted: ${comment.date}`} />\n\t\t\t\t\t\t\t\t<Link to={`/article/${comment.article.id}`}>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={`${comment.article.title}`} classes={{ root: classes.root }} />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>)\n\t\t\t\t\t: (<Typography className={classes.text} variant='subtitle1'>No comments written</Typography>)\n\t\t\t\t}\n\t\t\t</TabPanel>\n\t\t</div>\n\t)\n}\n\nexport default ReaderTabs","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'react-redux'\nimport { Typography, Button } from '@material-ui/core'\nimport { useParams } from 'react-router-dom'\nimport AddFundsDialog from './AddFundsDialog'\nimport ReaderTabs from './ReaderTabs'\n\nconst useStyles = makeStyles({\n\tprofileContaner: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\tinfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 10\n\t},\n\ttext: {\n\t\ttextAlign: 'center',\n\t\tpaddingTop: 50\n\t},\n\ttextGenres: {\n\t\tcolor: 'grey'\n\t},\n\tbalance: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tmarginTop: 5,\n\t\tmarginBottom: 20\n\t},\n\taddFundsButton: {\n\t\tmarginLeft: 10\n\t}\n})\n\nconst ReaderPage = () => {\n\tconst classes = useStyles()\n\tconst [openDialog, setOpenDialog] = useState(false)\n\tconst { id } = useParams()\n\tconst readers = useSelector(state => state.readers)\n\tconst images = useSelector(state => state.readerImages)\n\tconst filteredReader = readers.filter(reader => reader.id === id)[0]\n\tconst date = filteredReader.joined !== undefined ? filteredReader.joined : 'No data'\n\n\tconst filteredImage = images.filter(img => img.reader === id)[0].img.data.data\n\tvar base64 = btoa(new Uint8Array(filteredImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tif (!readers) {\n\t\treturn <p>Loading...</p>\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.profileContaner}>\n\t\t\t\t<img\n\t\t\t\t\twidth=\"200\"\n\t\t\t\t\tsrc={`data:image/jpeg;base64,${base64}`}\n\t\t\t\t/>\n\t\t\t\t<div className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t\t{filteredReader.userName}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<div className={classes.balance}>\n\t\t\t\t\t\t<Typography variant='h6' >\n\t\t\t\t\t\t\tMy funds: {filteredReader.funds} \n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button color='primary' size=\"small\" variant='outlined' id='addFundsButton' className={classes.addFundsButton} onClick={() => setOpenDialog(true)}>\n\t\t\t\t\t\t\tAdd funds\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Typography variant='caption' >\n\t\t\t\t\t\tJoined: {date}\n\t\t\t\t\t</Typography>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ReaderTabs reader={filteredReader} />\n\t\t\t<AddFundsDialog openDialog={openDialog} setOpenDialog={setOpenDialog} reader={filteredReader} />\n\t\t</div>\n\t)\n}\n\nexport default ReaderPage\n\n\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Avatar, ListItemAvatar, ListItemText, ListItemSecondaryAction, ListItem, List, makeStyles, Typography } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%',\n\t\tbackgroundColor: theme.palette.primary.middleGrey,\n\t},\n\tlistItem: {\n\t\tmarginBottom: 10,\n\t\ttextDecoration: 'none',\n\t\t'&:hover': {\n\t\t\tbackgroundColor: theme.palette.primary.hover\n\t\t}\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.primary,\n\t\ttextDecoration: 'none'\n\t},\n\ttextWithPadding: {\n\t\ttextAlign: 'center',\n\t\tpaddingBottom: 20\n\t}\n}))\n\nconst AllWriters = () => {\n\tconst classes = useStyles()\n\tconst writers = useSelector(state => state.writers)\n\tconst writersImages = useSelector(state => state.writerImages)\n\n\tconst imageComp = (id) => {\n\t\tconst filteredWriterImage = writersImages.filter(img => img.writer === id)[0].img.data.data\n\t\tlet encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\t\t\n\t\treturn <Avatar alt=\"Writers Profile Picture\" src={`data:image/jpeg;base64,${encodedWriterImage}`} />\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Typography variant='h3' className={classes.textWithPadding}>All writers</Typography>\n\t\t\t<List className={classes.root}>\n\t\t\t\t{writers.map(writer => (\n\t\t\t\t\t<ListItem key={writer.id} button component={ Link } to={`/author/${writer.id}`} classes={{ hover: classes.hover }} className={classes.listItem}>\n\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t{imageComp(writer.id)}\n\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" display=\"block\" className={classes.text}>\n\t\t\t\t\t\t\t\t\t{writer.firstName} {writer.lastName}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\twriter.writerGenres.map(genre => \n\t\t\t\t\t\t\t\t\t<Typography key={genre} variant=\"caption\" display=\"block\" className={classes.text}>\n\t\t\t\t\t\t\t\t\t\t{genre}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Typography variant=\"caption\" display=\"block\" className={classes.text}>\n\t\t\t\t\t\t\t{writer.writerDescription}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t</ListItem>\t\n\t\t\t\t))}\n\t\t\t</List>\n\t\t</div>\n\t)\n}\n\nexport default AllWriters","import React, {  } from 'react'\nimport { makeStyles, Grid, Card, Typography, CardContent, CardActionArea } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t\tpaddingTop: 20\n\t},\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\ttextAlign: 'center',\n\t\tcolor: theme.palette.text.secondary,\n\t},\n\ttitleText: {\n\t\tcolor: theme.palette.text.grey,\n\t},\n\tinfoText: {\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tcard: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tminHeight: 105\n\t},\n\tactionArea: {\n\t\t'&:hover $focusHighlight': {\n\t\t\topacity: 0.5\n\t\t}\n\t},\n\tfocusHighlight: {\n\t}\n}))\n\nconst WritersDashboard = ({ writer, setComponentToOpen }) => {\n\tconst classes = useStyles()\n\n\tconst totalViews = writer.myarticles.map(article => article.views).reduce((accumulator, currentValue) => accumulator + currentValue, 0)\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid container spacing={2} >\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea onClick={() => setComponentToOpen('articles')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tMy Articles\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.myarticles.length}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea onClick={() => setComponentToOpen('subscribers')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tSubscribers\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.subscribers.length}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea onClick={() => setComponentToOpen('followers')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tFollowers\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.followers.length}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea id='myPricesCardButton' onClick={() => setComponentToOpen('prices')} classes={{ root: classes.actionArea, focusHighlight: classes.focusHighlight }}>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom variant='body2'>\n\t\t\t\t\t\t\t\t\tMy prices, \n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.oneArticlePrice || 0}, {writer.montlySubscriptionPrice || 0}, {writer.yearlySubscriptionPrice || 0}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tTotal Views\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{totalViews}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t</Card>\t\t\t\t\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t<Card variant=\"outlined\" className={classes.card}>\n\t\t\t\t\t\t<CardActionArea>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t<Typography className={classes.titleText} gutterBottom>\n\t\t\t\t\t\t\t\t\tEarnings, \n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography className={classes.infoText} variant='h4'>\n\t\t\t\t\t\t\t\t\t{writer.earnings ? writer.earnings : 0}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</CardActionArea>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t)\n}\n\nexport default WritersDashboard\n","import React from 'react'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\n\nconst useStyles = makeStyles({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n})\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst ArticlesStatistics = ({ articles }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell>Articles</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Type</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Genres</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Views</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Comments</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Published</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{articles.map(article => (\n\t\t\t\t\t\t<TableRow hover key={article.id}>\n\t\t\t\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">{article.title}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.paid === 'yes' ? 'Paid' : 'Free'}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.genres.map(genre => `${genre} `)}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.views}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.comments.length === 0 ? 0 : article.comments.length}</StyledTableCell>\n\t\t\t\t\t\t\t<StyledTableCell align=\"center\">{article.published}</StyledTableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default ArticlesStatistics\n","import React from 'react'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\n\nconst useStyles = makeStyles(theme => ({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextTransform: 'uppercase'\n\t},\n}))\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst WritersFollowers = ({ followers }) => {\n\tconst classes = useStyles()\n\n\tconst followersRows = () => { \n\t\treturn followers.map(follower => (\n\t\t\t<TableRow hover key={follower.id}>\n\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">{follower.userName}</StyledTableCell>\n\t\t\t</TableRow>\n\t\t))\n\t}\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell>Follower username</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{followers.length === 0 \n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<TableRow hover>\n\t\t\t\t\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">No followers</StyledTableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (followersRows())\n\t\t\t\t\t}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default WritersFollowers\n","import React from 'react'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\n\nconst useStyles = makeStyles(theme => ({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.secondary,\n\t\ttextTransform: 'uppercase'\n\t},\n}))\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst WritersSubscribers = ({ subscribers }) => {\n\tconst classes = useStyles()\n\n\tconst subscribersRows = () => { \n\t\treturn subscribers.map(subscription => (\n\t\t\t<TableRow hover key={subscription.id}>\n\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">{subscription.subscriber[0].userName}</StyledTableCell>\n\t\t\t\t<StyledTableCell align=\"center\">{subscription.type.charAt(0).toUpperCase() + subscription.type.slice(1)}</StyledTableCell>\n\t\t\t\t<StyledTableCell align=\"center\">{subscription.startDate.slice(0, -6)} - {subscription.endDate.slice(0, -6)}</StyledTableCell>\n\t\t\t</TableRow>\n\t\t))\n\t}\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell>Subscribers username</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Type</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell align=\"center\">Duration</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{subscribers.length === 0 \n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<TableRow hover>\n\t\t\t\t\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">No subscribers</StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\n\t\t\t\t\t\t\t\t<StyledTableCell align=\"center\"></StyledTableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: (subscribersRows())\n\t\t\t\t\t} \n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default WritersSubscribers\n","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport IconButton from '@material-ui/core/IconButton'\nimport Paper from '@material-ui/core/Paper'\nimport EditIcon from '@material-ui/icons/Edit'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport DoneIcon from '@material-ui/icons/Done'\nimport TextField from '@material-ui/core/TextField'\nimport { updatePricing } from '../../reducers/writersReducer'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\nimport { useCookies } from 'react-cookie'\nimport { removeWriter } from '../../reducers/loginWriterReducer'\nimport { useHistory } from 'react-router-dom'\n\nconst useStyles = makeStyles(theme => ({\n\tmain: {\n\t\tmarginTop: 20\n\t},\n\ttable: {\n\t\tminWidth: 650,\n\t},\n\ttext: {\n\t\tcolor: theme.palette.text.primary,\n\t\ttextTransform: 'uppercase'\n\t},\n\tcell: {\n\t\tflexGrow: 1\n\t},\n\tinputColor: {\n\t\tcolor: '#000'\n\t},\n}))\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.text.primary\n\t},\n\tbody: {\n\t\tbackgroundColor: theme.palette.primary.lightGrey,\n\t\tcolor: theme.palette.text.secondary,\n\t\tfontSize: 14,\n\t},\n}))(TableCell)\n\nconst CustomTableCell = ({ isEditMode, value, name, onChange }) => {\n\tconst classes = useStyles()\n\treturn (\n\t\t<StyledTableCell align=\"center\">\n\t\t\t{isEditMode ? (\n\t\t\t\t<TextField\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tname={name}\n\t\t\t\t\tid={`priceInput-${name}`}\n\t\t\t\t\tonChange={e => onChange(e)}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t}}\n\t\t\t\t\tstyle = {{ width: 100 }}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\tvalue\n\t\t\t)}\n\t\t</StyledTableCell>\n\t)\n}\n\nconst WritersPrices = ({ writer }) => {\n\tconst classes = useStyles()\n\tconst dispatch = useDispatch()\n\tconst [isEditMode, setssEditMode] = useState(false)\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['writerAuthCookie'])\n\tconst history = useHistory()\n\n\tconst [priceList, setSriceList] = useState({\n\t\t'oneArticlePrice': writer.oneArticlePrice || 0,\n\t\t'montlySubscriptionPrice': writer.montlySubscriptionPrice || 0,\n\t\t'yearlySubscriptionPrice': writer.yearlySubscriptionPrice || 0\n\t})\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tawait dispatch(updatePricing(priceList, writer))\n\t\t\tdispatch(notifySuccess('Prices updated'))\n\t\t\tsetssEditMode(false)\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeWriter())\n\t\t\t\tremoveCookie('writerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/writerssection/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleCancel = () => {\n\t\tsetSriceList({\n\t\t\t'oneArticlePrice': writer.oneArticlePrice,\n\t\t\t'montlySubscriptionPrice': writer.montlySubscriptionPrice,\n\t\t\t'yearlySubscriptionPrice': writer.yearlySubscriptionPrice\n\t\t})\n\t\tsetssEditMode(false)\n\t}\n\t\n\tconst onChange = (event) => {\n\t\tsetSriceList({ ...priceList, [event.target.name]: Number(event.target.value) })\n\t}\n\n\treturn (\n\t\t<TableContainer component={Paper} className={classes.main}>\n\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<StyledTableCell width=\"25%\">Subscriptions</StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"20%\" align=\"center\">1 Article, </StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"20%\" align=\"center\">1 Month, </StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"20%\" align=\"center\">1 Year, </StyledTableCell>\n\t\t\t\t\t\t<StyledTableCell width=\"15%\"></StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow hover>\n\t\t\t\t\t\t<StyledTableCell width=\"25%\" component=\"th\" scope=\"row\">Price</StyledTableCell>\n\t\t\t\t\t\t<CustomTableCell width=\"20%\" {...{ isEditMode, value: priceList.oneArticlePrice, name: 'oneArticlePrice', onChange }} />\n\t\t\t\t\t\t<CustomTableCell width=\"20%\" {...{ isEditMode, value: priceList.montlySubscriptionPrice, name: 'montlySubscriptionPrice', onChange }} />\n\t\t\t\t\t\t<CustomTableCell width=\"20%\" {...{ isEditMode, value: priceList.yearlySubscriptionPrice, name: 'yearlySubscriptionPrice', onChange }} />\n\t\t\t\t\t\t<StyledTableCell width=\"15%\" align=\"right\">\n\t\t\t\t\t\t\t{isEditMode ? (\n\t\t\t\t\t\t\t\t<div className={classes.editMode}>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-label=\"done\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleSubmit()}\n\t\t\t\t\t\t\t\t\t\tid='confirmChangedPricesButton'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<DoneIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\taria-label=\"cancel\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleCancel()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tid='editPricesButton'\n\t\t\t\t\t\t\t\t\taria-label=\"delete\"\n\t\t\t\t\t\t\t\t\tonClick={() => setssEditMode(true)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EditIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n\nexport default WritersPrices\n","import React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles, Typography, List } from '@material-ui/core'\nimport WritersDashboard from './WritersDashboard'\nimport ArticlesStatistics from './ArticlesStatistics'\nimport WritersFollowers from './WritersFollowers'\nimport WritersSubscribers from './WritersSubscribers'\nimport WritersPrices from './WritersPrices'\nimport { useParams } from 'react-router-dom'\n\nconst useStyles = makeStyles({\n\tprofileContaner: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n\tinfoContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\tjustifyContent: 'flex-start',\n\t\tpaddingLeft: 10\n\t},\n\tgenresList: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'flex-start',\n\t},\n})\n\nconst WriterAdminPage = () => {\n\tconst classes = useStyles()\n\tconst { id } = useParams()\n\tconst writers = useSelector(state => state.writers)\n\tconst writersImages = useSelector(state => state.writerImages)\n\t\n\tconst loggedInWritter = writers.filter(writer => writer.id === id)[0]\n\n\tconst [componentToOpen, setComponentToOpen] = useState('articles')\n\n\tconst filteredWriterImage = writersImages.filter(img => img.writer === id)[0].img.data.data\n\tvar encodedWriterImage = filteredWriterImage && btoa(new Uint8Array(filteredWriterImage).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n\n\tconst tabToOpen = () => {\n\t\tswitch (componentToOpen) {\n\t\tcase 'articles':\n\t\t\treturn <ArticlesStatistics articles={loggedInWritter.myarticles} />\n\t\tcase 'followers':\n\t\t\treturn <WritersFollowers followers={loggedInWritter.followers} />\n\t\tcase 'subscribers':\n\t\t\treturn <WritersSubscribers subscribers={loggedInWritter.subscribers} />\n\t\tcase 'prices':\n\t\t\treturn <WritersPrices writer={loggedInWritter} />\t\t\n\t\tdefault:\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className={classes.profileContaner}>\n\t\t\t\t<img\n\t\t\t\t\twidth=\"200\"\n\t\t\t\t\tsrc={`data:image/jpeg;base64,${encodedWriterImage}`}\n\t\t\t\t/>\n\t\t\t\t<div className={classes.infoContainer}>\n\t\t\t\t\t<Typography variant='h4'>\n\t\t\t\t\t\t{loggedInWritter.firstName} {loggedInWritter.lastName}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant='body1'>\n\t\t\t\t\t\t{loggedInWritter.writerDescription}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<List className={classes.genresList}>\n\t\t\t\t\t\t{loggedInWritter.writerGenres.map(genre => \n\t\t\t\t\t\t\t<Typography key={genre} variant='body2'>\n\t\t\t\t\t\t\t\t{`${genre}.`}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t)}\t\n\t\t\t\t\t</List>\n\t\t\t\t\t<Typography variant='caption'>\n\t\t\t\t\t\t{loggedInWritter.joined}\n\t\t\t\t\t</Typography>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<WritersDashboard writer={loggedInWritter} setComponentToOpen={setComponentToOpen} />\n\t\t\t{tabToOpen()}\t\t\t\n\t\t</div>\n\t)\n}\n\nexport default WriterAdminPage\n","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/images/articles`\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst getOne = async (id) => {\n\tconst response = await axios.get(`${baseUrl}/${id}`)\n\treturn response.data\n}\n\nconst create = async (newImage) => {\n\tconst response = await axios.post(baseUrl, newImage)\n\treturn response.data\n}\n\nexport default { getAll, getOne, create }","import articleImagesService from '../services/articleImages'\n\nconst artcileImagesReducer = (state = [], action) => {\n\tswitch(action.type) {\n\tcase 'INIT_ARTICLES_IMAGES':\n\t\treturn action.data\n\tcase 'ADD_ARTICLE_IMAGE':\n\t\treturn state.concat(action.data)\n\tdefault:\n\t\treturn state\n\t}\n}\n\nexport const initArticleImages = () => {\n\treturn async dispatch => {\n\t\tconst images = await articleImagesService.getAll()\n\t\tdispatch ({\n\t\t\ttype: 'INIT_ARTICLES_IMAGES',\n\t\t\tdata: images\n\t\t})\n\t}\n}\n\nexport const addArticleImage = (newImage) => {\n\treturn async dispatch => {\n\t\tdispatch ({\n\t\t\ttype: 'ADD_ARTICLE_IMAGE',\n\t\t\tdata: newImage\n\t\t})\n\t}\n}\n\n\nexport default artcileImagesReducer","import React from 'react'\nimport { Formik, Field, FieldArray } from 'formik'\nimport { useSelector, useDispatch } from 'react-redux'\nimport * as yup from 'yup'\nimport { makeStyles, FormControl, Typography, FormControlLabel, FormGroup, Button, Radio, IconButton } from '@material-ui/core'\nimport { RadioGroup, CheckboxWithLabel, TextField } from 'formik-material-ui'\nimport AddIcon from '@material-ui/icons/Add'\nimport RemoveIcon from '@material-ui/icons/Remove'\nimport { newsCategories } from '../../data/data'\nimport { createArticle } from '../../reducers/articlesReducer'\nimport { addArticleToWriter } from '../../reducers/writersReducer'\nimport { useHistory } from 'react-router-dom'\nimport articlesService from '../../services/articles'\nimport articleImagesService from '../../services/articleImages'\nimport { notifyError, notifySuccess } from '../../reducers/notificationReducer'\nimport { addArticleImage } from '../../reducers/articleImagesReducer'\nimport { useCookies } from 'react-cookie'\nimport { removeWriter } from '../../reducers/loginWriterReducer'\nimport UploadComponent from '../UploadComponent'\n\nconst useStyles = makeStyles(theme => ({\n\tinputColor:{\n\t\tcolor: theme.palette.text.secondary\n\t},\n\tloginText: {\n\t\ttextAlign: 'center',\n\t\tmarginBottom: 30\n\t},\n\tcontainer: {\n\t\tmarginTop: 200,\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\theight: '80vh',\n\t},\n\titem: {\n\t\tmaxWidth: 600,\n\t\tborderColor: theme.palette.primary.main,\n\t\tborderRadius: 10,\n\t\tborderWidth: 1,\n\t\tborderStyle: 'solid',\n\t\tbackground: theme.palette.primary.lightGrey\n\t},\n\tform: {\n\t\tmargin: 30\n\t},\n\tpaddings: {\n\t\tmarginBottom: 20\n\t},\n\tbutton: {\n\t\tdisplay: 'block',\n\t\tmarginLeft: 'auto',\n\t\tmarginRight: 'auto',\n\t},\n\tpriceContainer: {\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'row'\n\t},\n\tpriceItem: {\n\t\tmarginRight: 5\n\t},\n\tradioGroup: {\n\t\tdisplay: 'inline-block'\n\t},\n\tformControl: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tmarginTop: 10,\n\t\tmarginBottom: 10,\n\t},\n\tcheckBoxMargins: {\n\t\tmarginRight: 0,\n\t\tmarginLeft: 0\n\t},\n\tcontentField: {\n\t\tmarginBottom: 15\n\t}\n}))\n\nconst initialValues = {\n\ttitle: '',\n\tcontent: [],\n\tgenres: [],\n\tpaid: 'no',\n\tfiles: []\n}\n\nconst validationSchema = yup.object().shape({\n\ttitle: yup.string()\n\t\t.min(10, 'Too Short')\n\t\t.max(100, 'Too Long')\n\t\t.required('Required'),\n\tcontent: yup.array()\n\t\t.min(1, 'At least one paragraph required')\n\t\t.of(yup.string().min(50, 'Too Short')),\n\tgenres: yup.array()\n\t\t.min(1, 'Check at least one category'),\n\tpaid: yup.mixed()\n\t\t.oneOf(['yes', 'no']),\n\tfiles:  yup.array()\n\t\t.min(1, 'One image required')\n})\n\nconst NewArticleForm = ({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.item}>\n\t\t\t\t<Typography variant='h4' style={{ textAlign: 'center', marginTop: 20 }}>Create an article</Typography>\n\t\t\t\t<form onSubmit={handleSubmit} className={classes.form}>\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Title</Typography>\n\t\t\t\t\t<Field\n\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\tvalue={values.title}\n\t\t\t\t\t\terror={touched.title && Boolean(errors.title)}\n\t\t\t\t\t\thelperText={touched.title && errors.title}\n\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tclassName={classes.paddings}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Content</Typography>\n\t\t\t\t\t<FieldArray\n\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\trender={({ pop, push }) => (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{values.content.map((paragraph, index) => (\n\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tcomponent={TextField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={paragraph.index}\n\t\t\t\t\t\t\t\t\t\t\tlabel={`Paragraph ${index + 1}`}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tname={`content.${index}`}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tid={`paragraphInput-${index}`}\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.contentField}\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: classes.inputColor\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{errors.content &&\terrors.content[index] && touched.content && touched.content[index]}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<IconButton id='addParagraphButton' color=\"primary\" size='small' aria-label=\"upload picture\" component=\"span\" onClick={() => push('')}>\n\t\t\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t<IconButton className={classes.minusItem} color=\"primary\" aria-label=\"upload picture\" size='small' component=\"span\" onClick={pop}>\n\t\t\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl component=\"fieldset\" className={classes.formControl}>\n\t\t\t\t\t\t<Typography variant='h6'>Categories</Typography>\n\t\t\t\t\t\t{errors.genres && touched.genres && \n\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.genres}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<FormGroup row>\n\t\t\t\t\t\t\t{newsCategories.map(categoryValue =>\n\t\t\t\t\t\t\t\t<FormControlLabel classes={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\tkey={categoryValue}\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\tcomponent={CheckboxWithLabel}\n\t\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.checkBoxMargins }}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"genres\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={categoryValue}\n\t\t\t\t\t\t\t\t\t\t\tLabel={{ label: `${categoryValue}` }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Paid</Typography>\n\t\t\t\t\t<Field component={RadioGroup} name=\"paid\" row defaultValue='no' className={classes.formControl}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue=\"yes\"\n\t\t\t\t\t\t\tcontrol={<Radio/>}\n\t\t\t\t\t\t\tlabel=\"Yes\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tvalue=\"no\"\n\t\t\t\t\t\t\tcontrol={<Radio />}\n\t\t\t\t\t\t\tlabel=\"No\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Typography variant='h6' className={classes.formControl}>Cover photo</Typography>\n\t\t\t\t\t<div className={classes.formControl}>\n\t\t\t\t\t\t{errors.files && touched.files && \n\t\t\t\t\t\t\t\t<Typography variant='caption' style={{ color: '#f44336' }}>{errors.files}</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<UploadComponent setFieldValue={setFieldValue} values={values} />\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" type=\"submit\" className={classes.button}>\n                        Publish\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst NewArticle = () => {\n\tconst history = useHistory()\n\tconst writer = useSelector(state => state.writer)\n\tconst dispatch = useDispatch()\n\t// eslint-disable-next-line no-unused-vars\n\tconst [cookies, setCookie, removeCookie] = useCookies(['writerAuthCookie'])\n\n\n\tconst handleSubmit = async (values) => {\n\t\ttry {\n\t\t\tconst data = new FormData() \n\t\t\tdata.append('file', values.files[0])\n\t\t\tconst imageFromDb = await articleImagesService.create(data)\n\n\t\t\tconst itemForArticleDb = { ...values, imageId: imageFromDb.id }\n\t\t\tconst articleFromDb = await articlesService.create(itemForArticleDb)\n\t\t\t\n\t\t\tconst imageForDispatch = { ...imageFromDb, article: articleFromDb.id }\n\t\t\tawait dispatch(addArticleImage(imageForDispatch))\n\t\t\tawait dispatch(createArticle(articleFromDb))\n\t\t\tawait dispatch(addArticleToWriter(articleFromDb))\n\t\t\tdispatch(notifySuccess('Article created'))\n\t\t\thistory.push(`/writerssection/profile/${writer.id}`)\n\t\t} catch (error) {\n\t\t\tconsole.log('error response', error.response)\n\t\t\tif (error.response.statusText === 'Unauthorized' && error.response.data.error === 'token expired') {\n\t\t\t\tdispatch(notifyError('You session has expired. Please login again'))\n\t\t\t\tdispatch(removeWriter())\n\t\t\t\tremoveCookie('writerAuthCookie', { path: '/' })\n\t\t\t\thistory.push('/writerssection/login')\n\t\t\t} else {\n\t\t\t\tdispatch(notifyError('An error occurred. Please try again'))\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Formik\n\t\t\t\tinitialValues={initialValues}\n\t\t\t\tvalidationSchema={validationSchema}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{({ values, errors, touched, handleChange, handleBlur, handleSubmit, setFieldValue }) => \n\t\t\t\t\t<NewArticleForm \n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\terrors={errors}\n\t\t\t\t\t\ttouched={touched}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\thandleBlur={handleBlur}\n\t\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\t\tsetFieldValue={setFieldValue}\n\t\t\t\t\t/>}\n\t\t\t</Formik>\n\t\t</div>\n\t)\n}\n\nexport default NewArticle","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/subscriptions`\n\n\nconst getAll = async () => {\n\tconst response = await axios.get(baseUrl)\n\treturn response.data\n}\n\nconst deleteMany = async (array) => {\n\tconst response = await  axios.delete(baseUrl, { data: array })\n\treturn response.data\n}\n\nexport default { getAll, deleteMany }","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/reader/refresh`\n\n\nconst refreshReader = async (readerId) => {\n\tconst response = await axios.post(baseUrl, readerId)\n\treturn response.data\n}\n\nexport default { refreshReader }","import axios from 'axios'\nconst baseUrl = `${process.env.REACT_APP_BASE_URL}/api/writer/refresh`\n\n\nconst refreshWriter = async (writerId) => {\n\tconst response = await axios.post(baseUrl, writerId)\n\treturn response.data\n}\n\nexport default { refreshWriter }","import React, { useEffect } from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Container  from '@material-ui/core/Container'\n\nimport Navbar from './components/Navigation/Navbar'\nimport ArticlesList from './components/ArticlesList/ArticlesList'\nimport ArticlePage from './components/ArticlePage/ArticlePage'\nimport WriterPage from './components/WriterPage'\nimport SignUpWriter from './components/WriterSection/SignUpWriter'\nimport LoginReader from './components/LoginReader'\nimport SnackBar from './components/SnackBar'\nimport LoginWriter from './components/WriterSection/LoginWriter'\nimport SignUpReader from './components/SignUpReader'\nimport ReaderPage from './components/ReaderPage/ReaderPage'\nimport AllWriters from './components/AllWriters'\nimport WriterAdminPage from './components/WriterSection/WriterAdminPage'\nimport NewArticle from './components/WriterSection/NewArticle'\n\nimport { initArticles } from './reducers/articlesReducer'\nimport { initWriters, removeSubsFromWriters } from './reducers/writersReducer'\nimport { initReaders, removeSubsFromReaders } from './reducers/readersReducer'\nimport { initArticleImages } from './reducers/articleImagesReducer'\nimport { initWriterImages } from './reducers/writerImagesReducer'\nimport { initReaderImages } from './reducers/readerImagesReducer'\n\nimport subscriptionService from './services/subscriptions'\nimport readerRefreshServices from './services/readerRefresh'\nimport writerRefreshServices from './services/writerRefresh'\n\nconst App = () => {\n\tconst dispatch = useDispatch()\n\tconst reader = useSelector(state => state.reader)\n\tconst writer = useSelector(state => state.writer)\n\n\tuseEffect(() => {\n\t\tasync function getAllArticles() {\n\t\t\tawait dispatch(initArticles())\n\t\t}\n\t\tgetAllArticles()\n\t})\n\n\tuseEffect(() => {\n\t\tasync function getAllWriters() {\n\t\t\tawait dispatch(initWriters())\n\t\t}\n\t\tgetAllWriters()\n\t})\n\t\n\tuseEffect(() => {\n\t\tasync function getAllReaders() {\n\t\t\tawait dispatch(initReaders())\n\t\t}\n\t\tgetAllReaders()\n\t})\n\n\tuseEffect(() => {\n\t\tasync function getAllImages() {\n\t\t\tawait dispatch(initArticleImages())\n\t\t}\n\t\tgetAllImages()\n\t})\n\t\n\tuseEffect(() => {\n\t\tasync function getAllImages() {\n\t\t\tawait dispatch(initWriterImages())\n\t\t}\n\t\tgetAllImages()\n\t})\n\t\n\tuseEffect(() => {\n\t\tasync function getAllImages() {\n\t\t\tawait dispatch(initReaderImages())\n\t\t}\n\t\tgetAllImages()\n\t})\n\n\tconst getSubs = async () => {\t\n\t\tconst twoHours = 7200000\n\t\tconst subs = await subscriptionService.getAll()\t\n\t\tconst currentTime = Date.now() + twoHours\n\t\tconst subsToDelete = subs.filter(sub => sub.expirationDate < currentTime)\t\n\t\tif (subsToDelete.length > 0) {\n\t\t\tconst subsIds = subsToDelete.map(sub => sub.id)\n\t\t\tawait subscriptionService.deleteMany(subsToDelete)\n\t\t\tdispatch(removeSubsFromWriters(subsIds))\n\t\t\tdispatch(removeSubsFromReaders(subsIds))\n\t\t}\n\t}\n\n\tconst refreshReader = async () => {\t\n\t\tconst idForService = { id: reader.id }\n\t\tawait readerRefreshServices.refreshReader(idForService)\n\t}\n\n\tconst refreshWriter = async () => {\t\n\t\tconst idForService = { id: writer.id }\n\t\tawait writerRefreshServices.refreshWriter(idForService)\n\t}\n\t\n\tsetInterval(() => {\n\t\tgetSubs()\n\t}, 60 * 1000)\n\n\tsetInterval(() => {\n\t\tif (reader) {\n\t\t\trefreshReader()\n\t\t}\n\t\tif (writer) {\n\t\t\trefreshWriter()\n\t\t}\n\t}, 60 * 1000)\n\t\n\n\treturn (\n\t\t<Router>\n\t\t\t<Navbar />\n\t\t\t<Container>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path='/article/:id'>\n\t\t\t\t\t\t<ArticlePage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/genres/:genre'>\n\t\t\t\t\t\t<ArticlesList />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/search/:searchResult'>\n\t\t\t\t\t\t<ArticlesList />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/author/:author'>\n\t\t\t\t\t\t<WriterPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/reader/login'>\n\t\t\t\t\t\t<LoginReader />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/reader/signup'>\n\t\t\t\t\t\t<SignUpReader />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/reader/profile/:id'>\n\t\t\t\t\t\t<ReaderPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/signup'>\n\t\t\t\t\t\t<SignUpWriter />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/login'>\n\t\t\t\t\t\t<LoginWriter />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/profile/:id'>\n\t\t\t\t\t\t<WriterAdminPage />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/writerssection/newarticle'>\n\t\t\t\t\t\t<NewArticle />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/allwriters'>\n\t\t\t\t\t\t<AllWriters />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path='/'>\n\t\t\t\t\t\t<ArticlesList />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</Container>\n\t\t\t<SnackBar />\n\t\t</Router>\n\t)\n}\n\nexport default App\n\n// TODO Confirm paying for one paid article\n\n// TODO After new writer or article is added name is not showing up\n// TODO snackbar messages randomly showing up\n\n// TODO fix file structure\n// TODO add dummy data for project\n\n// TODO readme description\n\n","import { configureStore } from '@reduxjs/toolkit'\nimport articlesReducer from './reducers/articlesReducer'\nimport writersReducer from './reducers/writersReducer'\nimport loginWriterReducer from './reducers/loginWriterReducer'\nimport loginReaderReducer from './reducers/loginReaderReducer'\nimport readersReducer from './reducers/readersReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport artcileImagesReducer from './reducers/articleImagesReducer'\nimport writerImagesReducer from './reducers/writerImagesReducer'\nimport readerImagesReducer from './reducers/readerImagesReducer'\nimport thunk from 'redux-thunk'\nimport { combineReducers } from 'redux' \nimport storage from 'redux-persist/lib/storage'\nimport { persistReducer } from 'redux-persist'\n\nconst reducers = combineReducers({\n\tarticles: articlesReducer,\n\twriter: loginWriterReducer,\n\twriters: writersReducer,\n\treader: loginReaderReducer,\n\treaders: readersReducer,\n\tnotification: notificationReducer,\n\tarticleImages: artcileImagesReducer,\n\twriterImages: writerImagesReducer,\n\treaderImages: readerImagesReducer\n})\n\nconst persistConfig = {\n\tkey: 'root',\n\tstorage\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducers)\n\n\nexport default configureStore({\n\treducer: persistedReducer,\n\tmiddleware: [thunk]\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport theme from './theme'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { CookiesProvider } from 'react-cookie'\n\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { persistStore } from 'redux-persist'\nlet persistor = persistStore(store)\n\nReactDOM.render(\n\t// <React.StrictMode>\n\t<Provider store={store}>\n\t\t<PersistGate loading={ <p>Loading...</p> } persistor={persistor}>\n\t\t\t<CookiesProvider>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<App />\n\t\t\t\t</ThemeProvider>\n\t\t\t</CookiesProvider>\n\t\t</PersistGate>\n\t</Provider>,\n\t// </React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}